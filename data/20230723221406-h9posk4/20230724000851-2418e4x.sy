{"ID":"20230724000851-2418e4x","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f34f","id":"20230724000851-2418e4x","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230724000851-2418e4x\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230724000858-y03a4dq\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230724000858-a28libn\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230724000858-y03a4dq\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","tags":"计算机网络面试问题,计算机网络握手,TCP","title":"握手为什么是三次、挥手为什么是四次","updated":"20230724000911"},"Children":[{"ID":"20230724000858-y03a4dq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724000858-y03a4dq","updated":"20230724000858"},"Children":[{"Type":"NodeText","Data":"握手为什么是三次、挥手为什么是四次"}]},{"ID":"20230724000858-r88bpsa","Type":"NodeParagraph","Properties":{"id":"20230724000858-r88bpsa","updated":"20230724000858"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"TCP 握手和挥手的过程是由 TCP 协议来定义的，而其中握手需要三次、挥手需要四次的原因是这两个过程在目的和设计上有所不同。"}]},{"ID":"20230724000858-39x3cex","Type":"NodeParagraph","Properties":{"id":"20230724000858-39x3cex","updated":"20230724000858"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"TCP 三次握手的主要目的是建立连接并同步序列号。在客户端发送 SYN 数据包后，服务器接收到该数据包并返回 SYN+ACK 数据包，以确认双方准备好建立连接。然后客户端再发送 ACK 数据包表示对服务器的响应，此时连接进入运行状态。"}]},{"ID":"20230724000858-cwinqrg","Type":"NodeParagraph","Properties":{"id":"20230724000858-cwinqrg","updated":"20230724000858"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"TCP 四次挥手的主要目的是关闭连接并发送最后一个确认消息。在客户端发送 FIN 数据包后，服务器接收到该数据包并发送 ACK 数据包表示确认收到。然后服务器发送 FIN+ACK 数据包表示自己也准备好关闭连接了。最后，客户端再发送 ACK 数据包表示对服务器的响应，此时连接才真正关闭。"}]},{"ID":"20230724000858-zpa14b8","Type":"NodeParagraph","Properties":{"id":"20230724000858-zpa14b8","updated":"20230724000858"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要注意的是，TCP 协议使用四次挥手是因为需要双方都确认对方已经准备好关闭连接，并且需要确保双方发送和接收到的所有数据都得以处理完毕。如果只使用三次挥手，则可能会导致某一方无法正常处理还未完成传输的数据，从而导致数据丢失或者断开连接不干净。"}]},{"ID":"20230724000858-a28libn","Type":"NodeParagraph","Properties":{"id":"20230724000858-a28libn","updated":"20230724000858"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"总之，TCP 三次握手和四次挥手都是为了确保通信双方在开始和结束传输时都能相互确认并做出相应的处理，以保证稳定可靠的连接和数据传输。"}]}]}