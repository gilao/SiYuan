{"ID":"20230724002446-goqygp4","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f468-200d-1f373","id":"20230724002446-goqygp4","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230724002446-goqygp4\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230724002458-2ia516e\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230724002458-ibuo5ty\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230724002458-9lis87p\u0026quot;,\u0026quot;focusStart\u0026quot;:40,\u0026quot;focusEnd\u0026quot;:40\u0026#125;","tags":"HTTP,计算机网络面试问题","title":"HTTPS 请求过程和原理","updated":"20230724002458"},"Children":[{"ID":"20230724002458-2ia516e","Type":"NodeParagraph","Properties":{"id":"20230724002458-2ia516e","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"HTTPS的工作流程的几个要点："},{"Type":"NodeTextMark","TextMarkType":"mark strong","TextMarkTextContent":"公私钥、数字证书、加密、对称加密、非对称加密"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"。"}]},{"ID":"20230724002458-sdz2qs7","Type":"NodeList","ListData":{},"Properties":{"id":"20230724002458-sdz2qs7","updated":"20230724002458"},"Children":[{"ID":"20230724002458-wt01jre","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-wt01jre","updated":"20230724002458"},"Children":[{"ID":"20230724002458-5k0yn5p","Type":"NodeParagraph","Properties":{"id":"20230724002458-5k0yn5p","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"HTTPS = HTTP + SSL/TLS，也就是用 SSL/TLS 对数据进行加密和解密，Http 进行传输。"}]}]},{"ID":"20230724002458-kmls81d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-kmls81d","updated":"20230724002458"},"Children":[{"ID":"20230724002458-xz4y8ks","Type":"NodeParagraph","Properties":{"id":"20230724002458-xz4y8ks","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SSL，即 Secure Sockets Layer（安全套接层协议），是网络通信提供安全及数据完整性的一"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"种安全协议。"}]}]},{"ID":"20230724002458-h2ek05h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-h2ek05h","updated":"20230724002458"},"Children":[{"ID":"20230724002458-hw7e7bw","Type":"NodeParagraph","Properties":{"id":"20230724002458-hw7e7bw","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"TLS，即 Transport Layer Security(安全传输层协议)，它是 SSL3.0 的后续版本。"}]}]}]},{"ID":"20230724002458-h9o4n6d","Type":"NodeParagraph","Properties":{"id":"20230724002458-h9o4n6d","updated":"20230724002458"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"1648344509841-0dbfbde5-b112-4ad0-9e7e-22e533219d29"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"file://E:\\Typora%20picture\\1648344509841-0dbfbde5-b112-4ad0-9e7e-22e533219d29.png?lastModify=1690129493"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230724002458-b2m7ueq","Type":"NodeParagraph","Properties":{"id":"20230724002458-b2m7ueq","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Https 工作流程"}]},{"ID":"20230724002458-mnnigqg","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230724002458-mnnigqg","updated":"20230724002458"},"Children":[{"ID":"20230724002458-n0f02i2","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230724002458-n0f02i2","updated":"20230724002458"},"Children":[{"ID":"20230724002458-vle6dsm","Type":"NodeParagraph","Properties":{"id":"20230724002458-vle6dsm","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"客户端发起 Https 请求，连接到服务器的 443 端口。"}]}]},{"ID":"20230724002458-4lwx6ki","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230724002458-4lwx6ki","updated":"20230724002458"},"Children":[{"ID":"20230724002458-qs07cf5","Type":"NodeParagraph","Properties":{"id":"20230724002458-qs07cf5","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"服务器必须要有一套数字证书（证书内容有公钥、证书颁发机构、失效日期等）。"}]}]},{"ID":"20230724002458-6054eax","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230724002458-6054eax","updated":"20230724002458"},"Children":[{"ID":"20230724002458-exyrgto","Type":"NodeParagraph","Properties":{"id":"20230724002458-exyrgto","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"服务器将自己的数字证书发送给客户端（公钥在证书里面，私钥由服务器持有）。"}]}]},{"ID":"20230724002458-4qbxcwa","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20230724002458-4qbxcwa","updated":"20230724002458"},"Children":[{"ID":"20230724002458-m9a2u7t","Type":"NodeParagraph","Properties":{"id":"20230724002458-m9a2u7t","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"客户端收到数字证书之后，会验证证书的合法性。如果证书验证通过，就会生成一个随机的对称密钥，用证书的公钥加密。"}]}]},{"ID":"20230724002458-8h2ywq9","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NS4=","Num":5},"Properties":{"id":"20230724002458-8h2ywq9","updated":"20230724002458"},"Children":[{"ID":"20230724002458-ndvdhth","Type":"NodeParagraph","Properties":{"id":"20230724002458-ndvdhth","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"客户端将公钥加密后的密钥发送到服务器。"}]}]},{"ID":"20230724002458-tb0luxi","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ni4=","Num":6},"Properties":{"id":"20230724002458-tb0luxi","updated":"20230724002458"},"Children":[{"ID":"20230724002458-lqpdjqe","Type":"NodeParagraph","Properties":{"id":"20230724002458-lqpdjqe","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"服务器接收到客户端发来的密文密钥之后，用自己之前保留的私钥对其进行非对称解密，解密之后就得到客户端的密钥，然后用客户端密钥对返回数据进行对称加密，酱紫传输的数据都是密文啦。"}]}]},{"ID":"20230724002458-gi87hed","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ny4=","Num":7},"Properties":{"id":"20230724002458-gi87hed","updated":"20230724002458"},"Children":[{"ID":"20230724002458-zepmgzu","Type":"NodeParagraph","Properties":{"id":"20230724002458-zepmgzu","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"服务器将加密后的密文返回到客户端。"}]}]},{"ID":"20230724002458-vynkzuz","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"OC4=","Num":8},"Properties":{"id":"20230724002458-vynkzuz","updated":"20230724002458"},"Children":[{"ID":"20230724002458-2v8wt4t","Type":"NodeParagraph","Properties":{"id":"20230724002458-2v8wt4t","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"客户端收到后，用自己的密钥对其进行对称解密，得到服务器返回的数据。"}]}]}]},{"ID":"20230724002458-v4ui3ao","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724002458-v4ui3ao","updated":"20230724002458"},"Children":[{"Type":"NodeText","Data":"SSL 安全套接字层协议作用"}]},{"ID":"20230724002458-x9dr1m5","Type":"NodeParagraph","Properties":{"id":"20230724002458-x9dr1m5","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"作用是建立安全连接，能和多个应用层协议协和使用保证安全传输。"}]},{"ID":"20230724002458-ibuo5ty","Type":"NodeList","ListData":{},"Properties":{"id":"20230724002458-ibuo5ty","updated":"20230724002458"},"Children":[{"ID":"20230724002458-2tlfkk6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-2tlfkk6","updated":"20230724002458"},"Children":[{"ID":"20230724002458-8gr35jv","Type":"NodeParagraph","Properties":{"id":"20230724002458-8gr35jv","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"记录协议：接收消息并处理，然后将处理过的消息继续传递。包括加解密、解压缩、分段重组等。"}]}]},{"ID":"20230724002458-55p7ik6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-55p7ik6","updated":"20230724002458"},"Children":[{"ID":"20230724002458-fx96gn1","Type":"NodeParagraph","Properties":{"id":"20230724002458-fx96gn1","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"握手协议：建立在三次握手之后，为建立安全连接提供参数并进行双方的真实性认证。"}]}]},{"ID":"20230724002458-srs4r1e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-srs4r1e","updated":"20230724002458"},"Children":[{"ID":"20230724002458-ylo3isf","Type":"NodeParagraph","Properties":{"id":"20230724002458-ylo3isf","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"警告协议：规定可能出现的错误等级和应对方式。"}]}]},{"ID":"20230724002458-gsr03ch","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230724002458-gsr03ch","updated":"20230724002458"},"Children":[{"ID":"20230724002458-9lis87p","Type":"NodeParagraph","Properties":{"id":"20230724002458-9lis87p","updated":"20230724002458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"密码规范改变协议：在握手结束前发送，通知对方在之后的消息中使用商量好的加密算法。"}]}]}]}]}