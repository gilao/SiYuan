{"ID":"20240526234623-iaq11y1","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f48e","id":"20240526234623-iaq11y1","title":"参数规则","type":"doc","updated":"20240526234707"},"Children":[{"ID":"20240526234644-yu47myt","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240526234644-yu47myt","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"参数接收规则"}]},{"ID":"20240526234644-zlwyrfe","Type":"NodeParagraph","Properties":{"id":"20240526234644-zlwyrfe","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"在 api 描述语言中，我们可以通过在 tag 中来声明参数接收规则，目前 go-zero 支持的参数接收规则如下："}]},{"ID":"20240526234644-h8br4vt","Type":"NodeTable","TableAligns":[0,0,0,0],"Properties":{"colgroup":"|||","id":"20240526234644-h8br4vt","updated":"20240526234644"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"接收规则"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"生效范围"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"示例"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"json"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"json 序列化"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"请求体\u0026响应体"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"json:\u0026quot;foo\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"path"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"路由参数"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"请求体"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"path:\u0026quot;id\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"form"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"post 请求的表单(支持 content-type 为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"form-data"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"x-www-form-urlencoded"},{"Type":"NodeText","Data":"​) 参数请求接收标识，get 请求的 query 参数接收标识"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"请求体"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"form:\u0026quot;name\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"header"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"http 请求体接收标识"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"请求体"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"header:\u0026quot;Content-Length\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240526234644-37exf9y","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240526234644-37exf9y","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"温馨提示"}]},{"ID":"20240526234644-lsf3o3y","Type":"NodeParagraph","Properties":{"id":"20240526234644-lsf3o3y","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"go-zero 中不支持多 tag 来接收参数，即一个字段只能有一个 tag，如下写法可能会导致参数接收不到："}]},{"ID":"20240526234644-pd5ou9s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240526234644-pd5ou9s","updated":"20240526234644"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28="},{"Type":"NodeCodeBlockCode","Data":"type Foo {\n    Name string `json:\"name\" form:\"name\"`\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240526234644-ycb1bry","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240526234644-ycb1bry","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"参数校验规则"}]},{"ID":"20240526234644-c7syvbe","Type":"NodeParagraph","Properties":{"id":"20240526234644-c7syvbe","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"在 api 描述语言中，我们可以通过在 tag 中来声明参数接收规则，除此之外，还支持参数的校验，参数校验的规则仅对 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求体"},{"Type":"NodeText","Data":" 有效，参数校验的规则写在 tag value中，目前 go-zero 支持的参数校验规则如下："}]},{"ID":"20240526234644-nkx4qbd","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"||","id":"20240526234644-nkx4qbd","updated":"20240526234644"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"接收规则"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"示例"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"optional"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前字段是可选参数，允许为零值(zero value)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"json:\u0026quot;foo,optional\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"options"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前参数仅可接收的枚举值"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"json:\u0026quot;gender,options=[foo,bar]\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"default"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前参数默认值"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"json:\u0026quot;gender,default=male\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"range"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前参数数值有效范围，仅对数值有效，写法规则详情见下文温馨提示"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"json:\u0026quot;age,range=[0:120]\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240526234644-phf0hs2","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240526234644-phf0hs2","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"Range 表达式值规则"}]},{"ID":"20240526234644-pa6pnv9","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240526234644-pa6pnv9","updated":"20240526234644"},"Children":[{"ID":"20240526234644-yjk2hxp","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240526234644-yjk2hxp","updated":"20240526234644"},"Children":[{"ID":"20240526234644-dxliba0","Type":"NodeParagraph","Properties":{"id":"20240526234644-dxliba0","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"左开右闭区间：(min:max]，表示大于 min 小于等于 max，当 min 缺省时，min 代表数值 0，当 max 缺省时，max 代表无穷大，min 和 max 不能同时缺省"}]}]},{"ID":"20240526234644-kyne229","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240526234644-kyne229","updated":"20240526234644"},"Children":[{"ID":"20240526234644-s09x789","Type":"NodeParagraph","Properties":{"id":"20240526234644-s09x789","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"左闭右开区间：[min:max)，表示大于等于 min 小于 max，当 max 缺省时，max 代表数值 0，当 min 缺省时，min 代表无穷大，min 和 max 不能同时缺省"}]}]},{"ID":"20240526234644-5lbbc6p","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240526234644-5lbbc6p","updated":"20240526234644"},"Children":[{"ID":"20240526234644-vajjtbb","Type":"NodeParagraph","Properties":{"id":"20240526234644-vajjtbb","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"闭区间：[min:max]，表示大于等于 min 小于等于 max，当 min 缺省时，min 代表数值 0，当 max 缺省时，max 代表无穷大，min 和 max 不能同时缺省"}]}]},{"ID":"20240526234644-sbbprlu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240526234644-sbbprlu","updated":"20240526234644"},"Children":[{"ID":"20240526234644-k9avc3z","Type":"NodeParagraph","Properties":{"id":"20240526234644-k9avc3z","updated":"20240526234644"},"Children":[{"Type":"NodeText","Data":"开区间：(min:max)，表示大于 min 小于 max，当 min 缺省时，min 代表数值 0，当 max 缺省时，max 代表无穷大，min 和 max 不能同时缺省"}]}]}]}]}