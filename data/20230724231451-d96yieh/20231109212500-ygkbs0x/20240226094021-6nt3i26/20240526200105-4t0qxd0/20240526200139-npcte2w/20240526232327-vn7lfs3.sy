{"ID":"20240526232327-vn7lfs3","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f509","id":"20240526232327-vn7lfs3","title":"类型声明","type":"doc","updated":"20240526233244"},"Children":[{"ID":"20240526232346-bnfg77b","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240526232346-bnfg77b","updated":"20240526232430"},"Children":[{"Type":"NodeText","Data":"概述"}]},{"ID":"20240526232327-9fokcvx","Type":"NodeParagraph","Properties":{"id":"20240526232327-9fokcvx","updated":"20240526232430"},"Children":[{"Type":"NodeText","Data":"API 的类型声明和 Golang 的类型声明非常相似，但是有一些细微的差别，接下来我们来看一下 API 的类型声明吧。"}]},{"ID":"20240526233237-glbj3u5","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240526233237-glbj3u5","updated":"20240526233237"},"Children":[{"Type":"NodeText","Data":"类型声明"}]},{"ID":"20240526233237-udngpdf","Type":"NodeParagraph","Properties":{"id":"20240526233237-udngpdf","updated":"20240526233238"},"Children":[{"Type":"NodeText","Data":"在 API 描述语言中，类型声明需要满足如下规则:"}]},{"ID":"20240526233237-ow62bxs","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240526233237-ow62bxs","updated":"20240526233238"},"Children":[{"ID":"20240526233237-rnqjz1z","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240526233237-rnqjz1z","updated":"20240526233237"},"Children":[{"ID":"20240526233237-5sxetr4","Type":"NodeParagraph","Properties":{"id":"20240526233237-5sxetr4","updated":"20240526233237"},"Children":[{"Type":"NodeText","Data":"类型声明必须以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"type"},{"Type":"NodeText","Data":"​ 开头"}]}]},{"ID":"20240526233237-1tppoax","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240526233237-1tppoax","updated":"20240526233237"},"Children":[{"ID":"20240526233237-vfvwjc2","Type":"NodeParagraph","Properties":{"id":"20240526233237-vfvwjc2","updated":"20240526233237"},"Children":[{"Type":"NodeText","Data":"不需要声明 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​关键字"}]}]},{"ID":"20240526233237-j1nj61u","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240526233237-j1nj61u","updated":"20240526233237"},"Children":[{"ID":"20240526233237-ik8q6xd","Type":"NodeParagraph","Properties":{"id":"20240526233237-ik8q6xd","updated":"20240526233237"},"Children":[{"Type":"NodeText","Data":"不支持嵌套结构体声明"}]}]},{"ID":"20240526233237-03vrl73","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240526233237-03vrl73","updated":"20240526233237"},"Children":[{"ID":"20240526233237-qvwdyh0","Type":"NodeParagraph","Properties":{"id":"20240526233237-qvwdyh0","updated":"20240526233237"},"Children":[{"Type":"NodeText","Data":"不支持别名"}]}]}]},{"ID":"20240526233237-t57xen9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240526233237-t57xen9","updated":"20240526233238"},"Children":[{"Type":"NodeText","Data":"示例"}]},{"ID":"20240526233237-wgpuxgl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240526233237-wgpuxgl","updated":"20240526233238"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28="},{"Type":"NodeCodeBlockCode","Data":"\ntype StructureExample {\n    // 基本数据类型示例\n    BaseInt     int     `json:\"base_int\"`\n    BaseBool    bool    `json:\"base_bool\"`\n    BaseString  string  `json:\"base_string\"`\n    BaseByte    byte    `json:\"base_byte\"`\n    BaseFloat32 float32 `json:\"base_float32\"`\n    BaseFloat64 float64 `json:\"base_float64\"`\n    // 切片示例\n    BaseIntSlice     []int     `json:\"base_int_slice\"`\n    BaseBoolSlice    []bool    `json:\"base_bool_slice\"`\n    BaseStringSlice  []string  `json:\"base_string_slice\"`\n    BaseByteSlice    []byte    `json:\"base_byte_slice\"`\n    BaseFloat32Slice []float32 `json:\"base_float32_slice\"`\n    BaseFloat64Slice []float64 `json:\"base_float64_slice\"`\n    // map 示例\n    BaseMapIntString      map[int]string               `json:\"base_map_int_string\"`\n    BaseMapStringInt      map[string]int               `json:\"base_map_string_int\"`\n    BaseMapStringStruct   map[string]*StructureExample `json:\"base_map_string_struct\"`\n    BaseMapStringIntArray map[string][]int             `json:\"base_map_string_int_array\"`\n    // 匿名示例\n    *Base\n    // 指针示例\n    Base4 *Base `json:\"base4\"`\n  \n    // 新的特性（ goctl \u003e= 1.5.1 版本支持 ）\n    // 标签忽略示例\n    TagOmit string\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240526233237-8n9xt91","Type":"NodeParagraph","Properties":{"id":"20240526233237-8n9xt91","updated":"20240526233244"}},{"ID":"20240526233237-r0t4i47","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240526233237-r0t4i47","updated":"20240526233238"},"Children":[{"Type":"NodeText","Data":"Tip"}]},{"ID":"20240526233237-ni6ivry","Type":"NodeParagraph","Properties":{"id":"20240526233237-ni6ivry","updated":"20240526233238"},"Children":[{"Type":"NodeText","Data":"API 新特性使用可参考"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://go-zero.dev/docs/tutorials/api/faq#1-%E6%80%8E%E4%B9%88%E4%BD%93%E9%AA%8C%E6%96%B0%E7%9A%84-api-%E7%89%B9%E6%80%A7","TextMarkTextContent":" 新版 API 解析器使用"}]},{"ID":"20240526233237-t53vdu2","Type":"NodeParagraph","Properties":{"id":"20240526233237-t53vdu2","updated":"20240526233238"},"Children":[{"Type":"NodeText","Data":"我们暂时不支持泛型、弱类型，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"any"},{"Type":"NodeText","Data":"​ 类型"}]},{"ID":"20240526233237-uyd6n5n","Type":"NodeParagraph","Properties":{"id":"20240526233237-uyd6n5n","updated":"20240526233238"},"Children":[{"Type":"NodeText","Data":"可以参与 discussion 讨论说出你的看法 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/zeromicro/go-zero/discussions/3121","TextMarkTextContent":"https://github.com/zeromicro/go-zero/discussions/3121"}]}]}