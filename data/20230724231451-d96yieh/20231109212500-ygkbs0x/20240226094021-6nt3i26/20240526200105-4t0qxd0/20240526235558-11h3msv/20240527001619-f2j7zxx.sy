{"ID":"20240527001619-f2j7zxx","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f9c7","id":"20240527001619-f2j7zxx","title":"goctl rpc","type":"doc","updated":"20240527001642"},"Children":[{"ID":"20240527001642-8i4osfb","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240527001642-8i4osfb","updated":"20240527001642"},"Children":[{"Type":"NodeText","Data":"概述"}]},{"ID":"20240527001642-h7u7z62","Type":"NodeParagraph","Properties":{"id":"20240527001642-h7u7z62","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc 是 goctl 中的核心模块之一，其可以通过 .proto 文件一键快速生成一个 rpc 服务，如果仅仅是启动一个 go-zero 的 rpc 演示项目， 你甚至都不用编码，就可以完成一个 rpc 服务开发及正常运行。在传统的 rpc 项目中，我们要创建各级目录，编写结构体， 定义路由，添加 logic 文件，这一系列操作，如果按照一条协议的业务需求计算，整个编码下来大概需要 5 ～ 6 分钟才能真正进入业务逻辑的编写， 这还不考虑编写过程中可能产生的各种错误，而随着服务的增多，随着协议的增多，这部分准备工作的时间将成正比上升， 而 goctl rpc 则可以完全替代你去做这一部分工作，不管你的协议要定多少个，最终来说，只需要花费 10 秒不到即可完成。"}]},{"ID":"20240527001642-2yythlm","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240527001642-2yythlm","updated":"20240527001642"},"Children":[{"Type":"NodeText","Data":"goctl rpc 指令"}]},{"ID":"20240527001642-9m8kmwh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-9m8kmwh","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc --help\nGenerate rpc code\n\nUsage:\n  goctl rpc [flags]\n  goctl rpc [command]\n\nAvailable Commands:\n  new         Generate rpc demo service\n  protoc      Generate grpc code\n  template    Generate proto template\n\nFlags:\n      --branch string   The branch of the remote repo, it does work with --remote\n  -h, --help            help for rpc\n      --home string     The goctl home path of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n      --o string        Output a sample proto file\n      --remote string   The remote git repo of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n                            The git repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure\n\n\nUse \"goctl rpc [command] --help\" for more information about a command.\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-40c3nks","Type":"NodeParagraph","Properties":{"id":"20240527001642-40c3nks","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-x3zngs0","Type":"NodeTable","TableAligns":[0,0,0,0,0],"Properties":{"colgroup":"||||","id":"20240527001642-x3zngs0","updated":"20240527001643"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数字段"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"是否必填"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"默认值"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"branch"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库分支，配合 --remote 使用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"home"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~/.goctl"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库本地路径，优先级高于 --remote"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"o"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"输出 api 文件"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"remote"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库远程路径"}]}]}]},{"ID":"20240527001642-o7c59p5","Type":"NodeParagraph","Properties":{"id":"20240527001642-o7c59p5","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"示例：生成 proto 文件"}]},{"ID":"20240527001642-jbbirm7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-jbbirm7","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc --o greet.proto\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-n781464","Type":"NodeParagraph","Properties":{"id":"20240527001642-n781464","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-ab9jwxe","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240527001642-ab9jwxe","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc new"}]},{"ID":"20240527001642-st8v15g","Type":"NodeParagraph","Properties":{"id":"20240527001642-st8v15g","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"快速生成一个 rpc 服务，其接收一个终端参数来指定服务名称。"}]},{"ID":"20240527001642-oj9is84","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-oj9is84","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc new --help\nGenerate rpc demo service\n\nUsage:\n  goctl rpc new [flags]\n\nFlags:\n      --branch string   The branch of the remote repo, it does work with --remote\n  -h, --help            help for new\n      --home string     The goctl home path of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n      --idea            Whether the command execution environment is from idea plugin.\n      --remote string   The remote git repo of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n                            The git repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure\n      --style string    The file naming format, see [https://github.com/zeromicro/go-zero/tree/master/tools/goctl/config/readme.md] (default \"gozero\")\n  -v, --verbose         Enable log output\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-yta41pj","Type":"NodeParagraph","Properties":{"id":"20240527001642-yta41pj","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-xlue6ba","Type":"NodeTable","TableAligns":[0,0,0,0,0],"Properties":{"colgroup":"||||","id":"20240527001642-xlue6ba","updated":"20240527001643"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数字段"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"是否必填"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"默认值"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"branch"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库分支，配合 --remote 使用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"home"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~/.goctl"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库本地路径，优先级高于 --remote"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"idea"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"bool"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"false"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"仅 idea 插件用，终端请忽略此字段"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"remote"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库远程路径"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"style"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"gozero"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"文件命名风格，详情可参考 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://go-zero.dev/docs/tutorials/cli/style","TextMarkTextContent":"文件风格"}]}]}]},{"ID":"20240527001642-i9v88fi","Type":"NodeParagraph","Properties":{"id":"20240527001642-i9v88fi","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"示例："}]},{"ID":"20240527001642-zww7a5g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-zww7a5g","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFocw=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc new greet\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-tb6lqgu","Type":"NodeParagraph","Properties":{"id":"20240527001642-tb6lqgu","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-qy3x69s","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240527001642-qy3x69s","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc protoc"}]},{"ID":"20240527001642-z5si9y4","Type":"NodeParagraph","Properties":{"id":"20240527001642-z5si9y4","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"根据 protobufer 文件生成 rpc 服务。"}]},{"ID":"20240527001642-eni06bj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-eni06bj","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc protoc --help\nGenerate grpc code\n\nUsage:\n  goctl rpc protoc [flags]\n\n      --branch string     The branch of the remote repo, it does work with --remote\n  -c, --client            Whether to generate rpc client (default true)\n  -h, --help              help for protoc\n      --home string       The goctl home path of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher\n priority\n  -m, --multiple          Generated in multiple rpc service mode\n      --remote string     The remote git repo of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher\n priority\n                          The git repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure   \n      --style string      The file naming format, see [https://github.com/zeromicro/go-zero/blob/master/tools/goctl/config/readme.md]\n  -v, --verbose           Enable log output\n      --zrpc_out string   The zrpc output directory\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-6pxn70k","Type":"NodeParagraph","Properties":{"id":"20240527001642-6pxn70k","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-o5dowqx","Type":"NodeTable","TableAligns":[0,0,0,0,0],"Properties":{"colgroup":"||||","id":"20240527001642-o5dowqx","updated":"20240527001643"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数字段"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"是否必填"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"默认值"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"branch"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库分支，配合 --remote 使用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"home"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~/.goctl"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库本地路径，优先级高于 --remote"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"client"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"bool"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"true"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"是否生成客户端代码"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"multiple"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"bool"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"false"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"是否生成多个 rpc 服务"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"remote"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库远程路径"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"style"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"gozero"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"文件命名风格，详情可参考 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://go-zero.dev/docs/tutorials/cli/style","TextMarkTextContent":"文件风格"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"zrpc_out"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"输出目录"}]}]}]},{"ID":"20240527001642-npki6mt","Type":"NodeParagraph","Properties":{"id":"20240527001642-npki6mt","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"除了上述参数外，还有支持 protoc 指令的原生参数，详情可参考 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://developers.google.com/protocol-buffers/docs/reference/go-generated#invocation","TextMarkTextContent":"Go Generated Code Guide"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240527001642-t3yyvyj","Type":"NodeParagraph","Properties":{"id":"20240527001642-t3yyvyj","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"示例："}]},{"ID":"20240527001642-nwwaygq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-nwwaygq","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"# 单个 rpc 服务生成示例指令\n$ goctl rpc protoc greet.proto --go_out=./pb --go-grpc_out=./pb --zrpc_out=. --client=true \n# 多个 rpc 服务生成示例指令\n$ goctl rpc protoc greet.proto --go_out=./pb --go-grpc_out=./pb --zrpc_out=. --client=true -m\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-s0l0vt6","Type":"NodeParagraph","Properties":{"id":"20240527001642-s0l0vt6","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-s8a9k5c","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240527001642-s8a9k5c","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Tip"}]},{"ID":"20240527001642-i67qr8w","Type":"NodeParagraph","Properties":{"id":"20240527001642-i67qr8w","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"多个 rpc 服务生成示例（rpc 分组）生成效果可参考 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://go-zero.dev/docs/tutorials/proto/services/group","TextMarkTextContent":"服务分组"}]},{"ID":"20240527001642-or01evx","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240527001642-or01evx","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"小技能"}]},{"ID":"20240527001642-vsaozcc","Type":"NodeParagraph","Properties":{"id":"20240527001642-vsaozcc","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc protoc 指令比较长，参数很多，其实在理解 protoc 用法的前提下，你可以将指令理解成是如下的形式："}]},{"ID":"20240527001642-hf2fg4d","Type":"NodeParagraph","Properties":{"id":"20240527001642-hf2fg4d","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc ${protoc 用法} --zrpc_out=${output directory}，比如指令 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"goctl rpc protoc greet.proto --go_out=./pb --go-grpc_out=./pb --zrpc_out=."},{"Type":"NodeText","Data":"​，其中 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"protoc greet.proto --go_out=./pb --go-grpc_out=./pb"},{"Type":"NodeText","Data":"​ 完全是 protoc 指令的用法，而 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--zrpc_out=."},{"Type":"NodeText","Data":"​ 则是 goctl rpc protoc 指令的的参数。"}]},{"ID":"20240527001642-9f1zbfy","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240527001642-9f1zbfy","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"注意"}]},{"ID":"20240527001642-twfr9v5","Type":"NodeParagraph","Properties":{"id":"20240527001642-twfr9v5","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc protoc 指令生成 rpc 服务对 proto 有一些事项须知："}]},{"ID":"20240527001642-lihdenz","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240527001642-lihdenz","updated":"20240527001643"},"Children":[{"ID":"20240527001642-ca5j5o3","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240527001642-ca5j5o3","updated":"20240527001642"},"Children":[{"ID":"20240527001642-w1nqjv0","Type":"NodeParagraph","Properties":{"id":"20240527001642-w1nqjv0","updated":"20240527001642"},"Children":[{"Type":"NodeText","Data":"proto 文件中如果有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import"},{"Type":"NodeText","Data":"​ 语句，goctl 不会对 import 的 proto 文件进行处理，需要自行手动处理。"}]}]},{"ID":"20240527001642-sdh93bj","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240527001642-sdh93bj","updated":"20240527001642"},"Children":[{"ID":"20240527001642-o4aq4ra","Type":"NodeParagraph","Properties":{"id":"20240527001642-o4aq4ra","updated":"20240527001642"},"Children":[{"Type":"NodeText","Data":"rpc service 中的请求体和响应体必须是当前 proto 文件中的 message，不能是 import 的 proto 文件中的 message。"}]}]}]},{"ID":"20240527001642-w57bdww","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240527001642-w57bdww","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"goctl rpc template"}]},{"ID":"20240527001642-r6fpsvu","Type":"NodeParagraph","Properties":{"id":"20240527001642-r6fpsvu","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"快速生成一个 proto 模板文件，其接收一个 proto 文件名称参数。"}]},{"ID":"20240527001642-nh2wh8j","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20240527001642-nh2wh8j","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"注意"}]},{"ID":"20240527001642-fsl541r","Type":"NodeParagraph","Properties":{"id":"20240527001642-fsl541r","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"该指令已经废弃，推荐使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"goctl rpc -o"},{"Type":"NodeText","Data":"​ 指令。"}]},{"ID":"20240527001642-sxbrp74","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-sxbrp74","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc template --help\nGenerate proto template\n\nUsage:\n  goctl rpc template [flags]\n\nFlags:\n      --branch string   The branch of the remote repo, it does work with --remote\n  -h, --help            help for template\n      --home string     The goctl home path of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n      --o string        Output a sample proto file\n      --remote string   The remote git repo of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n                            The git repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001642-tllm1bq","Type":"NodeParagraph","Properties":{"id":"20240527001642-tllm1bq","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"Copy"}]},{"ID":"20240527001642-3ghsqah","Type":"NodeTable","TableAligns":[0,0,0,0,0],"Properties":{"colgroup":"||||","id":"20240527001642-3ghsqah","updated":"20240527001643"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数字段"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"是否必填"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"默认值"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"参数说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"branch"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库分支，配合 --remote 使用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"home"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~/.goctl"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库本地路径，优先级高于 --remote"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"o"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"输出文件路径"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"remote"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"string"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"NO"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"空字符串"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"模板仓库远程路径"}]}]}]},{"ID":"20240527001642-b77j7nb","Type":"NodeParagraph","Properties":{"id":"20240527001642-b77j7nb","updated":"20240527001643"},"Children":[{"Type":"NodeText","Data":"示例："}]},{"ID":"20240527001642-n4xr6h5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240527001642-n4xr6h5","updated":"20240527001643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"$ goctl rpc template -o greet.proto\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240527001619-bzhufk1","Type":"NodeParagraph","Properties":{"id":"20240527001619-bzhufk1","updated":"20240527001643"}}]}