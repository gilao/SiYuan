{"ID":"20230724231536-1x3652u","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231536-1x3652u","title":"database-sql-driver","updated":"20230724231536"},"Children":[{"ID":"20230724231537-g32rv69","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231537-g32rv69","updated":"20230724231537"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"database-sql-driver"}]},{"ID":"20230724231538-djl6mo3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231538-djl6mo3","updated":"20230724231538"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"database/sql/driver\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231539-jewbmj3","Type":"NodeParagraph","Properties":{"id":"20230724231539-jewbmj3","updated":"20230724231539"},"Children":[{"Type":"NodeText","Data":"driver包定义了应被数据库驱动实现的接口，这些接口会被sql包使用。"}]},{"ID":"20230724231540-x7u8gqu","Type":"NodeParagraph","Properties":{"id":"20230724231540-x7u8gqu","updated":"20230724231540"},"Children":[{"Type":"NodeText","Data":"绝大多数代码应使用sql包。"}]},{"ID":"20230724231541-4p3drlk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231541-4p3drlk","updated":"20230724231541"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Variables"}]},{"ID":"20230724231542-g4efg0m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231542-g4efg0m","updated":"20230724231542"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var Bool boolType\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231543-5qxq53r","Type":"NodeParagraph","Properties":{"id":"20230724231543-5qxq53r","updated":"20230724231543"},"Children":[{"Type":"NodeText","Data":"Bool是ValueConverter接口值，用于将输入的值转换为布尔类型。"}]},{"ID":"20230724231544-749roqg","Type":"NodeParagraph","Properties":{"id":"20230724231544-749roqg","updated":"20230724231544"},"Children":[{"Type":"NodeText","Data":"转换规则如下："}]},{"ID":"20230724231545-awaifuh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231545-awaifuh","updated":"20230724231545"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"- 布尔类型：不做修改\n- 整数类型：\n     1 为真\n     0 为假\n     其余整数会导致错误\n- 字符串和[]byte：与strconv.ParseBool的规则相同\n- 所有其他类型都会导致错误\nvar Int32 int32Type\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231546-yrowodf","Type":"NodeParagraph","Properties":{"id":"20230724231546-yrowodf","updated":"20230724231546"},"Children":[{"Type":"NodeText","Data":"Int32是一个ValueConverter接口值，用于将值转换为int64类型，会尊重int32类型的限制。"}]},{"ID":"20230724231547-60lrvzy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231547-60lrvzy","updated":"20230724231547"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var String stringType\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231548-jwtdgeg","Type":"NodeParagraph","Properties":{"id":"20230724231548-jwtdgeg","updated":"20230724231548"},"Children":[{"Type":"NodeText","Data":"String是一个ValueConverter接口值，用于将值转换为字符串。如果值v是字符串或者[]byte类型，不会做修改，如果值v是其它类型，会转换为fmt.Sprintf(\"%v\", v)。"}]},{"ID":"20230724231549-hl5y2do","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231549-hl5y2do","updated":"20230724231549"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var DefaultParameterConverter defaultConverter\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231550-8eixbia","Type":"NodeParagraph","Properties":{"id":"20230724231550-8eixbia","updated":"20230724231550"},"Children":[{"Type":"NodeText","Data":"DefaultParameterConverter是ValueConverter接口的默认实现，当一个Stmt没有实现ColumnConverter时，就会使用它。"}]},{"ID":"20230724231551-q8eji9d","Type":"NodeParagraph","Properties":{"id":"20230724231551-q8eji9d","updated":"20230724231551"},"Children":[{"Type":"NodeText","Data":"如果值value满足函数IsValue(value)为真，DefaultParameterConverter直接返回 value。否则，整数类型会被转换为int64，浮点数转换为float64，字符串转换为[]byte。其它类型会导致错误。"}]},{"ID":"20230724231552-30za13f","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231552-30za13f","updated":"20230724231552"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var ResultNoRows noRows\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231553-fe1lxvn","Type":"NodeParagraph","Properties":{"id":"20230724231553-fe1lxvn","updated":"20230724231553"},"Children":[{"Type":"NodeText","Data":"ResultNoRows是预定义的Result类型值，用于当一个DDL命令（如create table）成功时被驱动返回。它的LastInsertId和RowsAffected方法都返回错误。"}]},{"ID":"20230724231554-75w6new","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231554-75w6new","updated":"20230724231554"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var ErrBadConn = errors.New(\"driver: bad connection\")\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231555-853xpyf","Type":"NodeParagraph","Properties":{"id":"20230724231555-853xpyf","updated":"20230724231555"},"Children":[{"Type":"NodeText","Data":"ErrBadConn应被驱动返回，以通知sql包一个driver.Conn处于损坏状态（如服务端之前关闭了连接），sql包会重启一个新的连接。"}]},{"ID":"20230724231556-r5avl8w","Type":"NodeParagraph","Properties":{"id":"20230724231556-r5avl8w","updated":"20230724231556"},"Children":[{"Type":"NodeText","Data":"为了避免重复的操作，如果数据库服务端执行了操作，就不应返回ErrBadConn。即使服务端返回了一个错误。"}]},{"ID":"20230724231557-g5mmqgv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231557-g5mmqgv","updated":"20230724231557"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var ErrSkip = errors.New(\"driver: skip fast-path; continue as if unimplemented\")\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231558-2kcgnvi","Type":"NodeParagraph","Properties":{"id":"20230724231558-2kcgnvi","updated":"20230724231558"},"Children":[{"Type":"NodeText","Data":"ErrSkip可能会被某些可选接口的方法返回，用于在运行时表明快速方法不可用，sql包应像未实现该接口的情况一样执行。ErrSkip只有文档显式说明的地方才支持。"}]},{"ID":"20230724231559-qt403t5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231559-qt403t5","updated":"20230724231559"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#22","TextMarkTextContent":"Value"}]},{"ID":"20230724231560-a9xs5xi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231560-a9xs5xi","updated":"20230724231560"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Value interface{}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231561-nyuof9p","Type":"NodeParagraph","Properties":{"id":"20230724231561-nyuof9p","updated":"20230724231561"},"Children":[{"Type":"NodeText","Data":"Value是驱动必须能处理的值。它要么是nil，要么是如下类型的实例："}]},{"ID":"20230724231562-er8j4t6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231562-er8j4t6","updated":"20230724231562"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"int64\nfloat64\nbool\n[]byte\nstring   [*] Rows.Next不会返回该类型值\ntime.Time\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231563-hadhsa2","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231563-hadhsa2","updated":"20230724231563"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#39","TextMarkTextContent":"Valuer"}]},{"ID":"20230724231564-5schqa9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231564-5schqa9","updated":"20230724231564"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Valuer interface {\n    // Value返回一个驱动支持的Value类型值\n    Value() (Value, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231565-hjckmf7","Type":"NodeParagraph","Properties":{"id":"20230724231565-hjckmf7","updated":"20230724231565"},"Children":[{"Type":"NodeText","Data":"Valuer是提供Value方法的接口。实现了Valuer接口的类型可以将自身转换为驱动支持的Value类型值。"}]},{"ID":"20230724231566-4sq0dyl","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231566-4sq0dyl","updated":"20230724231566"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#176","TextMarkTextContent":"IsValue"}]},{"ID":"20230724231567-zoydmki","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231567-zoydmki","updated":"20230724231567"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func IsValue(v interface{}) bool\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231568-p5abin4","Type":"NodeParagraph","Properties":{"id":"20230724231568-p5abin4","updated":"20230724231568"},"Children":[{"Type":"NodeText","Data":"IsValue报告v是否是合法的Value类型参数。和IsScanValue不同，IsValue接受字符串类型。"}]},{"ID":"20230724231569-27rdd9r","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231569-27rdd9r","updated":"20230724231569"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#188","TextMarkTextContent":"IsScanValue"}]},{"ID":"20230724231570-gwqmiui","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231570-gwqmiui","updated":"20230724231570"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func IsScanValue(v interface{}) bool\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231571-misi7yg","Type":"NodeParagraph","Properties":{"id":"20230724231571-misi7yg","updated":"20230724231571"},"Children":[{"Type":"NodeText","Data":"IsScanValue报告v是否是合法的Value扫描类型参数。和IsValue不同，IsScanValue不接受字符串类型。"}]},{"ID":"20230724231572-tpk9102","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231572-tpk9102","updated":"20230724231572"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#30","TextMarkTextContent":"ValueConverter"}]},{"ID":"20230724231573-dkaqkdx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231573-dkaqkdx","updated":"20230724231573"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type ValueConverter interface {\n    // ConvertValue将一个值转换为驱动支持的Value类型\n    ConvertValue(v interface{}) (Value, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231574-6b3zou8","Type":"NodeParagraph","Properties":{"id":"20230724231574-6b3zou8","updated":"20230724231574"},"Children":[{"Type":"NodeText","Data":"ValueConverter接口提供了ConvertValue方法。"}]},{"ID":"20230724231575-w1ydj38","Type":"NodeParagraph","Properties":{"id":"20230724231575-w1ydj38","updated":"20230724231575"},"Children":[{"Type":"NodeText","Data":"driver包提供了各种ValueConverter接口的实现，以保证不同驱动之间的实现和转换的一致性。ValueConverter接口有如下用途："}]},{"ID":"20230724231576-tju2daw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231576-tju2daw","updated":"20230724231576"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"* 转换sql包提供的Value类型值到数据库指定列的类型，并保证它的匹配，\n  例如保证某个int64值满足一个表的uint16列。\n\n* 转换数据库提供的值到驱动的Value类型。\n\n* 在扫描时被sql包用于将驱动的Value类型转换为用户的类型。\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231577-8ejkl7t","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231577-8ejkl7t","updated":"20230724231577"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#145","TextMarkTextContent":"ColumnConverter"}]},{"ID":"20230724231578-2r43ska","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231578-2r43ska","updated":"20230724231578"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type ColumnConverter interface {\n    // ColumnConverter返回指定列的ValueConverter\n    // 如果该列未指定类型，或不应特殊处理，应返回DefaultValueConverter\n    ColumnConverter(idx int) ValueConverter\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231579-s6vd9gl","Type":"NodeParagraph","Properties":{"id":"20230724231579-s6vd9gl","updated":"20230724231579"},"Children":[{"Type":"NodeText","Data":"如果Stmt有自己的列类型，可以实现ColumnConverter接口，返回值可以将任意类型转换为驱动的Value类型。"}]},{"ID":"20230724231580-txmymi7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231580-txmymi7","updated":"20230724231580"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#163","TextMarkTextContent":"NotNull"}]},{"ID":"20230724231581-fc0t6tz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231581-fc0t6tz","updated":"20230724231581"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type NotNull struct {\n    Converter ValueConverter\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231582-myw9ddu","Type":"NodeParagraph","Properties":{"id":"20230724231582-myw9ddu","updated":"20230724231582"},"Children":[{"Type":"NodeText","Data":"NotNull实现了ValueConverter接口，不允许nil值，否则会将值交给Converter字段处理。"}]},{"ID":"20230724231583-k34yyid","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231583-k34yyid","updated":"20230724231583"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (NotNull) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#167","TextMarkTextContent":"ConvertValue"}]},{"ID":"20230724231584-skcta97","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231584-skcta97","updated":"20230724231584"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (n NotNull) ConvertValue(v interface{}) (Value, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231585-oku80cd","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231585-oku80cd","updated":"20230724231585"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#150","TextMarkTextContent":"Null"}]},{"ID":"20230724231586-8hgo6dk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231586-8hgo6dk","updated":"20230724231586"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Null struct {\n    Converter ValueConverter\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231587-xyzn1hy","Type":"NodeParagraph","Properties":{"id":"20230724231587-xyzn1hy","updated":"20230724231587"},"Children":[{"Type":"NodeText","Data":"Null实现了ValueConverter接口，允许nil值，否则会将值交给Converter字段处理。"}]},{"ID":"20230724231588-m6of5qn","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231588-m6of5qn","updated":"20230724231588"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (Null) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/types.go?name=release#154","TextMarkTextContent":"ConvertValue"}]},{"ID":"20230724231589-1e4844o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231589-1e4844o","updated":"20230724231589"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (n Null) ConvertValue(v interface{}) (Value, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231590-s3xoqlt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231590-s3xoqlt","updated":"20230724231590"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#26","TextMarkTextContent":"Driver"}]},{"ID":"20230724231591-83flqsj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231591-83flqsj","updated":"20230724231591"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Driver interface {\n    // Open返回一个新的与数据库的连接，参数name的格式是驱动特定的。\n    //\n    // Open可能返回一个缓存的连接（之前关闭的连接），但这么做是不必要的；\n    // sql包会维护闲置连接池以便有效的重用连接。\n    //\n    // 返回的连接同一时间只会被一个go程使用。\n    Open(name string) (Conn, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231592-04ca401","Type":"NodeParagraph","Properties":{"id":"20230724231592-04ca401","updated":"20230724231592"},"Children":[{"Type":"NodeText","Data":"Driver接口必须被数据库驱动实现。"}]},{"ID":"20230724231593-1yogx1h","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231593-1yogx1h","updated":"20230724231593"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#83","TextMarkTextContent":"Conn"}]},{"ID":"20230724231594-zvvdbry","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231594-zvvdbry","updated":"20230724231594"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Conn interface {\n    // Prepare返回一个准备好的、绑定到该连接的状态。\n    Prepare(query string) (Stmt, error)\n\n    // Close作废并停止任何现在准备好的状态和事务，将该连接标注为不再使用。\n    //\n    // 因为sql包维护着一个连接池，只有当闲置连接过剩时才会调用Close方法，\n    // 驱动的实现中不需要添加自己的连接缓存池。\n    Close() error\n\n    // Begin开始并返回一个新的事务。\n    Begin() (Tx, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231595-bm2kn0k","Type":"NodeParagraph","Properties":{"id":"20230724231595-bm2kn0k","updated":"20230724231595"},"Children":[{"Type":"NodeText","Data":"Conn是与数据库的连接。该连接不会被多线程并行使用。连接被假定为具有状态的。"}]},{"ID":"20230724231596-hxkovfn","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231596-hxkovfn","updated":"20230724231596"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#64","TextMarkTextContent":"Execer"}]},{"ID":"20230724231597-3rzm1kr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231597-3rzm1kr","updated":"20230724231597"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Execer interface {\n    Exec(query string, args []Value) (Result, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231598-4fcmqrm","Type":"NodeParagraph","Properties":{"id":"20230724231598-4fcmqrm","updated":"20230724231598"},"Children":[{"Type":"NodeText","Data":"Execer是一个可选的、可能被Conn接口实现的接口。"}]},{"ID":"20230724231599-wbdkq1n","Type":"NodeParagraph","Properties":{"id":"20230724231599-wbdkq1n","updated":"20230724231599"},"Children":[{"Type":"NodeText","Data":"如果一个Conn未实现Execer接口，sql包的DB.Exec会首先准备一个查询，执行状态，然后关闭状态。Exec可能会返回ErrSkip。"}]},{"ID":"20230724231600-6k2wer1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231600-6k2wer1","updated":"20230724231600"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#75","TextMarkTextContent":"Queryer"}]},{"ID":"20230724231601-09yi96o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231601-09yi96o","updated":"20230724231601"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Queryer interface {\n    Query(query string, args []Value) (Rows, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231602-aro6vtq","Type":"NodeParagraph","Properties":{"id":"20230724231602-aro6vtq","updated":"20230724231602"},"Children":[{"Type":"NodeText","Data":"Queryer是一个可选的、可能被Conn接口实现的接口。"}]},{"ID":"20230724231603-s7va0o6","Type":"NodeParagraph","Properties":{"id":"20230724231603-s7va0o6","updated":"20230724231603"},"Children":[{"Type":"NodeText","Data":"如果一个Conn未实现Queryer接口，sql包的DB.Query会首先准备一个查询，执行状态，然后关闭状态。Query可能会返回ErrSkip。"}]},{"ID":"20230724231604-vrgkf5h","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231604-vrgkf5h","updated":"20230724231604"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#115","TextMarkTextContent":"Stmt"}]},{"ID":"20230724231605-mj4ys6s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231605-mj4ys6s","updated":"20230724231605"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Stmt interface {\n    // Close关闭Stmt。\n    //\n    // 和Go1.1一样，如果Stmt被任何查询使用中的话，将不会被关闭。\n    Close() error\n\n    // NumInput返回占位参数的个数。\n    //\n    // 如果NumInput返回值 \u003e= 0，sql包会提前检查调用者提供的参数个数，\n    // 并且会在调用Exec或Query方法前返回数目不对的错误。\n    //\n    // NumInput可以返回-1，如果驱动占位参数的数量。\n    // 此时sql包不会提前检查参数个数。\n    NumInput() int\n\n    // Exec执行查询，而不会返回结果，如insert或update。\n    Exec(args []Value) (Result, error)\n\n    // Query执行查询并返回结果，如select。\n    Query(args []Value) (Rows, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231606-addhnbo","Type":"NodeParagraph","Properties":{"id":"20230724231606-addhnbo","updated":"20230724231606"},"Children":[{"Type":"NodeText","Data":"Stmt是准备好的状态。它会绑定到一个连接，不应被多go程同时使用。"}]},{"ID":"20230724231607-hbzbvfi","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231607-hbzbvfi","updated":"20230724231607"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#177","TextMarkTextContent":"Tx"}]},{"ID":"20230724231608-f28k9eb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231608-f28k9eb","updated":"20230724231608"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Tx interface {\n    Commit() error\n    Rollback() error\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231609-izd78lo","Type":"NodeParagraph","Properties":{"id":"20230724231609-izd78lo","updated":"20230724231609"},"Children":[{"Type":"NodeText","Data":"Tx是一次事务。"}]},{"ID":"20230724231610-lwh4r16","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231610-lwh4r16","updated":"20230724231610"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#102","TextMarkTextContent":"Result"}]},{"ID":"20230724231611-w5zu69d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231611-w5zu69d","updated":"20230724231611"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Result interface {\n    // LastInsertId返回insert等命令后数据库自动生成的ID\n    LastInsertId() (int64, error)\n\n    // RowsAffected返回被查询影响的行数\n    RowsAffected() (int64, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231612-mlaws1g","Type":"NodeParagraph","Properties":{"id":"20230724231612-mlaws1g","updated":"20230724231612"},"Children":[{"Type":"NodeText","Data":"Result是查询执行的结果。"}]},{"ID":"20230724231613-98upyss","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231613-98upyss","updated":"20230724231613"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#184","TextMarkTextContent":"RowsAffected"}]},{"ID":"20230724231614-lfh1on7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231614-lfh1on7","updated":"20230724231614"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type RowsAffected int64\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231615-n0k5ddm","Type":"NodeParagraph","Properties":{"id":"20230724231615-n0k5ddm","updated":"20230724231615"},"Children":[{"Type":"NodeText","Data":"RowsAffected实现了Result接口，用于insert或update操作，这些操作会修改零到多行数据。"}]},{"ID":"20230724231616-83j5ktt","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231616-83j5ktt","updated":"20230724231616"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (RowsAffected) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#188","TextMarkTextContent":"LastInsertId"}]},{"ID":"20230724231617-f7d5b6a","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231617-f7d5b6a","updated":"20230724231617"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (RowsAffected) LastInsertId() (int64, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231618-z65b1ly","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231618-z65b1ly","updated":"20230724231618"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (RowsAffected) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#192","TextMarkTextContent":"RowsAffected"}]},{"ID":"20230724231619-gmpusmb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231619-gmpusmb","updated":"20230724231619"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (v RowsAffected) RowsAffected() (int64, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231620-dkvxont","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231620-dkvxont","updated":"20230724231620"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/database/sql/driver/driver.go?name=release#154","TextMarkTextContent":"Rows"}]},{"ID":"20230724231621-y2eifbv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231621-y2eifbv","updated":"20230724231621"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Rows interface {\n    // Columns返回各列的名称，列的数量可以从切片长度确定。\n    // 如果某个列的名称未知，对应的条目应为空字符串。\n    Columns() []string\n\n    // Close关闭Rows。\n    Close() error\n\n    // 调用Next方法以将下一行数据填充进提供的切片中。\n    // 提供的切片必须和Columns返回的切片长度相同。\n    //\n    // 切片dest可能被填充同一种驱动Value类型，但字符串除外。\n    // 所有string值都必须转换为[]byte。\n    //\n    // 当没有更多行时，Next应返回io.EOF。\n    Next(dest []Value) error\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231622-59cgypg","Type":"NodeParagraph","Properties":{"id":"20230724231622-59cgypg","updated":"20230724231622"},"Children":[{"Type":"NodeText","Data":"Rows是执行查询得到的结果的迭代器。"}]}]}