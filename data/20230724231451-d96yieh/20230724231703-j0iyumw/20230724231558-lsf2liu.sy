{"ID":"20230724231558-lsf2liu","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231558-lsf2liu","title":"net-smtp","updated":"20230724231558"},"Children":[{"ID":"20230724231559-hxi1n1o","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231559-hxi1n1o","updated":"20230724231559"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"net-smtp"}]},{"ID":"20230724231560-dst2z0y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231560-dst2z0y","updated":"20230724231560"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"net/smtp\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231561-d24jvo7","Type":"NodeParagraph","Properties":{"id":"20230724231561-d24jvo7","updated":"20230724231561"},"Children":[{"Type":"NodeText","Data":"smtp包实现了简单邮件传输协议（SMTP），参见"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://tools.ietf.org/html/rfc5321","TextMarkTextContent":"RFC 5321"},{"Type":"NodeText","Data":"。同时本包还实现了如下扩展："}]},{"ID":"20230724231562-r5r2z3c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231562-r5r2z3c","updated":"20230724231562"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"8BITMIME  RFC 1652\nAUTH      RFC 2554\nSTARTTLS  RFC 3207\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231563-bsr7qfc","Type":"NodeParagraph","Properties":{"id":"20230724231563-bsr7qfc","updated":"20230724231563"},"Children":[{"Type":"NodeText","Data":"客户端可以自行管理其他的扩展。"}]},{"ID":"20230724231564-duxk12g","Type":"NodeParagraph","Properties":{"id":"20230724231564-duxk12g","updated":"20230724231564"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231565-fyvtp26","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231565-fyvtp26","updated":"20230724231565"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/auth.go?name=release#35","TextMarkTextContent":"ServerInfo"}]},{"ID":"20230724231566-gbhh3eo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231566-gbhh3eo","updated":"20230724231566"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type ServerInfo struct {\n    Name string   // SMTP服务器的名字\n    TLS  bool     // Name有合法的证书并使用TLS时为真\n    Auth []string // 支持的认证机制\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231567-caj5j6w","Type":"NodeParagraph","Properties":{"id":"20230724231567-caj5j6w","updated":"20230724231567"},"Children":[{"Type":"NodeText","Data":"ServerInfo类型记录一个SMTP服务器的信息。"}]},{"ID":"20230724231568-e726z0k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231568-e726z0k","updated":"20230724231568"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/auth.go?name=release#15","TextMarkTextContent":"Auth"}]},{"ID":"20230724231569-ypl0c46","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231569-ypl0c46","updated":"20230724231569"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Auth interface {\n    // 方法开始和服务端的认证。\n    // 它返回认证协议的名字和可能有的应发送给服务端的包含初始认证信息的数据。\n    // 如果返回值proto == \"\"，表示应跳过认证；\n    // 如果返回一个非nil的错误，SMTP客户端应中断认证身份的尝试并关闭连接。\n    Start(server *ServerInfo) (proto string, toServer []byte, err error)\n    // 方法继续认证过程。fromServer为服务端刚发送的数据。\n    // 如果more为真，服务端会期望一个回复，回复内容应被Next返回，即toServer；\n    // 否则返回值toServer应为nil。\n    // 如果返回一个非nil的错误，SMTP客户端应中断认证身份的尝试并关闭连接。\n    Next(fromServer []byte, more bool) (toServer []byte, err error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231570-0pjyh38","Type":"NodeParagraph","Properties":{"id":"20230724231570-0pjyh38","updated":"20230724231570"},"Children":[{"Type":"NodeText","Data":"Auth接口应被每一个SMTP认证机制实现。"}]},{"ID":"20230724231571-3pxdymd","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231571-3pxdymd","updated":"20230724231571"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/auth.go?name=release#91","TextMarkTextContent":"CRAMMD5Auth"}]},{"ID":"20230724231572-ea9q8ld","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231572-ea9q8ld","updated":"20230724231572"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CRAMMD5Auth(username, secret string) Auth\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231573-8zlwttk","Type":"NodeParagraph","Properties":{"id":"20230724231573-8zlwttk","updated":"20230724231573"},"Children":[{"Type":"NodeText","Data":"返回一个实现了CRAM-MD5身份认证机制（参见"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://tools.ietf.org/html/rfc2195","TextMarkTextContent":"RFC 2195"},{"Type":"NodeText","Data":"）的Auth接口。返回的接口使用给出的用户名和密码，采用响应——回答机制与服务端进行身份认证。"}]},{"ID":"20230724231574-rumwaqt","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231574-rumwaqt","updated":"20230724231574"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/auth.go?name=release#51","TextMarkTextContent":"PlainAuth"}]},{"ID":"20230724231575-ycyon48","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231575-ycyon48","updated":"20230724231575"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func PlainAuth(identity, username, password, host string) Auth\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231576-vcfkkrj","Type":"NodeParagraph","Properties":{"id":"20230724231576-vcfkkrj","updated":"20230724231576"},"Children":[{"Type":"NodeText","Data":"返回一个实现了PLAIN身份认证机制（参见"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://tools.ietf.org/html/rfc4616","TextMarkTextContent":"RFC 4616"},{"Type":"NodeText","Data":"）的Auth接口。返回的接口使用给出的用户名和密码，通过TLS连接到主机认证，采用identity为身份管理和行动（通常应设identity为\"\"，以便使用username为身份）。"}]},{"ID":"20230724231577-2ujrvrd","Type":"NodeParagraph","Properties":{"id":"20230724231577-2ujrvrd","updated":"20230724231577"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231578-66oqs0l","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231578-66oqs0l","updated":"20230724231578"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#24","TextMarkTextContent":"Client"}]},{"ID":"20230724231579-xpdggkz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231579-xpdggkz","updated":"20230724231579"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Client struct {\n    // 代表被Client使用的textproto.Conn，它可以导出，以便使用者添加扩展。\n    Text *textproto.Conn\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231580-86haqed","Type":"NodeParagraph","Properties":{"id":"20230724231580-86haqed","updated":"20230724231580"},"Children":[{"Type":"NodeText","Data":"Client代表一个连接到SMTP服务器的客户端。"}]},{"ID":"20230724231581-boh3dgo","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231581-boh3dgo","updated":"20230724231581"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#45","TextMarkTextContent":"Dial"}]},{"ID":"20230724231582-vi6cd5u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231582-vi6cd5u","updated":"20230724231582"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Dial(addr string) (*Client, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231583-d4j9oi0","Type":"NodeParagraph","Properties":{"id":"20230724231583-d4j9oi0","updated":"20230724231583"},"Children":[{"Type":"NodeText","Data":"Dial返回一个连接到地址为addr的SMTP服务器的*Client；addr必须包含端口号。"}]},{"ID":"20230724231584-sxgp3js","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231584-sxgp3js","updated":"20230724231584"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#56","TextMarkTextContent":"NewClient"}]},{"ID":"20230724231585-zkcwhnq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231585-zkcwhnq","updated":"20230724231585"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewClient(conn net.Conn, host string) (*Client, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231586-gtifkia","Type":"NodeParagraph","Properties":{"id":"20230724231586-gtifkia","updated":"20230724231586"},"Children":[{"Type":"NodeText","Data":"NewClient使用已经存在的连接conn和作为服务器名的host（用于身份认证）来创建一个*Client。"}]},{"ID":"20230724231587-tjagprr","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231587-tjagprr","updated":"20230724231587"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#325","TextMarkTextContent":"Extension"}]},{"ID":"20230724231588-axzzjge","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231588-axzzjge","updated":"20230724231588"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Extension(ext string) (bool, string)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231589-5off52h","Type":"NodeParagraph","Properties":{"id":"20230724231589-5off52h","updated":"20230724231589"},"Children":[{"Type":"NodeText","Data":"Extension返回服务端是否支持某个扩展，扩展名是大小写不敏感的。如果扩展被支持，方法还会返回一个包含指定给该扩展的各个参数的字符串。"}]},{"ID":"20230724231590-cfjz2i9","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231590-cfjz2i9","updated":"20230724231590"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#89","TextMarkTextContent":"Hello"}]},{"ID":"20230724231591-aow2xbn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231591-aow2xbn","updated":"20230724231591"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Hello(localName string) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231592-zznr5uj","Type":"NodeParagraph","Properties":{"id":"20230724231592-zznr5uj","updated":"20230724231592"},"Children":[{"Type":"NodeText","Data":"Hello发送给服务端一个HELO或EHLO命令。本方法只有使用者需要控制使用的本地主机名时才应使用，否则程序会将本地主机名设为“localhost”，Hello方法只能在最开始调用。"}]},{"ID":"20230724231593-ygte1pu","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231593-ygte1pu","updated":"20230724231593"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#175","TextMarkTextContent":"Auth"}]},{"ID":"20230724231594-epdk7od","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231594-epdk7od","updated":"20230724231594"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Auth(a Auth) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231595-k5cd1dw","Type":"NodeParagraph","Properties":{"id":"20230724231595-k5cd1dw","updated":"20230724231595"},"Children":[{"Type":"NodeText","Data":"Auth使用提供的认证机制进行认证。失败的认证会关闭该连接。只有服务端支持AUTH时，本方法才有效。（但是不支持时，调用会默默的成功）"}]},{"ID":"20230724231596-3zl3nsq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231596-3zl3nsq","updated":"20230724231596"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#164","TextMarkTextContent":"Verify"}]},{"ID":"20230724231597-neecdqt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231597-neecdqt","updated":"20230724231597"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Verify(addr string) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231598-oc3uwbm","Type":"NodeParagraph","Properties":{"id":"20230724231598-oc3uwbm","updated":"20230724231598"},"Children":[{"Type":"NodeText","Data":"Verify检查一个邮箱地址在其服务器是否合法，如果合法会返回nil；但非nil的返回值并不代表不合法，因为许多服务器出于安全原因不支持这种查询。"}]},{"ID":"20230724231599-3bz1nsg","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231599-3bz1nsg","updated":"20230724231599"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#146","TextMarkTextContent":"StartTLS"}]},{"ID":"20230724231600-y3gqlpj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231600-y3gqlpj","updated":"20230724231600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) StartTLS(config *tls.Config) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231601-mag6v6v","Type":"NodeParagraph","Properties":{"id":"20230724231601-mag6v6v","updated":"20230724231601"},"Children":[{"Type":"NodeText","Data":"StartTLS方法发送STARTTLS命令，并将之后的所有数据往来加密。只有服务器附加了STARTTLS扩展，这个方法才有效。"}]},{"ID":"20230724231602-uj6vsvj","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231602-uj6vsvj","updated":"20230724231602"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#222","TextMarkTextContent":"Mail"}]},{"ID":"20230724231603-al9xp89","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231603-al9xp89","updated":"20230724231603"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Mail(from string) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231604-7usga56","Type":"NodeParagraph","Properties":{"id":"20230724231604-7usga56","updated":"20230724231604"},"Children":[{"Type":"NodeText","Data":"Mail发送MAIL命令和邮箱地址from到服务器。如果服务端支持8BITMIME扩展，本方法会添加BODY=8BITMIME参数。方法初始化一次邮件传输，后应跟1到多个Rcpt方法的调用。"}]},{"ID":"20230724231605-kykdyzz","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231605-kykdyzz","updated":"20230724231605"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#239","TextMarkTextContent":"Rcpt"}]},{"ID":"20230724231606-t2sovia","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231606-t2sovia","updated":"20230724231606"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Rcpt(to string) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231607-70gmkfw","Type":"NodeParagraph","Properties":{"id":"20230724231607-70gmkfw","updated":"20230724231607"},"Children":[{"Type":"NodeText","Data":"Rcpt发送RCPT命令和邮箱地址to到服务器。调用Rcpt方法之前必须调用了Mail方法，之后可以再一次调用Rcpt方法，也可以调用Data方法。"}]},{"ID":"20230724231608-gkw1o8x","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231608-gkw1o8x","updated":"20230724231608"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#259","TextMarkTextContent":"Data"}]},{"ID":"20230724231609-hs5xu4o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231609-hs5xu4o","updated":"20230724231609"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Data() (io.WriteCloser, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231610-vfufymj","Type":"NodeParagraph","Properties":{"id":"20230724231610-vfufymj","updated":"20230724231610"},"Children":[{"Type":"NodeText","Data":"Data发送DATA指令到服务器并返回一个io.WriteCloser，用于写入邮件信息。调用者必须在调用c的下一个方法之前关闭这个io.WriteCloser。方法必须在一次或多次Rcpt方法之后调用。"}]},{"ID":"20230724231611-huavple","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231611-huavple","updated":"20230724231611"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#339","TextMarkTextContent":"Reset"}]},{"ID":"20230724231612-u1qf0nk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231612-u1qf0nk","updated":"20230724231612"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Reset() error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231613-zuc9o3z","Type":"NodeParagraph","Properties":{"id":"20230724231613-zuc9o3z","updated":"20230724231613"},"Children":[{"Type":"NodeText","Data":"Reset向服务端发送REST命令，中断当前的邮件传输。"}]},{"ID":"20230724231614-7o0hgv0","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231614-7o0hgv0","updated":"20230724231614"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#348","TextMarkTextContent":"Quit"}]},{"ID":"20230724231615-45q8xev","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231615-45q8xev","updated":"20230724231615"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Quit() error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231616-3op04jx","Type":"NodeParagraph","Properties":{"id":"20230724231616-3op04jx","updated":"20230724231616"},"Children":[{"Type":"NodeText","Data":"Quit发送QUIT命令并关闭到服务端的连接。"}]},{"ID":"20230724231617-5wkwuf0","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231617-5wkwuf0","updated":"20230724231617"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Client) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#68","TextMarkTextContent":"Close"}]},{"ID":"20230724231618-49bo9fh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231618-49bo9fh","updated":"20230724231618"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Client) Close() error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231619-doilt7m","Type":"NodeParagraph","Properties":{"id":"20230724231619-doilt7m","updated":"20230724231619"},"Children":[{"Type":"NodeText","Data":"Close关闭连接。"}]},{"ID":"20230724231620-cv4e0mg","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231620-cv4e0mg","updated":"20230724231620"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/smtp/smtp.go?name=release#273","TextMarkTextContent":"SendMail"}]},{"ID":"20230724231621-8c861cb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231621-8c861cb","updated":"20230724231621"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SendMail(addr string, a Auth, from string, to []string, msg []byte) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231622-y254b00","Type":"NodeParagraph","Properties":{"id":"20230724231622-y254b00","updated":"20230724231622"},"Children":[{"Type":"NodeText","Data":"SendMail连接到addr指定的服务器；如果支持会开启TLS；如果支持会使用a认证身份；然后以from为邮件源地址发送邮件msg到目标地址to。（可以是多个目标地址：群发）"}]}]}