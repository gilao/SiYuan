{"ID":"20230724231636-7eahyx1","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231636-7eahyx1","title":"index-suffixarray","updated":"20230724231636"},"Children":[{"ID":"20230724231637-fk09e8a","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231637-fk09e8a","updated":"20230724231637"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"index-suffixarray"}]},{"ID":"20230724231638-dey8og7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231638-dey8og7","updated":"20230724231638"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"index/suffixarray\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231639-afj1hbg","Type":"NodeParagraph","Properties":{"id":"20230724231639-afj1hbg","updated":"20230724231639"},"Children":[{"Type":"NodeText","Data":"suffixarrayb包通过使用内存中的后缀树实现了对数级时间消耗的子字符串搜索。"}]},{"ID":"20230724231640-78glkm5","Type":"NodeParagraph","Properties":{"id":"20230724231640-78glkm5","updated":"20230724231640"},"Children":[{"Type":"NodeText","Data":"用法举例："}]},{"ID":"20230724231641-h9c078x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231641-h9c078x","updated":"20230724231641"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"// 创建数据的索引\nindex := suffixarray.New(data)\n// 查找切片s\noffsets1 := index.Lookup(s, -1) // 返回data中所有s出现的位置\noffsets2 := index.Lookup(s, 3)  // 返回data中最多3个所有s出现的位置\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231642-zry2crf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231642-zry2crf","updated":"20230724231642"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#28","TextMarkTextContent":"Index"}]},{"ID":"20230724231643-b2zol4e","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231643-b2zol4e","updated":"20230724231643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Index struct {\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231644-dp40lxl","Type":"NodeParagraph","Properties":{"id":"20230724231644-dp40lxl","updated":"20230724231644"},"Children":[{"Type":"NodeText","Data":"Index类型实现了用于快速子字符串搜索的后缀数组。"}]},{"ID":"20230724231645-i5wj3f0","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231645-i5wj3f0","updated":"20230724231645"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#35","TextMarkTextContent":"New"}]},{"ID":"20230724231646-5oizdfs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231646-5oizdfs","updated":"20230724231646"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func New(data []byte) *Index\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231647-r59wqhx","Type":"NodeParagraph","Properties":{"id":"20230724231647-r59wqhx","updated":"20230724231647"},"Children":[{"Type":"NodeText","Data":"使用给出的[]byte数据生成一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"Index，时间复杂度O(N"},{"Type":"NodeText","Data":"log(N))。"}]},{"ID":"20230724231648-am6lscz","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231648-am6lscz","updated":"20230724231648"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Index) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#165","TextMarkTextContent":"Bytes"}]},{"ID":"20230724231649-jzbb8cr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231649-jzbb8cr","updated":"20230724231649"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (x *Index) Bytes() []byte\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231650-t3jmm2s","Type":"NodeParagraph","Properties":{"id":"20230724231650-t3jmm2s","updated":"20230724231650"},"Children":[{"Type":"NodeText","Data":"返回创建x时提供的[]byte数据，注意不能修改返回值。"}]},{"ID":"20230724231651-p067wzt","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231651-p067wzt","updated":"20230724231651"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Index) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#98","TextMarkTextContent":"Read"}]},{"ID":"20230724231652-xi11pat","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231652-xi11pat","updated":"20230724231652"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (x *Index) Read(r io.Reader) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231653-fa2zg9e","Type":"NodeParagraph","Properties":{"id":"20230724231653-fa2zg9e","updated":"20230724231653"},"Children":[{"Type":"NodeText","Data":"从r中读取一个index写入x，x不能为nil。"}]},{"ID":"20230724231654-79e3qc1","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231654-79e3qc1","updated":"20230724231654"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Index) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#137","TextMarkTextContent":"Write"}]},{"ID":"20230724231655-7xgcr72","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231655-7xgcr72","updated":"20230724231655"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (x *Index) Write(w io.Writer) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231656-dkr1uft","Type":"NodeParagraph","Properties":{"id":"20230724231656-dkr1uft","updated":"20230724231656"},"Children":[{"Type":"NodeText","Data":"将x中的index写入w中，x不能为nil。"}]},{"ID":"20230724231657-lsfe4em","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231657-lsfe4em","updated":"20230724231657"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Index) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#190","TextMarkTextContent":"Lookup"}]},{"ID":"20230724231658-ac7x8a3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231658-ac7x8a3","updated":"20230724231658"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (x *Index) Lookup(s []byte, n int) (result []int)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231659-bk5unn1","Type":"NodeParagraph","Properties":{"id":"20230724231659-bk5unn1","updated":"20230724231659"},"Children":[{"Type":"NodeText","Data":"返回一个未排序的列表，内为s在被索引为index的切片数据中出现的位置。如果n\u003c0，返回全部匹配；如果n==0或s为空，返回nil；否则n为result的最大长度。时间复杂度O(log(N)*len(s) + len(result))，其中N是被索引的数据的大小。"}]},{"ID":"20230724231660-fhn1man","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231660-fhn1man","updated":"20230724231660"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Index) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/index/suffixarray/suffixarray.go?name=release#212","TextMarkTextContent":"FindAllIndex"}]},{"ID":"20230724231661-7x42me6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231661-7x42me6","updated":"20230724231661"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (x *Index) FindAllIndex(r *regexp.Regexp, n int) (result [][]int)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231662-kgkdkk3","Type":"NodeParagraph","Properties":{"id":"20230724231662-kgkdkk3","updated":"20230724231662"},"Children":[{"Type":"NodeText","Data":"返回一个正则表达式r的不重叠的匹配的经过排序的列表，一个匹配表示为一对指定了匹配结果的切片的索引（相对于x.Bytes())。如果n\u003c0，返回全部匹配；如果n==0或匹配失败，返回nil；否则n为result的最大长度。"}]}]}