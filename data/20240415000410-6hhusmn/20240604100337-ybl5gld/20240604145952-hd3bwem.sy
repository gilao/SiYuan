{"ID":"20240604145952-hd3bwem","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1fad0","id":"20240604145952-hd3bwem","title":"目录结构","type":"doc","updated":"20240604160925"},"Children":[{"ID":"20240604150008-vsalyux","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240604150008-vsalyux","updated":"20240604150009"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"├─.chglog\n├─.github\n│  └─workflows\n├─.idea\n├─api\n│  ├─openapi\n│  └─swagger\n│      └─docs\n├─build\n│  ├─ci\n│  ├─docker\n│  │  ├─iam-apiserver\n│  │  ├─iam-authz-server\n│  │  ├─iam-pump\n│  │  ├─iam-watcher\n│  │  └─iamctl\n│  └─package\n├─CHANGELOG\n├─cmd\n│  ├─gendocs\n│  ├─geniamdocs\n│  ├─genman\n│  ├─genswaggertypedocs\n│  ├─genyaml\n│  ├─iam-apiserver\n│  ├─iam-authz-server\n│  ├─iam-pump\n│  ├─iam-watcher\n│  └─iamctl\n├─configs\n│  ├─cert\n│  └─ha\n│      ├─10.0.4.20\n│      └─10.0.4.21\n├─deployments\n│  ├─iam\n│  │  ├─service-with-nodeport\n│  │  └─templates\n│  └─templates\n├─docs\n│  ├─devel\n│  │  └─zh-CN\n│  │      └─tools\n│  ├─guide\n│  │  ├─en-US\n│  │  │  ├─cmd\n│  │  │  │  └─iamctl\n│  │  │  └─yaml\n│  │  │      └─iamctl\n│  │  └─zh-CN\n│  │      ├─api\n│  │      ├─best-practice\n│  │      ├─faq\n│  │      │  ├─iam-apiserver\n│  │      │  └─installation\n│  │      ├─geekbang\n│  │      ├─installation\n│  │      ├─introduction\n│  │      ├─operation-guide\n│  │      ├─quickstart\n│  │      └─sdk\n│  ├─images\n│  └─man\n│      └─man1\n├─examples\n│  ├─code\n│  └─error\n├─githooks\n├─init\n├─internal\n│  ├─apiserver\n│  │  ├─config\n│  │  ├─controller\n│  │  │  └─v1\n│  │  │      ├─cache\n│  │  │      ├─policy\n│  │  │      ├─secret\n│  │  │      └─user\n│  │  ├─options\n│  │  ├─service\n│  │  │  └─v1\n│  │  ├─store\n│  │  │  ├─etcd\n│  │  │  ├─fake\n│  │  │  └─mysql\n│  │  └─testing\n│  ├─authzserver\n│  │  ├─analytics\n│  │  ├─authorization\n│  │  │  └─authorizer\n│  │  ├─config\n│  │  ├─controller\n│  │  │  └─v1\n│  │  │      └─authorize\n│  │  ├─load\n│  │  │  └─cache\n│  │  ├─options\n│  │  ├─store\n│  │  │  └─apiserver\n│  │  └─testing\n│  ├─iamctl\n│  │  ├─cmd\n│  │  │  ├─color\n│  │  │  ├─completion\n│  │  │  ├─info\n│  │  │  ├─jwt\n│  │  │  ├─new\n│  │  │  ├─options\n│  │  │  ├─policy\n│  │  │  ├─secret\n│  │  │  ├─set\n│  │  │  ├─user\n│  │  │  ├─util\n│  │  │  ├─validate\n│  │  │  └─version\n│  │  └─util\n│  │      ├─interrupt\n│  │      ├─templates\n│  │      └─term\n│  ├─pkg\n│  │  ├─code\n│  │  ├─logger\n│  │  ├─middleware\n│  │  │  └─auth\n│  │  ├─options\n│  │  ├─server\n│  │  ├─util\n│  │  │  ├─gormutil\n│  │  │  └─reflect\n│  │  └─validation\n│  ├─pump\n│  │  ├─analytics\n│  │  ├─config\n│  │  ├─options\n│  │  ├─pumps\n│  │  ├─storage\n│  │  │  └─redis\n│  │  └─testing\n│  └─watcher\n│      ├─config\n│      ├─options\n│      └─watcher\n│          ├─all\n│          ├─clean\n│          └─task\n├─pkg\n│  ├─app\n│  ├─cli\n│  │  └─genericclioptions\n│  ├─db\n│  ├─log\n│  │  ├─cronlog\n│  │  ├─distribution\n│  │  ├─example\n│  │  │  ├─context\n│  │  │  ├─simple\n│  │  │  └─vlevel\n│  │  ├─klog\n│  │  └─logrus\n│  ├─shutdown\n│  │  └─shutdownmanagers\n│  │      └─posixsignal\n│  ├─storage\n│  ├─util\n│  │  ├─flag\n│  │  └─genutil\n│  └─validator\n├─scripts\n│  ├─install\n│  ├─lib\n│  ├─make-rules\n│  ├─release\n│  └─templates\n├─test\n│  ├─jwt\n│  ├─nginx\n│  └─testdata\n├─third_party\n│  └─forked\n│      └─murmur3\n└─tools\n    ├─codegen\n    ├─geniptables\n    ├─gentoken\n    └─httptest\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240604145952-v1m3llx","Type":"NodeParagraph","Properties":{"id":"20240604145952-v1m3llx","updated":"20240604150134"},"Children":[{"Type":"NodeText","Data":"一个Go项目包含3个部分：Go应用、项目管理和文档。项目目录也分为三类。"}]},{"ID":"20240604150139-9i2ndnr","Type":"NodeParagraph","Properties":{"id":"20240604150139-9i2ndnr","updated":"20240604150223"},"Children":[{"Type":"NodeText","Data":"同时Go项目又贯穿开发阶段、测试阶段、部署阶段，应用类的目录又可以按开发流程分为更小的子类。"}]},{"ID":"20240604152136-lo62abd","Type":"NodeParagraph","Properties":{"id":"20240604152136-lo62abd","updated":"20240604152136"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240604152136-6adp5vu.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604152140-j0ifvuf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240604152140-j0ifvuf","updated":"20240604152203"},"Children":[{"Type":"NodeText","Data":"Go应用： 主要存放前后端代码"}]},{"ID":"20240604152204-956uu5p","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604152204-956uu5p","updated":"20240604152212"},"Children":[{"Type":"NodeText","Data":"/web"}]},{"ID":"20240604152212-0nby2m7","Type":"NodeParagraph","Properties":{"id":"20240604152212-0nby2m7","updated":"20240604152614"},"Children":[{"Type":"NodeText","Data":"前端存放目录，主要用来存放Web静态资源、服务端模板和单页应用。56"}]},{"ID":"20240604152618-03he8c9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604152618-03he8c9","updated":"20240604152627"},"Children":[{"Type":"NodeText","Data":"/cmd"}]},{"ID":"20240604152628-ljrn7zw","Type":"NodeParagraph","Properties":{"id":"20240604152628-ljrn7zw","updated":"20240604152706"},"Children":[{"Type":"NodeText","Data":"一个项目有很多组件，可以把各组件 main函数所在的文件夹统一放在 /cmd 目录下"}]},{"ID":"20240604152709-hc8wmb4","Type":"NodeParagraph","Properties":{"id":"20240604152709-hc8wmb4","updated":"20240604152712"},"Children":[{"Type":"NodeText","Data":"例如："}]},{"ID":"20240604152733-12vrz9v","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240604152733-12vrz9v","updated":"20240604152733"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"PS E:\\go\\scaffolding\\iam\\cmd\u003e ls\n\n\n    目录: E:\\go\\scaffolding\\iam\\cmd\n\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\nd-----          2024/6/4     15:24                gendocs\nd-----          2024/6/4     15:24                geniamdocs\nd-----          2024/6/4     15:24                genman\nd-----          2024/6/4     15:24                genswaggertypedocs\nd-----          2024/6/4     15:24                genyaml\nd-----          2024/6/4     15:24                iam-apiserver\nd-----          2024/6/4     15:24                iam-authz-server\nd-----          2024/6/4     15:24                iam-pump\nd-----          2024/6/4     15:24                iam-watcher\nd-----          2024/6/4     15:24                iamctl\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240604152713-f1sk89v","Type":"NodeParagraph","Properties":{"id":"20240604152713-f1sk89v","updated":"20240604153013"},"Children":[{"Type":"NodeText","Data":"每个组件的目录名应该跟你期望的可执行文件名保持一致，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/cmd/\u0026lt;组件名\u0026gt;"},{"Type":"NodeText","Data":"​目录下不要存放太多的代码，如果你认为代码可以导入并在其他项目中使用，那么它应该位于"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/pkg"},{"Type":"NodeText","Data":"​目录中，如果代码是不可重中的或者你不希望其他人重用它，请将该代码放到 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal"},{"Type":"NodeText","Data":"​目录中。"}]},{"ID":"20240604153013-3kl8yvq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604153013-3kl8yvq","updated":"20240604153022"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604153022-c631e3l","Type":"NodeParagraph","Properties":{"id":"20240604153022-c631e3l","updated":"20240604153119"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal"},{"Type":"NodeText","Data":"​目录存放私有应用和库代码。建议"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal"},{"Type":"NodeText","Data":"​目录中包括如下目录："}]},{"ID":"20240604153119-gxr6nkw","Type":"NodeList","ListData":{},"Properties":{"id":"20240604153119-gxr6nkw","updated":"20240604153310"},"Children":[{"ID":"20240604153121-0vfwthc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604153121-0vfwthc","updated":"20240604153121"},"Children":[{"ID":"20240604153121-qmnzi3f","Type":"NodeParagraph","Properties":{"id":"20240604153121-qmnzi3f","updated":"20240604153143"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver"},{"Type":"NodeText","Data":"​: 该目录中存放真实的应用代码。"}]}]},{"ID":"20240604153154-epujq38","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604153154-epujq38","updated":"20240604153310"},"Children":[{"ID":"20240604153154-3h72je4","Type":"NodeParagraph","Properties":{"id":"20240604153154-3h72je4","updated":"20240604153310"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pkg"},{"Type":"NodeText","Data":"​：存放项目内可共享，项目外不共享的包。这些包提供了比较基础通用的功能。例如错误代码验证、用户验证等"}]}]}]},{"ID":"20240604153357-juktin5","Type":"NodeParagraph","Properties":{"id":"20240604153357-juktin5","updated":"20240604153428"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal"},{"Type":"NodeText","Data":"​目录大概包含3类子目录："}]},{"ID":"20240604153429-mk8loja","Type":"NodeList","ListData":{},"Properties":{"id":"20240604153429-mk8loja","updated":"20240604153430"},"Children":[{"ID":"20240604153430-0g7ltfg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604153430-0g7ltfg","updated":"20240604153430"},"Children":[{"ID":"20240604153430-0rlqz4l","Type":"NodeParagraph","Properties":{"id":"20240604153430-0rlqz4l","updated":"20240604153451"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pkg"},{"Type":"NodeText","Data":"​：内部共享包存放目录"}]}]},{"ID":"20240604153451-n8y0dvw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604153451-n8y0dvw"},"Children":[{"ID":"20240604153451-9j7oufx","Type":"NodeParagraph","Properties":{"id":"20240604153451-9j7oufx","updated":"20240604153604"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/authzserver"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pump"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/watcher"},{"Type":"NodeText","Data":"​：应用目录，里面包含应用程序的实现代码"}]}]},{"ID":"20240604153605-m292qm0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604153605-m292qm0"},"Children":[{"ID":"20240604153605-7edmb2n","Type":"NodeParagraph","Properties":{"id":"20240604153605-7edmb2n","updated":"20240604153659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/iamctl"},{"Type":"NodeText","Data":"​：对于一些大型项目，可能还会需要一个客户端工具，该目录用来存放客户端工具的实现代码"}]}]}]},{"ID":"20240604153700-w325a32","Type":"NodeParagraph","Properties":{"id":"20240604153700-w325a32","updated":"20240604153747"},"Children":[{"Type":"NodeText","Data":"每个应用程序内部也会有一些目录结构，这些目录结构主要根据功能来划分："}]},{"ID":"20240604153747-m3dej7k","Type":"NodeList","ListData":{},"Properties":{"id":"20240604153747-m3dej7k","updated":"20240604153751"},"Children":[{"ID":"20240604153751-r94t5o1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604153751-r94t5o1","updated":"20240604153751"},"Children":[{"ID":"20240604153751-yuns61n","Type":"NodeParagraph","Properties":{"id":"20240604153751-yuns61n","updated":"20240604154036"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver/controller/v1"},{"Type":"NodeText","Data":"​：HTTP API 接口的具体实现，主要用来做HTTP 请求的解包、参数校验、业务逻辑处理、返回。这里的业务应该是轻量级的，如果业务逻辑比较复杂，代码量较多，则放入到"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver/service"},{"Type":"NodeText","Data":"​目录下"}]}]},{"ID":"20240604154037-bqhtnkw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154037-bqhtnkw"},"Children":[{"ID":"20240604154037-8elej26","Type":"NodeParagraph","Properties":{"id":"20240604154037-8elej26","updated":"20240604154110"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver/options"},{"Type":"NodeText","Data":"​：应用的command 命令行选项"}]}]},{"ID":"20240604154110-isnb3cr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154110-isnb3cr"},"Children":[{"ID":"20240604154110-4p3uy00","Type":"NodeParagraph","Properties":{"id":"20240604154110-4p3uy00","updated":"20240604154135"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver/config"},{"Type":"NodeText","Data":"​根据命令行参数创建应用配置"}]}]},{"ID":"20240604154136-aprjdfw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154136-aprjdfw"},"Children":[{"ID":"20240604154136-06gzy5o","Type":"NodeParagraph","Properties":{"id":"20240604154136-06gzy5o","updated":"20240604154158"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver/service"},{"Type":"NodeText","Data":"​存放应用实际的业务处理代码"}]}]},{"ID":"20240604154159-74muj0a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154159-74muj0a"},"Children":[{"ID":"20240604154159-mwtwe15","Type":"NodeParagraph","Properties":{"id":"20240604154159-mwtwe15","updated":"20240604154307"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/apiserver/store/mysql"},{"Type":"NodeText","Data":"​一个应用可能要持久化地存储一些数据，这里主要存放跟数据库交互的代码，比如 Create、Update、Delete、Get、List 等"}]}]}]},{"ID":"20240604154316-3yblieo","Type":"NodeParagraph","Properties":{"id":"20240604154316-3yblieo","updated":"20240604154344"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pkg"},{"Type":"NodeText","Data":"​目录存放项目内可共享的包，"}]},{"ID":"20240604154346-bzg77m4","Type":"NodeList","ListData":{},"Properties":{"id":"20240604154346-bzg77m4","updated":"20240604154347"},"Children":[{"ID":"20240604154347-bld3uwi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154347-bld3uwi","updated":"20240604154347"},"Children":[{"ID":"20240604154347-fq31a7h","Type":"NodeParagraph","Properties":{"id":"20240604154347-fq31a7h","updated":"20240604154403"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pkg/code"},{"Type":"NodeText","Data":"​项目业务Code码"}]}]},{"ID":"20240604154403-vwklo9l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154403-vwklo9l"},"Children":[{"ID":"20240604154403-bhzr949","Type":"NodeParagraph","Properties":{"id":"20240604154403-bhzr949","updated":"20240604154423"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pkg/validation"},{"Type":"NodeText","Data":"​一些通用的验证函数"}]}]},{"ID":"20240604154424-hzy34ti","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604154424-hzy34ti"},"Children":[{"ID":"20240604154424-gkpc8c5","Type":"NodeParagraph","Properties":{"id":"20240604154424-gkpc8c5","updated":"20240604154443"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/internal/pkg/middleware"},{"Type":"NodeText","Data":"​HTTP处理链"}]}]}]},{"ID":"20240604154445-9mwsuzx","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154445-9mwsuzx","updated":"20240604154450"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/pkg"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154451-w7kdxi5","Type":"NodeParagraph","Properties":{"id":"20240604154451-w7kdxi5","updated":"20240604154529"},"Children":[{"Type":"NodeText","Data":"该目录存放可以被外部应用使用的代码库"}]},{"ID":"20240604154535-04j8ahk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154535-04j8ahk","updated":"20240604154541"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/vendor"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154541-pehpea4","Type":"NodeParagraph","Properties":{"id":"20240604154541-pehpea4","updated":"20240604154609"},"Children":[{"Type":"NodeText","Data":"项目依赖，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"go mod vendor"},{"Type":"NodeText","Data":"​创建"}]},{"ID":"20240604154609-17il0j8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154609-17il0j8","updated":"20240604154618"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/third_party"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154618-7bs3480","Type":"NodeParagraph","Properties":{"id":"20240604154618-7bs3480","updated":"20240604154641"},"Children":[{"Type":"NodeText","Data":"外部工具，分支代码，或其他第三方应用"}]},{"ID":"20240604154648-0r60o7y","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240604154648-0r60o7y","updated":"20240604154705"},"Children":[{"Type":"NodeText","Data":"主要存放测试相关的文件和代码"}]},{"ID":"20240604154706-mvak0h1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154706-mvak0h1","updated":"20240604154708"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/test"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154710-w3uo0j4","Type":"NodeParagraph","Properties":{"id":"20240604154710-w3uo0j4","updated":"20240604154732"},"Children":[{"Type":"NodeText","Data":"用于存放其他外部测试应用和测试数据"}]},{"ID":"20240604154733-o423yyy","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240604154733-o423yyy","updated":"20240604154752"},"Children":[{"Type":"NodeText","Data":"存放与应用部署的相关文件"}]},{"ID":"20240604154753-kuunxy3","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154753-kuunxy3","updated":"20240604154759"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/config"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154800-joe6ciy","Type":"NodeParagraph","Properties":{"id":"20240604154800-joe6ciy","updated":"20240604154812"},"Children":[{"Type":"NodeText","Data":"用于存放文件模板或默认配置"}]},{"ID":"20240604154812-p1dxb6r","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154812-p1dxb6r","updated":"20240604154822"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/deployments"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154823-7cwbvus","Type":"NodeParagraph","Properties":{"id":"20240604154823-7cwbvus","updated":"20240604154837"},"Children":[{"Type":"NodeText","Data":"用于存放容器编排部署模板和配置"}]},{"ID":"20240604154843-acaynlx","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154843-acaynlx","updated":"20240604154850"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/init"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154850-g1vh01n","Type":"NodeParagraph","Properties":{"id":"20240604154850-g1vh01n","updated":"20240604154910"},"Children":[{"Type":"NodeText","Data":"用于存放初始化系统和进程管理配置文件"}]},{"ID":"20240604154917-dd3g7cp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240604154917-dd3g7cp","updated":"20240604154932"},"Children":[{"Type":"NodeText","Data":"存放Go项目的各类文件"}]},{"ID":"20240604154933-cc38j89","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604154933-cc38j89","updated":"20240604154942"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/Makefile"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604154943-au898ua","Type":"NodeParagraph","Properties":{"id":"20240604154943-au898ua","updated":"20240604155006"},"Children":[{"Type":"NodeText","Data":"Makefile 是一个很老的项目管理工具，"}]},{"ID":"20240604155201-x5txv75","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"|","id":"20240604155201-x5txv75","updated":"20240604155201"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"功能"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"Makefile命令示例"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"编译主程序"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"build: go build -o bin/myapp main.go"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"清理编译生成的文件"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"clean: rm -f bin/*"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"运行测试"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"test: go test -v ./..."},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"生成覆盖报告"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"coverage: go test -coverprofile=coverage.out ./... \u0026amp;\u0026amp; go tool cover -html=coverage.out"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"格式化代码"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"fmt: go fmt ./..."},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"静态代码分析"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"vet: go vet ./..."},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"构建Linux可执行文件"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"build-linux: GOOS=linux GOARCH=amd64 go build -o bin/myapp-linux main.go"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"安装依赖"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"install-deps: go mod download"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"生成文档"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docs: godoc -http=:6060"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"打包可执行文件为tar.gz"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"package: CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/myapp \u0026amp;\u0026amp; tar -czvf myapp.tar.gz bin/myapp"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"设置版本信息"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ldflags: go build -ldflags \u0026quot;-X 'main.Version=$(git describe --tags)'\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"伪目标-默认任务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".PHONY: build clean test fmt vet install-deps docs package"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"默认任务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"all: build test fmt vet"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240604155203-ps7kqlo","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604155203-ps7kqlo","updated":"20240604155213"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/scripts"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604155214-tp1258b","Type":"NodeParagraph","Properties":{"id":"20240604155214-tp1258b","updated":"20240604155245"},"Children":[{"Type":"NodeText","Data":"主要用来存放脚本文件，实现构建、安装、分析等不同功能。"}]},{"ID":"20240604155328-sb171od","Type":"NodeParagraph","Properties":{"id":"20240604155328-sb171od","updated":"20240604155519"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/scripts/make-rules"},{"Type":"NodeText","Data":"​用于存放Makefile文件，欸蓝保持Makefile简洁，将各个功能的具体实现放在该目录下\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/scripts/lib"},{"Type":"NodeText","Data":"​shell库，用于存放shell 脚本，比如发布、更新文档、生成代码等"}]},{"ID":"20240604155520-vy0gh5r","Type":"NodeParagraph","Properties":{"id":"20240604155520-vy0gh5r","updated":"20240604155554"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/scripts/install"},{"Type":"NodeText","Data":"​如果项目支持自动化部署，则将自动化部署脚本呢放在此目录下"}]},{"ID":"20240604155558-db99l8p","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604155558-db99l8p","updated":"20240604155602"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/build"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604155603-t2cvdiv","Type":"NodeParagraph","Properties":{"id":"20240604155603-t2cvdiv","updated":"20240604155619"},"Children":[{"Type":"NodeText","Data":"用于存放安装包和持续集成相关的文件。"}]},{"ID":"20240604155628-3vgstci","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604155628-3vgstci","updated":"20240604155635"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/tools"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604155635-grc8yey","Type":"NodeParagraph","Properties":{"id":"20240604155635-grc8yey","updated":"20240604155649"},"Children":[{"Type":"NodeText","Data":"用于存放这个项目的支持工具"}]},{"ID":"20240604155804-7e1eoxr","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604155804-7e1eoxr","updated":"20240604155811"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/githooks"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604155811-bon4rt0","Type":"NodeParagraph","Properties":{"id":"20240604155811-bon4rt0","updated":"20240604155818"},"Children":[{"Type":"NodeText","Data":"Git 钩子"}]},{"ID":"20240604155818-lbru7c1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604155818-lbru7c1","updated":"20240604155824"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/assets"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604155824-4kbs7qb","Type":"NodeParagraph","Properties":{"id":"20240604155824-4kbs7qb","updated":"20240604155854"},"Children":[{"Type":"NodeText","Data":"用于存放项目使用的其他资源；图片 CSS JavaScript等"}]},{"ID":"20240604155854-gzqvu85","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604155854-gzqvu85","updated":"20240604155905"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/website"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604155906-ysneo9w","Type":"NodeParagraph","Properties":{"id":"20240604155906-ysneo9w","updated":"20240604155944"},"Children":[{"Type":"NodeText","Data":"如果不使用Github页面，可以在这里放置项目网站的相关数据"}]},{"ID":"20240604155949-5dq1dhm","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240604155949-5dq1dhm","updated":"20240604160001"},"Children":[{"Type":"NodeText","Data":"主要存放项目的各类文档"}]},{"ID":"20240604160002-kne1ryb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160002-kne1ryb","updated":"20240604160009"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/README.md"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160010-3yyagz3","Type":"NodeParagraph","Properties":{"id":"20240604160010-3yyagz3","updated":"20240604160324"},"Children":[{"Type":"NodeText","Data":"项目的README 文档一般包含了项目的介绍、功能、快速安装和使用指南、详细的文档连接以及开发指引等，有时为了可以快速定位到所需内容，需要添加Markdown TOC索引，可以借助工具 tocenize来完成索引的添加"}]},{"ID":"20240604160019-cnjc9ur","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160019-cnjc9ur","updated":"20240604160331"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/docs"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160332-6601skk","Type":"NodeParagraph","Properties":{"id":"20240604160332-6601skk","updated":"20240604160407"},"Children":[{"Type":"NodeText","Data":"用于存放设计文档，开发文档和用户文档"}]},{"ID":"20240604160501-f7u5ljv","Type":"NodeList","ListData":{},"Properties":{"id":"20240604160501-f7u5ljv","updated":"20240604160502"},"Children":[{"ID":"20240604160502-ayjrlus","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604160502-ayjrlus","updated":"20240604160502"},"Children":[{"ID":"20240604160502-se9svsp","Type":"NodeParagraph","Properties":{"id":"20240604160502-se9svsp","updated":"20240604160521"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/docs/devel"},{"Type":"NodeText","Data":"​存放开发文档、hack文档"}]}]},{"ID":"20240604160521-gi5p1wa","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604160521-gi5p1wa"},"Children":[{"ID":"20240604160521-sgjy4w2","Type":"NodeParagraph","Properties":{"id":"20240604160521-sgjy4w2","updated":"20240604160600"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docs/guide"},{"Type":"NodeText","Data":"​存放用户手册、安装、quickstart、产品文档等"}]}]},{"ID":"20240604160601-adyxt87","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240604160601-adyxt87"},"Children":[{"ID":"20240604160601-nxvkhr5","Type":"NodeParagraph","Properties":{"id":"20240604160601-nxvkhr5","updated":"20240604160612"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docs/images"},{"Type":"NodeText","Data":"​存放图片文件"}]}]}]},{"ID":"20240604160613-9nvkydf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160613-9nvkydf","updated":"20240604160630"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/CONTRIBUTING.md"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160631-4y3gir7","Type":"NodeParagraph","Properties":{"id":"20240604160631-4y3gir7","updated":"20240604160655"},"Children":[{"Type":"NodeText","Data":"用来说明如何贡献代码，如何开源协同等。"}]},{"ID":"20240604160700-z633ivq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160700-z633ivq","updated":"20240604160704"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/api"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160704-knca6e1","Type":"NodeParagraph","Properties":{"id":"20240604160704-knca6e1","updated":"20240604160728"},"Children":[{"Type":"NodeText","Data":"对外提供的各种不同类型的API接口定义文件"}]},{"ID":"20240604160732-i938tbb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160732-i938tbb","updated":"20240604160740"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LICENSE"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160740-93vppc0","Type":"NodeParagraph","Properties":{"id":"20240604160740-93vppc0","updated":"20240604160757"},"Children":[{"Type":"NodeText","Data":"版权文件可以是私有的，也可以是开源的，"}]},{"ID":"20240604160813-wj6tka9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160813-wj6tka9","updated":"20240604160828"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/CHANGELOG"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160828-qnfdcf7","Type":"NodeParagraph","Properties":{"id":"20240604160828-qnfdcf7","updated":"20240604160855"},"Children":[{"Type":"NodeText","Data":"版本更新历史记录"}]},{"ID":"20240604160856-0tbaogz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240604160856-0tbaogz","updated":"20240604160901"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/example"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240604160901-3cr2968","Type":"NodeParagraph","Properties":{"id":"20240604160901-3cr2968","updated":"20240604160925"},"Children":[{"Type":"NodeText","Data":"用于存放应用程序或者公共包的示例代码。"}]}]}