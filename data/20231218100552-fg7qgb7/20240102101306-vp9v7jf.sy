{"ID":"20240102101306-vp9v7jf","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f3c7","id":"20240102101306-vp9v7jf","tags":"Go-RuleGo","title":"RuleGo 一个基于 Go 语言的轻量级、高性能、嵌入式规则引擎","updated":"20240102101425"},"Children":[{"ID":"20240102101338-kvjcdh2","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240102101338-kvjcdh2","updated":"20240102101355"},"Children":[{"Type":"NodeText","Data":"背景介绍"}]},{"ID":"20240102101409-k5ahvpq","Type":"NodeParagraph","Properties":{"id":"20240102101409-k5ahvpq","updated":"20240102101425"},"Children":[{"Type":"NodeText","Data":"在处理大量数据时，我们经常需要"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color6);"},"TextMarkType":"strong text","TextMarkTextContent":"对数据进行聚合、分发、过滤、转换、丰富和执行各种操作。"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color6);\"}"},{"Type":"NodeText","Data":"而 RuleGo 是一个基于 Go 语言的轻量级、高性能、嵌入式规则引擎，可以帮助我们解决这些问题。它可以在低成本设备上高效地处理和链接数据，适用于物联网边缘计算。同时，RuleGo 还是一个灵活、高度可定制的事件处理框架，可以满足高度个性化或频繁变化的业务场景需求。"}]},{"ID":"20240102101409-157ettf","Type":"NodeParagraph","Properties":{"id":"20240102101409-157ettf","updated":"20240102101409"},"Children":[{"Type":"NodeText","Data":"用一句话介绍 RuleGo 项目就是：“RuleGo is a lightweight, high-performance, embedded rule engine based on Go language. It can aggregate, distribute, filter, transform, enrich and execute various actions on input messages.”。"}]},{"ID":"20240102101432-lxtuhij","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240102101432-lxtuhij","updated":"20240102101437"},"Children":[{"Type":"NodeText","Data":"项目介绍"}]},{"ID":"20240102101445-ooey1d8","Type":"NodeParagraph","Properties":{"id":"20240102101445-ooey1d8","updated":"20240102101445"},"Children":[{"Type":"NodeText","Data":"RuleGo 是一个基于编排的规则引擎，最擅长解耦系统。它采用协程池和对象池等技术，结合 Go 语言的高性能特性，可以在10W 数据处理 JS 脚本过滤-\u003e JS 脚本数据处理-\u003e HTTP 推送的情况下，平均处理时间为 9 秒。同时，RuleGo 支持将自己嵌入到现有项目中，非侵入式地利用其特性。所有业务逻辑都是组件化的，可以灵活配置和重用。你可以灵活地组合和重用不同的组件，以实现高度可定制和可扩展的业务流程。支持规则链的动态编排，你可以将你的业务封装成 RuleGo 组件，通过构建块实现高度变化的业务需求。"}]},{"ID":"20240102101445-i1581n2","Type":"NodeParagraph","Properties":{"id":"20240102101445-i1581n2","updated":"20240102101930"},"Children":[{"Type":"NodeText","Data":"同时，RuleGo 提供了丰富灵活的扩展接口和钩子，如：自定义组件、组件注册管理、规则链 DSL 解析器、协程池、规则节点消息流入/流出回调、规则链处理结束回调等。支持通过 Go 插件动态加载组件和扩展组件。内置常用组件包括：消息类型切换、JavaScript 切换、JavaScript 过滤器、JavaScript 转换器、HTTP 推送、MQTT 推送、发送电子邮件、日志记录等组件。你也可以自己扩展其他组件。同时，RuleGo 还具有可靠的上下文隔离机制，无需担心高并发情况下的数据流问题。 "}]},{"ID":"20240102102143-84hakd3","Type":"NodeParagraph","Properties":{"id":"20240102102143-84hakd3","updated":"20240102102143"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240102102142-b97ddnv.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240102102241-2a3tbvd","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240102102241-2a3tbvd","updated":"20240102102245"},"Children":[{"Type":"NodeText","Data":"如何使用"}]},{"ID":"20240102102250-1f8p659","Type":"NodeParagraph","Properties":{"id":"20240102102250-1f8p659","updated":"20240102102250"},"Children":[{"Type":"NodeText","Data":"你可以通过以下步骤安装和使用 RuleGo："}]},{"ID":"20240102102250-zwgi76w","Type":"NodeParagraph","Properties":{"id":"20240102102250-zwgi76w","updated":"20240102102250"},"Children":[{"Type":"NodeText","Data":"1、安装 Go 语言环境"}]},{"ID":"20240102102250-el3qjja","Type":"NodeParagraph","Properties":{"id":"20240102102250-el3qjja","updated":"20240102102250"},"Children":[{"Type":"NodeText","Data":"2、执行命令：go get github.com/rulego/rulego"}]},{"ID":"20240102102250-m0tjii8","Type":"NodeParagraph","Properties":{"id":"20240102102250-m0tjii8","updated":"20240102102250"},"Children":[{"Type":"NodeText","Data":"3、在你的代码中引入 RuleGo 包"}]},{"ID":"20240102102250-ae2kxck","Type":"NodeParagraph","Properties":{"id":"20240102102250-ae2kxck","updated":"20240102102250"},"Children":[{"Type":"NodeText","Data":"4、编写规则链，进行业务处理"}]},{"ID":"20240102102255-ffvgp76","Type":"NodeParagraph","Properties":{"id":"20240102102255-ffvgp76","updated":"20240102102255"}},{"ID":"20240102102323-3997o6p","Type":"NodeParagraph","Properties":{"id":"20240102102323-3997o6p","updated":"20240102102323"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240102102323-g9fszrw.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240102102324-ex7wjlw","Type":"NodeParagraph","Properties":{"id":"20240102102324-ex7wjlw","updated":"20240102102403"},"Children":[{"Type":"NodeText","Data":"对于以上链式调用关系，可以用如下 JSON DSL 进行描述"}]},{"ID":"20240102102403-0apzh9c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240102102403-0apzh9c","updated":"20240102102553"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anNvbg=="},{"Type":"NodeCodeBlockCode","Data":"{\n  \"ruleChain\": {\n    \"name\": \"Test rule chain\",\n    \"root\": true,\n    \"debugMode\": false\n  },\n  \"metadata\": {\n    \"nodes\": [\n      {\n        \"id\": \"s1\",\n        \"type\": \"jsFilter\",\n        \"name\": \"Filtering Data\",\n        \"debugMode\": true,\n        \"configuration\": {\n          \"jsScript\": \"return msg!='bb';\"\n        }\n      },\n      {\n        \"id\": \"s2\",\n        \"type\": \"jsTransform\",\n        \"name\": \"Transform Data\",\n        \"debugMode\": true,\n        \"configuration\": {\n          \"jsScript\": \"metadata['test']='test02';\\n metadata['index']=50;\\n msgType='TEST_MSG_TYPE2';\\n var msg2=JSON.parse(msg);\\n msg2['aa']=66;\\n return {'msg':msg2,'metadata':metadata,'msgType':msgType};\"\n        }\n      },\n      {\n        \"id\": \"s3\",\n        \"type\": \"restApiCall\",\n        \"name\": \"Call Rest Api Push Data\",\n        \"debugMode\": true,\n        \"configuration\": {\n          \"restEndpointUrlPattern\": \"http://192.168.216.21:9099/api/socket/msg\",\n          \"requestMethod\": \"POST\",\n          \"maxParallelRequestsCount\": 200\n        }\n      }\n    ],\n    \"connections\": [\n      {\n        \"fromId\": \"s1\",\n        \"toId\": \"s2\",\n        \"type\": \"True\"\n      },\n      {\n        \"fromId\": \"s2\",\n        \"toId\": \"s3\",\n        \"type\": \"Success\"\n      }\n    ],\n    \"ruleChainConnections\": null\n  }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240102102612-f072tgo","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240102102612-f072tgo","updated":"20240102102616"},"Children":[{"Type":"NodeText","Data":"项目推介"}]},{"ID":"20240102102624-64uzxpb","Type":"NodeParagraph","Properties":{"id":"20240102102624-64uzxpb","updated":"20240102102624"},"Children":[{"Type":"NodeText","Data":"RuleGo是一个非常优秀的开源项目，它的开发活跃度很高，已经获得了很多开发者的认可和使用。它还被一些知名公司和业内知名人士推荐使用。如果你需要一个高性能、灵活、可定制的规则引擎，RuleGo 将是一个非常好的选择。"}]},{"ID":"20240102102624-dfszb4r","Type":"NodeParagraph","Properties":{"id":"20240102102624-dfszb4r","updated":"20240102102624"},"Children":[{"Type":"NodeText","Data":"以下是该项目 Star 趋势图（代表项目的活跃程度）："}]},{"ID":"20240102102624-nb3j1j5","Type":"NodeParagraph","Properties":{"id":"20240102102624-nb3j1j5","updated":"20240102102624"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"图片"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"https://mmbiz.qpic.cn/mmbiz_png/KdvL5MRnFBS03gb0YZAqPtnOIuMoJl7203kdPQzQJmGnxxWd0UyoTRvZDJHLncUJy4aPcbYUZqUOziaphJIaHgg/640?wx_fmt=png\u0026wxfrom=5\u0026wx_lazy=1\u0026wx_co=1"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240102102624-mhb6r57","Type":"NodeParagraph","Properties":{"id":"20240102102624-mhb6r57","updated":"20240102102624"},"Children":[{"Type":"NodeText","Data":"更多项目详情请查看如下链接。"}]},{"ID":"20240102102624-s856tew","Type":"NodeParagraph","Properties":{"id":"20240102102624-s856tew","updated":"20240102102624"},"Children":[{"Type":"NodeText","Data":"开源项目地址：https://github.com/rulego/rulego"}]}]}