{"ID":"20230822091736-6opd8su","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230822091736-6opd8su","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230822091736-6opd8su\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230822091749-5p94gxz\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230822142629-yz939wi\u0026quot;,\u0026quot;scrollTop\u0026quot;:1200,\u0026quot;focusId\u0026quot;:\u0026quot;20230823095129-oy0yht8\u0026quot;,\u0026quot;focusStart\u0026quot;:1,\u0026quot;focusEnd\u0026quot;:1\u0026#125;","tags":"工作汇报,大模型封装","title":"2023-08-22","updated":"20230823095141"},"Children":[{"ID":"20230822091749-5p94gxz","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230822091749-5p94gxz","updated":"20230822091832"},"Children":[{"Type":"NodeText","Data":"搭建的框架"}]},{"ID":"20230822142715-zt9u0qf","Type":"NodeList","ListData":{},"Properties":{"id":"20230822142715-zt9u0qf","updated":"20230822142727"},"Children":[{"ID":"20230822142727-bp06vm2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822142727-bp06vm2","updated":"20230822142727"},"Children":[{"ID":"20230822142727-yww7rjk","Type":"NodeParagraph","Properties":{"id":"20230822142727-yww7rjk","updated":"20230822142750"},"Children":[{"Type":"NodeText","Data":"基于Gin 框架搭建web接口，接收Post请求"}]}]},{"ID":"20230822142751-vzx6c8x","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822142751-vzx6c8x"},"Children":[{"ID":"20230822142751-tsqvxto","Type":"NodeParagraph","Properties":{"id":"20230822142751-tsqvxto","updated":"20230822142806"},"Children":[{"Type":"NodeText","Data":"处理Post请求，并控制并发数，"}]}]},{"ID":"20230822142807-7s9wbd1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822142807-7s9wbd1"},"Children":[{"ID":"20230822142807-6rlszaf","Type":"NodeParagraph","Properties":{"id":"20230822142807-6rlszaf","updated":"20230822143917"},"Children":[{"Type":"NodeText","Data":"将Post中的数据传递给gRPC客户端"}]}]},{"ID":"20230822142823-ctnxneb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822142823-ctnxneb"},"Children":[{"ID":"20230822142823-x13sdos","Type":"NodeParagraph","Properties":{"id":"20230822142823-x13sdos","updated":"20230822143918"},"Children":[{"Type":"NodeText","Data":"GO gRPC客户端调用python的gRPC服务端"}]}]},{"ID":"20230822142824-h6w2bgb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822142824-h6w2bgb"},"Children":[{"ID":"20230822142824-ik3a57m","Type":"NodeParagraph","Properties":{"id":"20230822142824-ik3a57m","updated":"20230822143914"},"Children":[{"Type":"NodeText","Data":"Python gRPC服务端服务端调用python的相关函数"}]}]}]},{"ID":"20230823095129-oy0yht8","Type":"NodeParagraph","Properties":{"id":"20230823095129-oy0yht8","updated":"20230823095141"},"Children":[{"Type":"NodeText","Data":"​​"}]},{"ID":"20230822151836-38kgfnf","Type":"NodeParagraph","Properties":{"id":"20230822151836-38kgfnf","updated":"20230822151837"}},{"ID":"20230822142850-ielqnkp","Type":"NodeParagraph","Properties":{"id":"20230822142850-ielqnkp","updated":"20230822151828"},"Children":[{"Type":"NodeText","Data":"Gin是一个基于Go语言的Web框架，它具有快速的路由器，中间件支持和错误管理功能。"}]},{"ID":"20230822153157-e9vqxpp","Type":"NodeParagraph","Properties":{"id":"20230822153157-e9vqxpp","updated":"20230822153234"},"Children":[{"Type":"NodeText","Data":"基于 Go 的channel (管道) 实现并发数量控制"}]},{"ID":"20230822143342-bchjnr1","Type":"NodeParagraph","Properties":{"id":"20230822143342-bchjnr1","updated":"20230822144111"},"Children":[{"Type":"NodeText","Data":"gRPC可以直接调用不同机器上的服务端的方法，就像调用本地函数一样，可以实现跨语言调用。实现的进程间通信方式比较高效"}]},{"ID":"20230822144129-neq5cc4","Type":"NodeParagraph","Properties":{"id":"20230822144129-neq5cc4","updated":"20230822144723"}},{"ID":"20230823094218-2hpfdfb","Type":"NodeParagraph","Properties":{"id":"20230823094218-2hpfdfb","updated":"20230823094218"},"Children":[{"Type":"NodeText","Data":"网页端测试；https://app.apifox.com/project/3173936"}]},{"ID":"20230823094218-w0fy215","Type":"NodeParagraph","Properties":{"id":"20230823094218-w0fy215","updated":"20230823094218"},"Children":[{"Type":"NodeText","Data":"并发测试服务；"}]},{"ID":"20230823094806-hrd52m2","Type":"NodeParagraph","Properties":{"id":"20230823094806-hrd52m2","updated":"20230823094806"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230823094806-3tb7dkk.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230823092020-98n4n14","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230823092020-98n4n14","updated":"20230823092020"},"Children":[{"Type":"NodeText","Data":"今后的计划："}]},{"ID":"20230822145651-nhftw6h","Type":"NodeList","ListData":{},"Properties":{"id":"20230822145651-nhftw6h","updated":"20230822160547"},"Children":[{"ID":"20230822152719-tz3a502","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822152719-tz3a502","updated":"20230822152719"},"Children":[{"ID":"20230822152719-3jbkutb","Type":"NodeParagraph","Properties":{"id":"20230822152719-3jbkutb","updated":"20230822160544"},"Children":[{"Type":"NodeText","Data":"对接python服务，搭建新的gRPC，实现现有python服务和go服务的连接。"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-font-background12);"},"TextMarkType":"strong text","TextMarkTextContent":"29号"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-font-background12);\"}"}]}]},{"ID":"20230822152723-zy4ekht","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822152723-zy4ekht","updated":"20230822160547"},"Children":[{"ID":"20230822152723-ks9qliq","Type":"NodeParagraph","Properties":{"id":"20230822152723-ks9qliq","updated":"20230822160547"},"Children":[{"Type":"NodeText","Data":"gPRC连接池添加 or 双向流传输；不用每次通信都要建立连接；减少gRPC的通信时间；"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-font-background12);"},"TextMarkType":"strong text","TextMarkTextContent":"29号"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-font-background12);\"}"}]}]},{"ID":"20230822152728-wp1m4ed","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822152728-wp1m4ed"},"Children":[{"ID":"20230822152728-r5yet19","Type":"NodeParagraph","Properties":{"id":"20230822152728-r5yet19","updated":"20230822153148"},"Children":[{"Type":"NodeText","Data":"以后有需要可以基于gRPC 实现服务发现和负载均衡；python服务和go服务分离-微服务；也可以在web端进行负载均衡；web端负载均衡是将python服务和go服务部署在一起；"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"电力认知大模型封装时评估"}]}]},{"ID":"20230822153243-kdawtol","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822153243-kdawtol"},"Children":[{"ID":"20230822153243-t6xthvr","Type":"NodeParagraph","Properties":{"id":"20230822153243-t6xthvr","updated":"20230822153900"},"Children":[{"Type":"NodeText","Data":"Gin服务并发数量的控制，基于服务器硬件的实际状态进行更改；"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"电力认知大模型封装时评估"}]}]}]},{"ID":"20230822144907-w16wflc","Type":"NodeParagraph","Properties":{"id":"20230822144907-w16wflc","updated":"20230822152449"}},{"ID":"20230822152524-1ei7s8b","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230822152524-1ei7s8b","updated":"20230822152711"},"Children":[{"Type":"NodeText","Data":"预计风险："}]},{"ID":"20230822152858-28ivtax","Type":"NodeList","ListData":{},"Properties":{"id":"20230822152858-28ivtax","updated":"20230823095054"},"Children":[{"ID":"20230822152901-eputlcx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822152901-eputlcx","updated":"20230822152901"},"Children":[{"ID":"20230822152901-eeh8sxi","Type":"NodeParagraph","Properties":{"id":"20230822152901-eeh8sxi","updated":"20230822154420"},"Children":[{"Type":"NodeText","Data":"管理 gRPC的端口，gRPC端口标记好，避免其他服务使用"}]}]},{"ID":"20230822154421-ulltn64","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822154421-ulltn64"},"Children":[{"ID":"20230822154421-3cxo6s0","Type":"NodeParagraph","Properties":{"id":"20230822154421-3cxo6s0","updated":"20230822155711"},"Children":[{"Type":"NodeText","Data":"通过Gin + gRPC 可以保证python服务在同一时刻下处理一定数量的请求，保证服务正常运行，不会崩溃，但无法实现缩短请求时间，等待的请求需要等待处理的请求处理完毕后再进入请求处理过程，需要的耗时可能比较长："}]}]},{"ID":"20230822154901-vg67h4a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822154901-vg67h4a","updated":"20230823095054"},"Children":[{"ID":"20230822154901-87em102","Type":"NodeList","ListData":{},"Properties":{"id":"20230822154901-87em102","updated":"20230823095054"},"Children":[{"ID":"20230822154903-el9tyim","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822154903-el9tyim","updated":"20230822154903"},"Children":[{"ID":"20230822154903-zssxuea","Type":"NodeParagraph","Properties":{"id":"20230822154903-zssxuea","updated":"20230822154935"},"Children":[{"Type":"NodeText","Data":"解决方案："}]}]},{"ID":"20230822154935-g6rr0la","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822154935-g6rr0la","updated":"20230823095054"},"Children":[{"ID":"20230822154935-7ydjfu0","Type":"NodeParagraph","Properties":{"id":"20230822154935-7ydjfu0","updated":"20230823095054"},"Children":[{"Type":"NodeText","Data":"对某一些简单问题进行缓存，缓存分为redis缓存和本地缓存；"}]}]},{"ID":"20230822154930-3l93rjt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822154930-3l93rjt"},"Children":[{"ID":"20230822154930-4wjtsse","Type":"NodeParagraph","Properties":{"id":"20230822154930-4wjtsse","updated":"20230822155401"},"Children":[{"Type":"NodeText","Data":"基于问题的难易程度给问题分级，基于微服务对python服务进行分级，简单的问题请求到一部分服务器，比较耗时的问题请求另一部分服务器，"}]}]},{"ID":"20230822155409-aq424na","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230822155409-aq424na","updated":"20230822155418"},"Children":[{"ID":"20230822155409-jigei6i","Type":"NodeParagraph","Properties":{"id":"20230822155409-jigei6i","updated":"20230822155418"},"Children":[{"Type":"NodeText","Data":"其他方案可以后续探讨"}]}]}]}]}]},{"ID":"20230822143340-eennjax","Type":"NodeParagraph","Properties":{"id":"20230822143340-eennjax"}},{"ID":"20230822142906-y3oedie","Type":"NodeParagraph","Properties":{"id":"20230822142906-y3oedie"}},{"ID":"20230822142715-f56ftws","Type":"NodeParagraph","Properties":{"id":"20230822142715-f56ftws"}},{"ID":"20230822142611-ot6g0qj","Type":"NodeParagraph","Properties":{"id":"20230822142611-ot6g0qj","updated":"20230822142757"},"Children":[{"Type":"NodeText","Data":"​​"}]},{"ID":"20230822142629-yz939wi","Type":"NodeParagraph","Properties":{"id":"20230822142629-yz939wi"}}]}