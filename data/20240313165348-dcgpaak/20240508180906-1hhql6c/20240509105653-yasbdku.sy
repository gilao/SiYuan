{"ID":"20240509105653-yasbdku","Spec":"1","Type":"NodeDocument","Properties":{"icon":"26fa","id":"20240509105653-yasbdku","title":"验证SHORTEST_QUEUE 调度策略是否可用","type":"doc","updated":"20240509151434"},"Children":[{"ID":"20240509105734-t6wl4rj","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240509105734-t6wl4rj","updated":"20240509105930"},"Children":[{"ID":"20240509110003-xqneadc","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240509110003-xqneadc"},"Children":[{"ID":"20240509110003-khr764t","Type":"NodeParagraph","Properties":{"id":"20240509110003-khr764t","updated":"20240509110434"},"Children":[{"Type":"NodeText","Data":"调用每个worker 的Get_worker_status 获取每个worker 的 queue_length 和 seed;"}]}]},{"ID":"20240509110124-skjmldd","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240509110124-skjmldd"},"Children":[{"ID":"20240509110124-x5gs92k","Type":"NodeParagraph","Properties":{"id":"20240509110124-x5gs92k","updated":"20240509110422"},"Children":[{"Type":"NodeText","Data":"在本地实现一个相同的 SHORTEST_QUEUE 调度策略，判断会获取到的 Worker_address;"}]}]},{"ID":"20240509105930-mtb0i1h","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240509105930-mtb0i1h","updated":"20240509105930"},"Children":[{"ID":"20240509105930-gfs75k3","Type":"NodeParagraph","Properties":{"id":"20240509105930-gfs75k3","updated":"20240509110445"},"Children":[{"Type":"NodeText","Data":"调用 controller 中的 Get_worker_address 获取 Worker_address;"}]}]},{"ID":"20240509105933-6p1mjie","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240509105933-6p1mjie"},"Children":[{"ID":"20240509105933-8bfckz2","Type":"NodeParagraph","Properties":{"id":"20240509105933-8bfckz2","updated":"20240509110458"},"Children":[{"Type":"NodeText","Data":"将本地预测的 Worker_address 与通过 controller 获取到的 Worker_address 进行对比，查看是否有差别；"}]}]},{"ID":"20240509110459-5z2awwz","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NS4=","Num":5},"Properties":{"id":"20240509110459-5z2awwz"},"Children":[{"ID":"20240509110459-0t43ibt","Type":"NodeParagraph","Properties":{"id":"20240509110459-0t43ibt","updated":"20240509110651"},"Children":[{"Type":"NodeText","Data":"如果获取到的 Worker_address 和预测的 Worker_address 结果一致，则调用 Worker_address+"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026quot;/worker_generate\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240509111656-ewccr6c","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ni4=","Num":6},"Properties":{"id":"20240509111656-ewccr6c"},"Children":[{"ID":"20240509111656-ikccidy","Type":"NodeParagraph","Properties":{"id":"20240509111656-ikccidy","updated":"20240509111702"},"Children":[{"Type":"NodeText","Data":"循环上一步"}]}]}]},{"ID":"20240509111739-993x421","Type":"NodeBlockquote","Properties":{"id":"20240509111739-993x421","updated":"20240509112253"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240509111746-d78jntw","Type":"NodeParagraph","Properties":{"id":"20240509111746-d78jntw","updated":"20240509111818"},"Children":[{"Type":"NodeText","Data":"如果要保证调度策略可行，要满足以下条件："}]},{"ID":"20240509111911-pm281tz","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240509111911-pm281tz","updated":"20240509112253"},"Children":[{"ID":"20240509111912-vqvi0cq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240509111912-vqvi0cq","updated":"20240509112255"},"Children":[{"ID":"20240509111912-i8gvrep","Type":"NodeParagraph","Properties":{"id":"20240509111912-i8gvrep","updated":"20240509112255"},"Children":[{"Type":"NodeText","Data":"首先使用串行测试调度策略，防止因为并发导致调度策略失效；"}]}]},{"ID":"20240509112035-h4zrd60","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240509112035-h4zrd60","updated":"20240509112253"},"Children":[{"ID":"20240509112035-ek7uhpi","Type":"NodeParagraph","Properties":{"id":"20240509112035-ek7uhpi","updated":"20240509112253"},"Children":[{"Type":"NodeText","Data":"调用Worker_address+"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/worker_generate"},{"Type":"NodeText","Data":"​一次会使 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"queue_length"},{"Type":"NodeText","Data":"​加一，结束后queue_length 会减一；"}]}]}]}]},{"ID":"20240509105922-0es99w5","Type":"NodeParagraph","Properties":{"id":"20240509105922-0es99w5","updated":"20240509112920"},"Children":[{"Type":"NodeText","Data":"需要进行的日志记录有以下内容："}]},{"ID":"20240509112921-ym3kq3j","Type":"NodeList","ListData":{},"Properties":{"id":"20240509112921-ym3kq3j","updated":"20240509151434"},"Children":[{"ID":"20240509112923-99zbipu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509112923-99zbipu","updated":"20240509112923"},"Children":[{"ID":"20240509112923-fssa78o","Type":"NodeParagraph","Properties":{"id":"20240509112923-fssa78o","updated":"20240509144413"},"Children":[{"Type":"NodeText","Data":"测试总次数（名称+总次数+串行/并发）"}]}]},{"ID":"20240509144415-32lhju8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509144415-32lhju8"},"Children":[{"ID":"20240509144415-2soxxox","Type":"NodeParagraph","Properties":{"id":"20240509144415-2soxxox","updated":"20240509144420"},"Children":[{"Type":"NodeText","Data":"测试次数"}]}]},{"ID":"20240509112949-mj3oser","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509112949-mj3oser"},"Children":[{"ID":"20240509112949-b9exjvw","Type":"NodeParagraph","Properties":{"id":"20240509112949-b9exjvw","updated":"20240509112956"},"Children":[{"Type":"NodeText","Data":"测试时间"}]}]},{"ID":"20240509113013-r8l99sw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509113013-r8l99sw"},"Children":[{"ID":"20240509113013-26a3fcv","Type":"NodeParagraph","Properties":{"id":"20240509113013-26a3fcv","updated":"20240509113440"},"Children":[{"Type":"NodeText","Data":"Worker"}]},{"ID":"20240509113236-hbxqj88","Type":"NodeList","ListData":{},"Properties":{"id":"20240509113236-hbxqj88","updated":"20240509113241"},"Children":[{"ID":"20240509113427-nwfuhhm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509113427-nwfuhhm"},"Children":[{"ID":"20240509113427-uxrdomo","Type":"NodeParagraph","Properties":{"id":"20240509113427-uxrdomo","updated":"20240509113433"},"Children":[{"Type":"NodeText","Data":"Worker.address"}]}]},{"ID":"20240509113241-su1lp7l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509113241-su1lp7l","updated":"20240509113241"},"Children":[{"ID":"20240509113241-l225udh","Type":"NodeParagraph","Properties":{"id":"20240509113241-l225udh","updated":"20240509113411"},"Children":[{"Type":"NodeText","Data":"Worker.model_type 模型类型（基于Worker_address对应的模型类型，用于区分是哪个模型，是否为使用go实现的仿真模型）"}]}]},{"ID":"20240509113312-8d2f07f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509113312-8d2f07f"},"Children":[{"ID":"20240509113312-lw6k4y3","Type":"NodeParagraph","Properties":{"id":"20240509113312-lw6k4y3","updated":"20240509113415"},"Children":[{"Type":"NodeText","Data":"Worker.speed"}]}]},{"ID":"20240509113316-urcsb0d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509113316-urcsb0d"},"Children":[{"ID":"20240509113316-j4w8611","Type":"NodeParagraph","Properties":{"id":"20240509113316-j4w8611","updated":"20240509113420"},"Children":[{"Type":"NodeText","Data":"Worker.queue_length"}]}]}]}]},{"ID":"20240509112958-qo8f47i","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509112958-qo8f47i"},"Children":[{"ID":"20240509112958-jm1sa6d","Type":"NodeParagraph","Properties":{"id":"20240509112958-jm1sa6d","updated":"20240509144305"},"Children":[{"Type":"NodeText","Data":"预测的Worker_address"}]}]},{"ID":"20240509144306-2rnvzzg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509144306-2rnvzzg"},"Children":[{"ID":"20240509144306-djphi5m","Type":"NodeParagraph","Properties":{"id":"20240509144306-djphi5m","updated":"20240509144320"},"Children":[{"Type":"NodeText","Data":"Controller 推送的Worker_address"}]}]},{"ID":"20240509150711-n5mv5yb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240509150711-n5mv5yb","updated":"20240509151434"},"Children":[{"ID":"20240509150711-b5keaqm","Type":"NodeParagraph","Properties":{"id":"20240509150711-b5keaqm","updated":"20240509151434"},"Children":[{"Type":"NodeText","Data":"预测与推送是否一致"}]}]}]},{"ID":"20240509105653-tytt4n4","Type":"NodeParagraph","Properties":{"id":"20240509105653-tytt4n4","updated":"20240509111447"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/v1/chat/completions"},{"Type":"NodeText","Data":"​是调用worker 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/worker_generate"},{"Type":"NodeText","Data":"​ 生成的。"}]},{"ID":"20240509111432-fvunreu","Type":"NodeParagraph","Properties":{"id":"20240509111432-fvunreu"}}]}