{"ID":"20240618150807-mxia0w4","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f638","id":"20240618150807-mxia0w4","title":"如何实现埋点日志精准监控","type":"doc","updated":"20240618172009"},"Children":[{"ID":"20240618150829-j06llx6","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240618150829-j06llx6","updated":"20240618150842"},"Children":[{"Type":"NodeText","Data":"引言"}]},{"ID":"20240618150853-igg3eiq","Type":"NodeParagraph","Properties":{"id":"20240618150853-igg3eiq","updated":"20240618150853"},"Children":[{"Type":"NodeText","Data":"日志中台，作为百度数据埋点的全套一站式解决方案，目前已覆盖了厂内以手机百度 APP 作为代表的大多数重点产品，承载着每天千亿量级的埋点日志 PV。"}]},{"ID":"20240618150853-qnlr8fx","Type":"NodeParagraph","Properties":{"id":"20240618150853-qnlr8fx","updated":"20240618150853"},"Children":[{"Type":"NodeText","Data":"埋点日志的实时监控，在日志中台应对突发流量、业务迭代埋点逻辑、埋点计费结算等场景中均发挥着不可或缺的作用。而在海量的数据下，如何对埋点日志进行精准地监控，保证监控的易用性、稳定性与准确性，是日志中台的一大难题。"}]},{"ID":"20240618150853-hnl6we3","Type":"NodeParagraph","Properties":{"id":"20240618150853-hnl6we3","updated":"20240618150853"},"Children":[{"Type":"NodeText","Data":"本文首先对日志中台的 UBC 埋点相关概念进行了简单介绍，分析了埋点监控的需求，并深入讲解了埋点监控的架构设计，最后重点分析了实现过程中的难点、解决方案以及实践过程中的思考。"}]},{"ID":"20240618150807-zj6r9c4","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240618150807-zj6r9c4","updated":"20240618151318"},"Children":[{"Type":"NodeText","Data":"概念简介\u0026需求分析   "}]},{"ID":"20240618151503-2u4pheq","Type":"NodeParagraph","Properties":{"id":"20240618151503-2u4pheq","updated":"20240618171946"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"UBC"},{"Type":"NodeText","Data":"（User Behavior Collection）即用户行为收集，是日志中台数据埋点的主流协议。按上报端的类型，分为 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"UBC 端日志、UBC Server 日志、UBC H5 日志三大类。"}]},{"ID":"20240618151503-g6mjn2w","Type":"NodeParagraph","Properties":{"id":"20240618151503-g6mjn2w","updated":"20240618151503"},"Children":[{"Type":"NodeText","Data":"每条 UBC 日志中，都携带日志的 UBC ID，用于区分用户的不同行为。"}]},{"ID":"20240618171951-jpe6ydf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618171951-jpe6ydf","updated":"20240618172001"},"Children":[{"Type":"NodeText","Data":"2.1 UBC 打点类型"}]},{"ID":"20240618172007-7gslcm1","Type":"NodeParagraph","Properties":{"id":"20240618172007-7gslcm1","updated":"20240618172007"},"Children":[{"Type":"NodeText","Data":"根据打点所表达的场景，UBC 日志可分为"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"事件打点"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"流式打点"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240618172007-phso741","Type":"NodeParagraph","Properties":{"id":"20240618172007-phso741","updated":"20240618172007"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"事件打点"},{"Type":"NodeText","Data":"用来记录一个单次行为，例如一次点击、一次列表页展示等，通常以 pv 作为统计值。"}]},{"ID":"20240618172007-imm4ije","Type":"NodeParagraph","Properties":{"id":"20240618172007-imm4ije","updated":"20240618172007"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"流式打点"},{"Type":"NodeText","Data":"用来记录一个持续行为，例如一次视频观看、某功能的使用时长等。流式打点特有 duration 字段，用来表达行为的持续时间，通常 pv 和 duration 都会作为统计值。"}]},{"ID":"20240618172009-ichwzy7","Type":"NodeParagraph","Properties":{"id":"20240618172009-ichwzy7"}}]}