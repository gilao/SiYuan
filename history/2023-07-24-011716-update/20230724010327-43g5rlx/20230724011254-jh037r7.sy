{"ID":"20230724011254-jh037r7","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1fa80","id":"20230724011254-jh037r7","tags":"Linux,Linux三剑客,未完成,需要仔细看","title":"sed：流编辑器","updated":"20230724011316"},"Children":[{"ID":"20230724011300-rmwuy8f","Type":"NodeParagraph","Properties":{"id":"20230724011300-rmwuy8f","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed是操作、过滤和转换文本内容的强大工具。常用功能有对文件实现快速增删改查（增加、删除、修改、查询），其中查询的功能中最常用的2大功能是过滤（过滤指定字符串）和取行（取出指定行）。"}]},{"ID":"20230724011300-u69ntxe","Type":"NodeParagraph","Properties":{"id":"20230724011300-u69ntxe","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed [选项] [sed 内置命令符] [输入文件]"}]},{"ID":"20230724011300-stj0t4x","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724011300-stj0t4x","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"选项说明"}]},{"ID":"20230724011300-r4xmjti","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-r4xmjti","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"- n 取消sed 的默认输出，常与sed 内置命令p 连用"}]},{"ID":"20230724011300-0mqc0s0","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-0mqc0s0","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"-i 直接修改文件内容，而不是输出到终端，如果不使用-i 选项，sed 只是修改在内存中的数据，并不会影响到磁盘上的文件"}]},{"ID":"20230724011300-oc87m25","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-oc87m25","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"-e 允许多次编辑"}]},{"ID":"20230724011300-mvlz6pf","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724011300-mvlz6pf","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"内置命令"}]},{"ID":"20230724011300-e7ya99y","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-e7ya99y","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"a 追加文本，在指定行后添加一行或多行文本"}]},{"ID":"20230724011300-8ogdr6n","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-8ogdr6n","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"d 表示匹配行文本"}]},{"ID":"20230724011300-um78jeo","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-um78jeo","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"i 表示插入文本，在指定行前添加一行或多行文本"}]},{"ID":"20230724011300-2prct29","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-2prct29","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"p 表示打印匹配行内容"}]},{"ID":"20230724011300-678bpqx","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230724011300-678bpqx","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"s/regexp/replacement/g 匹配regexp 内容，用replacement 替换regexp 匹配的内容，regexp 部分可以使用正则表达式，在replacement部分可以使用特殊字符\u0026和\\1-9\\等匹配regexp部分的内容，"}]},{"ID":"20230724011300-o3seog6","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-o3seog6","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"问题1：输出oldboy.txt的第2～3行内容。"}]},{"ID":"20230724011300-8ihm8tf","Type":"NodeParagraph","Properties":{"id":"20230724011300-8ihm8tf","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这个问题考察的是sed的-n参数，及p功能字符的功能。该命令十分常用，在实际工作中，它会输出大文件中间的若干行。"}]},{"ID":"20230724011300-bb22bqv","Type":"NodeParagraph","Properties":{"id":"20230724011300-bb22bqv","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed -n '2,3p' oldboy,txt"}]},{"ID":"20230724011300-vu5vm5h","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-vu5vm5h","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"问题2：过滤出含有oldboy字符串的行。"}]},{"ID":"20230724011300-3i5uf83","Type":"NodeParagraph","Properties":{"id":"20230724011300-3i5uf83","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这是考察sed命令的过滤功能，类似grep的过滤，不同的是需要用双斜线把需要过滤的字符串包含在中间。"}]},{"ID":"20230724011300-42k1pla","Type":"NodeParagraph","Properties":{"id":"20230724011300-42k1pla","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed -n '/oldboy/p' oldboy.txt"}]},{"ID":"20230724011300-w4wsx2d","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-w4wsx2d","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"问题3：删除含有oldboy字符串的行。"}]},{"ID":"20230724011300-dvdlvpt","Type":"NodeParagraph","Properties":{"id":"20230724011300-dvdlvpt","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这是考察sed命令的删除功能（d字符），默认不会修改文件。如果需要修改文件，则要用-i参数配合。"}]},{"ID":"20230724011300-1o9r8fd","Type":"NodeParagraph","Properties":{"id":"20230724011300-1o9r8fd","updated":"20230724011302"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed '/oldboy/d' oldboy.txt"}]},{"ID":"20230724011300-m5qippz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-m5qippz","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"问题4：将文件中的oldboy字符串全部替换为oldgirl。"}]},{"ID":"20230724011300-5hlaksb","Type":"NodeParagraph","Properties":{"id":"20230724011300-5hlaksb","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这是考察sed命令的替换功能，默认不会修改文件。如果需要修改文件，则要用-i参数配合，这个命令工作中常用。"}]},{"ID":"20230724011300-wamivsz","Type":"NodeParagraph","Properties":{"id":"20230724011300-wamivsz","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed 's"},{"Type":"NodeTextMark","TextMarkType":"strong tag","TextMarkTextContent":"oldboy"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"oldgirl#g' oldboy.txt"}]},{"ID":"20230724011300-4un655u","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-4un655u","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"问题5：将文件中的oldboy字符串全部替换为oldgirl，同时将QQ号码49000448改为31333741。"}]},{"ID":"20230724011300-c8eob0l","Type":"NodeParagraph","Properties":{"id":"20230724011300-c8eob0l","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这是考察sed命令的-e参数，多项编辑功能，不需要用多次管道了。"}]},{"ID":"20230724011300-7b96s1r","Type":"NodeParagraph","Properties":{"id":"20230724011300-7b96s1r","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed -e 's"},{"Type":"NodeTextMark","TextMarkType":"strong tag","TextMarkTextContent":"oldboy"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"oldgirl"},{"Type":"NodeTextMark","TextMarkType":"strong tag","TextMarkTextContent":"g' -e \u0026quot;s"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"49000448"},{"Type":"NodeTextMark","TextMarkType":"strong tag","TextMarkTextContent":"31333741"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"g\u0026quot; oldboy.txt"}]},{"ID":"20230724011300-2lenxkw","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-2lenxkw","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"问题6：在oldboy.txt文件的第2行后追加文本。"}]},{"ID":"20230724011300-55rl1il","Type":"NodeParagraph","Properties":{"id":"20230724011300-55rl1il","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这是考察sed命令的a字符功能，示例如下。"}]},{"ID":"20230724011300-pm08bi1","Type":"NodeParagraph","Properties":{"id":"20230724011300-pm08bi1","updated":"20230724011305"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed -i '2a I teacher linux.' oldboy.txt"}]},{"ID":"20230724011300-0b4g92e","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724011300-0b4g92e","updated":"20230724011300"},"Children":[{"Type":"NodeText","Data":"问题7：在oldboy.txt文件的第2行插入文本。"}]},{"ID":"20230724011300-uv9ud8a","Type":"NodeParagraph","Properties":{"id":"20230724011300-uv9ud8a","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"解答：这是考察sed命令的i字符功能，示例如下。"}]},{"ID":"20230724011300-aabv7lv","Type":"NodeParagraph","Properties":{"id":"20230724011300-aabv7lv","updated":"20230724011300"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"sed -i '2i I teacher linux,at 2i.' oldboy.txt"}]}]}