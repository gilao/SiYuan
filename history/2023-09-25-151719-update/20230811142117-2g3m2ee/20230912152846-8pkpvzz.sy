{"ID":"20230912152846-8pkpvzz","Spec":"1","Type":"NodeDocument","Properties":{"icon":"26fa","id":"20230912152846-8pkpvzz","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230912152846-8pkpvzz\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230912152857-nu4jysl\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230921225955-uyk19v6\u0026quot;,\u0026quot;scrollTop\u0026quot;:662.6666870117188,\u0026quot;focusId\u0026quot;:\u0026quot;20230921230009-fshnxml\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"性能测试报告","updated":"20230925151140"},"Children":[{"ID":"20230912152857-nu4jysl","Type":"NodeParagraph","Properties":{"id":"20230912152857-nu4jysl","updated":"20230921222929"},"Children":[{"Type":"NodeText","Data":"按照测试方案对flask服务和go服务进行单机和多机部署，并进行了性能测试，测试的性能指标如下所示："}]},{"ID":"20230921222930-c22s0ag","Type":"NodeList","ListData":{},"Properties":{"id":"20230921222930-c22s0ag","updated":"20230921223107"},"Children":[{"ID":"20230921222936-jwvd3yf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921222936-jwvd3yf","updated":"20230921222936"},"Children":[{"ID":"20230921222936-6mv6mxd","Type":"NodeParagraph","Properties":{"id":"20230921222936-6mv6mxd","updated":"20230921223023"},"Children":[{"Type":"NodeText","Data":"单次请求推理响应时间"}]}]},{"ID":"20230921223029-a30rtbg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921223029-a30rtbg","updated":"20230921223107"},"Children":[{"ID":"20230921223029-6veozl1","Type":"NodeParagraph","Properties":{"id":"20230921223029-6veozl1","updated":"20230921223107"},"Children":[{"Type":"NodeText","Data":"单位时间内服务器处理请求数量"}]}]},{"ID":"20230921223042-yj01ohx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230921223042-yj01ohx","updated":"20230921223101"},"Children":[{"ID":"20230921223042-f5fql4d","Type":"NodeParagraph","Properties":{"id":"20230921223042-f5fql4d","updated":"20230921223101"},"Children":[{"Type":"NodeText","Data":"同时并发访问Web服务"}]}]}]},{"ID":"20230921222806-i96wihg","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230921222806-i96wihg","updated":"20230921223135"},"Children":[{"Type":"NodeText","Data":"单次请求推理响应时间"}]},{"ID":"20230921230003-gudirkg","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921230003-gudirkg","updated":"20230921230009"},"Children":[{"Type":"NodeText","Data":"测试过程"}]},{"ID":"20230921230009-fshnxml","Type":"NodeParagraph","Properties":{"id":"20230921230009-fshnxml","updated":"20230921231126"},"Children":[{"Type":"NodeText","Data":"将go服务和Flask服务分别部署到单机单卡和多机多卡上，使用Postman对Post接口进行测试，对每种部署方式进行10次测试，并记录请求的时间和计算平均耗时。"}]},{"ID":"20230921225359-0xiwmqm","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921225359-0xiwmqm","updated":"20230921225403"},"Children":[{"Type":"NodeText","Data":"测试数据"}]},{"ID":"20230921222601-nyliftd","Type":"NodeParagraph","Properties":{"id":"20230921222601-nyliftd","updated":"20230921222804"},"Children":[{"Type":"NodeText","Data":"下面是关于单次推理响应时间的测试数据"}]},{"ID":"20230921224647-a7mmeoz","Type":"NodeTable","TableAligns":[0,0,0,0,0,0,0,0,0,0,0,0],"Properties":{"colgroup":"|||||||||||","id":"20230921224647-a7mmeoz","updated":"20230921224647"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单次请求响应时间测试"}]},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试工具"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Postman"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试时间"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2023/9/7"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试记录"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求次数/耗时(ms)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"4"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"5"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"6"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"7"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"8"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"9"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"10"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"平均耗时"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"30/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"31/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"31/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"29/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"31/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"29/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32.1/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机8卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"33/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"31/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"31/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"35/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"30/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"33/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"40/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"44/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"47/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"43/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"47/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"43/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"41/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"37/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"41.8/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机8卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"42/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"36/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"37/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"30/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"34.7/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多机16卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"40/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"37/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"32/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"35/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"40/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"37/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"39/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"36.2/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多级16卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"47/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"39/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"39/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"45/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"36/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"39/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"38/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"36/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"37/ms"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"39.4/ms"}]}]}]},{"ID":"20230925094811-bkp8y8c","Type":"NodeParagraph","Properties":{"id":"20230925094811-bkp8y8c","updated":"20230925111011"},"Children":[{"Type":"NodeText","Data":"​​​​​​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230925111011-57t1gev.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​​​​​​"}]},{"ID":"20230921225349-7skbhlt","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921225349-7skbhlt","updated":"20230921225355"},"Children":[{"Type":"NodeText","Data":"测试结果"}]},{"ID":"20230921224652-8yoym86","Type":"NodeParagraph","Properties":{"id":"20230921224652-8yoym86","updated":"20230925150544"},"Children":[{"Type":"NodeText","Data":"该指标是使用 Postman工具对Post接口进行测试，每个服务的接口分别进行了10次测试，根据测试在单机单卡情况下，go服务要比flask服务的平均耗时要快 9.7 ms；单机8卡时，go服务比flask服务的平均耗时要快 1.7ms；多机16卡时，go服务比flask服务的平均耗时要快3.2ms。通过测试可以发现go服务在处理Post请求时是要快于Flask服务的。"}]},{"ID":"20230921225834-lhjdf2s","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230921225834-lhjdf2s","updated":"20230921225955"},"Children":[{"Type":"NodeText","Data":"单位时间内服务处理请求数量"}]},{"ID":"20230921225955-uyk19v6","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230921225955-uyk19v6","updated":"20230922090808"},"Children":[{"Type":"NodeText","Data":"测试过程"}]},{"ID":"20230922090809-atiquxq","Type":"NodeParagraph","Properties":{"id":"20230922090809-atiquxq","updated":"20230922091340"},"Children":[{"Type":"NodeText","Data":"通过go语言开发的工具请求服务的端口，该工具会在10秒内不断的发送请求，并计算统计请求成功的数量，该测试指标可以查看服务的并发处理能力"}]},{"ID":"20230922091341-p963u4r","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922091341-p963u4r","updated":"20230922091348"},"Children":[{"Type":"NodeText","Data":"测试数据"}]},{"ID":"20230922091352-0227l78","Type":"NodeParagraph","Properties":{"id":"20230922091352-0227l78","updated":"20230922091422"},"Children":[{"Type":"NodeText","Data":"下面是测试单位时间内服务处理请求数量的数据："}]},{"ID":"20230922091547-rvmue9z","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"||","id":"20230922091547-rvmue9z","updated":"20230922091547"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单位时间内服务器处理请求数量测试"}]},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试工具"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"go语言开发工具"}]},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试时间"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2023/9/7"}]},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试记录"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求成功数"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求总数"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"369"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"999"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机8卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"997"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"999"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"119"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"999"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机8卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"915"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"999"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多机16卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"996"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"998"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多级16卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"997"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"999"}]}]}]},{"ID":"20230925102154-lfy07ts","Type":"NodeParagraph","Properties":{"id":"20230925102154-lfy07ts","updated":"20230925102154"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230925102154-2b6eagu.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230922091618-uwfctlp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922091618-uwfctlp","updated":"20230922091642"},"Children":[{"Type":"NodeText","Data":"测试结果"}]},{"ID":"20230922091642-lghi1nu","Type":"NodeParagraph","Properties":{"id":"20230922091642-lghi1nu","updated":"20230925151140"},"Children":[{"Type":"NodeText","Data":"该测试时统计在10秒内，服务可以处理多少的请求，通过测试可以发现多机16卡的go服务和flask服务可以在10内处理99%以上的请求，在单机8卡时，go服务可以"}]},{"ID":"20230925150846-5w3va1c","Type":"NodeParagraph","Properties":{"id":"20230925150846-5w3va1c"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"通过测试go服务可以更好的处理并发的请求，"}]},{"ID":"20230922093006-1uxxd37","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230922093006-1uxxd37","updated":"20230922093035"},"Children":[{"Type":"NodeText","Data":"同时访问Web服务的请求数"}]},{"ID":"20230922093035-nqyzyzv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922093035-nqyzyzv","updated":"20230922093531"},"Children":[{"Type":"NodeText","Data":"测试过程"}]},{"ID":"20230922093532-glz0ivi","Type":"NodeParagraph","Properties":{"id":"20230922093532-glz0ivi","updated":"20230922094413"},"Children":[{"Type":"NodeText","Data":"使用go语言开发的工具在瞬时请求Post端口500次，查看flask服务和go服务运行状态和处理请求的耗时，"}]},{"ID":"20230922094302-phuox6v","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922094302-phuox6v","updated":"20230922094307"},"Children":[{"Type":"NodeText","Data":"测试数据"}]},{"ID":"20230922094353-j7hdxdv","Type":"NodeParagraph","Properties":{"id":"20230922094353-j7hdxdv","updated":"20230922094551"},"Children":[{"Type":"NodeText","Data":"下面是测试同时访问Web的请求数得到的数据"}]},{"ID":"20230922094331-sno2vzc","Type":"NodeTable","TableAligns":[0,0,0,0],"Properties":{"colgroup":"|||","id":"20230922094331-sno2vzc","updated":"20230922094331"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"同时访问Web服务测试"}]},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"},{"Type":"NodeTableCell","Data":"th"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试工具"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Jmeter"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试时间"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2023/9/7"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试记录"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求成功数"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求成功率"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"请求最长耗时"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"500"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"100%"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"11487/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机8卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"500"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"100%"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3414/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"500"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"100%"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"9083/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机8卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"500"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"100%"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"7757/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多机16卡go服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"500"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"100%"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1509/ms"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多级16卡flask服务"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"500"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"100%"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2384/ms"}]}]}]},{"ID":"20230922092746-nqwo6wo","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230922092746-nqwo6wo","updated":"20230922094656"},"Children":[{"Type":"NodeText","Data":"测试结果"}]},{"ID":"20230922094753-hkcjz71","Type":"NodeParagraph","Properties":{"id":"20230922094753-hkcjz71","updated":"20230922095440"},"Children":[{"Type":"NodeText","Data":"基于该测试方法，可以看出，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"单机单卡的服务的请求最长耗时都比单机多卡和多级多卡的要高，这是由于所有的请求都在一张卡上处理，存在单卡性能爆满导致部分请求无法及时处理，在单机多卡和多级多卡的情况下，go服务要比flask服务的请求的最长耗时要短。"}]},{"ID":"20230922095719-m1akk0a","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230922095719-m1akk0a","updated":"20230922095759"},"Children":[{"Type":"NodeText","Data":"CPU最大使用率和内存最大占用率"}]},{"ID":"20230922095504-5vqb6li","Type":"NodeParagraph","Properties":{"id":"20230922095504-5vqb6li","updated":"20230922100831"},"Children":[{"Type":"NodeText","Data":"在同时访问Web服务的请求数的测试条件下监控了服务的CPU最大使用率和内存最大占用率，发现"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"go服务CPU最大使用率和内存最大占用率变化很小"},{"Type":"NodeText","Data":"，没有出现因为高并发请求导致CPU和内存出现过高的占用，在高并发请求结束后，也没有出现内存占用率增加的情况，即"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"不存在内存泄漏的问题"},{"Type":"NodeText","Data":"。"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Flask服务与模型集成为一个程序，故只能观察到模型与Flask服务同时占用CPU和内存的情况，通过观察，模型的最大CPU使用率存在爆满的情况，推断主要是模型计算占用，无太大参考价值，内存使用几乎无变化。"}]},{"ID":"20230922100725-7qf9u7y","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230922100725-7qf9u7y","updated":"20230922100740"},"Children":[{"Type":"NodeText","Data":"日志和监控系统"}]},{"ID":"20230922100740-akdjmaf","Type":"NodeParagraph","Properties":{"id":"20230922100740-akdjmaf","updated":"20230922103817"},"Children":[{"Type":"NodeText","Data":"Flask 服务日志输出极少，对请求和响应中的错误并无太多的处理，没有办法进行服务排错和服务运行信息记录。go服务目前使用了logger日志包，在服务中进行了日志分级记录，可以实现Debug日志排查、服务运行信息记录和错误记录。服务上线后，通过调整日志输出等级来输出关键的信息和错误记录，Debug日志将不会输出，避免服务运行过程中生成过多的日志。但目前仍存在一些服务信息日志没有记录，后续将完善服务的日志记录。"}]},{"ID":"20230922095325-qdja51g","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230922095325-qdja51g","updated":"20230922103919"},"Children":[{"Type":"NodeText","Data":"扩展性"}]},{"ID":"20230922103919-lwlplkj","Type":"NodeParagraph","Properties":{"id":"20230922103919-lwlplkj","updated":"20230922104215"},"Children":[{"Type":"NodeText","Data":"通过上面的性能测试可以发现，在单机多卡和多机多卡的状态下，go服务的处理响应时间和处理并发请求的数量等方面都是优于flask服务的。"}]},{"ID":"20230922104215-vqkxmyf","Type":"NodeParagraph","Properties":{"id":"20230922104215-vqkxmyf","updated":"20230922104608"},"Children":[{"Type":"NodeText","Data":"Flask服务在部署多卡时，需要在Nginx中进行负载均衡，go服务部署时将python的grcp服务端口写入go服务的config.yaml 文件中，后续go服务将继续优化，使用consul的服务注册来实现模型的负载均衡调用，加入新的模型或有部分模型崩溃不会导致整个服务无法使用，扩展性更好。"}]}]}