{"ID":"20230724013506-pikf533","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f357","id":"20230724013506-pikf533","tags":"Docker,安装Docker","title":"1. 安装Docker","updated":"20230724014046"},"Children":[{"ID":"20230724013519-64xiljt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724013519-64xiljt","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"使用官方脚本自动安装（仅适用于公网环境）"}]},{"ID":"20230724013519-ew8pou6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-ew8pou6","updated":"20230724014040"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"curl -fsSL https://get.docker.com | bash -s docker\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-y9vuocm","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724013519-y9vuocm","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"手动安装"}]},{"ID":"20230724013519-yisb61d","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724013519-yisb61d","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"Ubuntu"}]},{"ID":"20230724013519-kxix7h8","Type":"NodeParagraph","Properties":{"id":"20230724013519-kxix7h8","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1. 安装必要的工具"}]},{"ID":"20230724013519-3raro2o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-3raro2o","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo apt-get update \n\nsudo apt-get -y install apt-transport-https ca-certificates curl software-properties-common\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-og5ewkv","Type":"NodeParagraph","Properties":{"id":"20230724013519-og5ewkv","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2. 安装GPG证书"}]},{"ID":"20230724013519-9vimmgo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-9vimmgo","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg |sudo apt-key add -\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-rzp1h5d","Type":"NodeParagraph","Properties":{"id":"20230724013519-rzp1h5d","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3. 写入软件源信息"}]},{"ID":"20230724013519-d1ju9ii","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-d1ju9ii","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo add-apt-repository \"deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable\" \n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-1is076y","Type":"NodeParagraph","Properties":{"id":"20230724013519-1is076y","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"4. 更新并安装 Docker-CE"}]},{"ID":"20230724013519-26dq3m9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-26dq3m9","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo apt-get -y update\n\nsudo apt-get -y install docker-ce\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-3pv9z0b","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724013519-3pv9z0b","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"CentOS"}]},{"ID":"20230724013519-b4qzj2m","Type":"NodeParagraph","Properties":{"id":"20230724013519-b4qzj2m","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1. 安装必要的系统工具"}]},{"ID":"20230724013519-dguyiiw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-dguyiiw","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo yum install -y yum-utils device-mapper-persistent-data lvm2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-x1ecjb9","Type":"NodeParagraph","Properties":{"id":"20230724013519-x1ecjb9","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2. 添加软件源信息"}]},{"ID":"20230724013519-pqeg3kq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-pqeg3kq","updated":"20230724013604"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-ljj2ftn","Type":"NodeParagraph","Properties":{"id":"20230724013519-ljj2ftn","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3. 更新并安装Docker-CE"}]},{"ID":"20230724013637-dioyg70","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013637-dioyg70","updated":"20230724013646"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo yum makecache fast\nsudo yum -y install docker-ce\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-m5bxzff","Type":"NodeParagraph","Properties":{"id":"20230724013519-m5bxzff","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"4. 开启docker服务"}]},{"ID":"20230724013519-gdkui0e","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-gdkui0e","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo service doceker start\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-wst21hy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-wst21hy","updated":"20230724013650"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"systemctl start docker\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-rhgd31h","Type":"NodeParagraph","Properties":{"id":"20230724013519-rhgd31h","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"systemctl enable docker  开机自启动"}]},{"ID":"20230724013519-ocjb9y1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-ocjb9y1","updated":"20230724013659"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"systemctl status docker\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-6unrea1","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724013519-6unrea1","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"安装校验"}]},{"ID":"20230724013519-av53pxv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-av53pxv","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"docker version\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-bxsky4i","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724013519-bxsky4i","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"获取管理员权限"}]},{"ID":"20230724013519-2cxry1d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-2cxry1d","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo gpasswd -a $USER docker # 将登录用户加入到docker 用户组中\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-k7yvm0i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-k7yvm0i","updated":"20230724013711"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"newgrp docker    # 更新用户组\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-fwdtbaa","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-fwdtbaa","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"docker ps -a  #测试docker命令\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-rabwzn9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724013519-rabwzn9","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"配置"}]},{"ID":"20230724013519-63f542n","Type":"NodeParagraph","Properties":{"id":"20230724013519-63f542n","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1. 配置阿里云镜像加速器"}]},{"ID":"20230724013519-xsj2u8d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-xsj2u8d","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo tee /etc/docker/daemon.json \u003c\u003c-'EOF' { \"registry-mirrors\": [\"https://..aliyuncs.com\"] } EOF\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-9orapty","Type":"NodeParagraph","Properties":{"id":"20230724013519-9orapty","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2. 重启主控制、重启docker"}]},{"ID":"20230724013519-zeyifv9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-zeyifv9","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo systemctl daemon-reload\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-y22bwno","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-y22bwno","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g="},{"Type":"NodeCodeBlockCode","Data":"sudo systemctl restart docker\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-aofzozz","Type":"NodeParagraph","Properties":{"id":"20230724013519-aofzozz","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.csdn.net/Kammingo/article/details/105508633","TextMarkTextContent":"https://blog.csdn.net/Kammingo/article/details/105508633"}]},{"ID":"20230724013519-xzzhwyn","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724013519-xzzhwyn","updated":"20230724013519"},"Children":[{"Type":"NodeText","Data":"docker-compose安装"}]},{"ID":"20230724013519-e42fnht","Type":"NodeParagraph","Properties":{"id":"20230724013519-e42fnht","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"daocloud下载源文件"}]},{"ID":"20230724013519-ujprajz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-ujprajz","updated":"20230724013812"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo curl -L https://get.daocloud.io/docker/compose/releases/download/1.25.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-o5mrxpb","Type":"NodeParagraph","Properties":{"id":"20230724013519-o5mrxpb","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"添加可执行权限"}]},{"ID":"20230724013519-ro8lfw9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-ro8lfw9","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo chmod +x /usr/local/bin/docker-compose\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230724013519-y2yll9g","Type":"NodeParagraph","Properties":{"id":"20230724013519-y2yll9g","updated":"20230724013519"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"测试安装结果"}]},{"ID":"20230724013519-lnd6t8h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230724013519-lnd6t8h","updated":"20230724013519"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":" docker-compose --version\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}