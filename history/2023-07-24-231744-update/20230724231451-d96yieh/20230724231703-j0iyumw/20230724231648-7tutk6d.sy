{"ID":"20230724231648-7tutk6d","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231648-7tutk6d","title":"os-signal","updated":"20230724231648"},"Children":[{"ID":"20230724231649-ukbwbps","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231649-ukbwbps","updated":"20230724231649"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"os-signal"}]},{"ID":"20230724231650-amvx1t8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231650-amvx1t8","updated":"20230724231650"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"os/signal\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231651-tbh65ko","Type":"NodeParagraph","Properties":{"id":"20230724231651-tbh65ko","updated":"20230724231651"},"Children":[{"Type":"NodeText","Data":"signal包实现了对输入信号的访问。"}]},{"ID":"20230724231652-3cf29c5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231652-3cf29c5","updated":"20230724231652"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/os/signal/signal.go?name=release#49","TextMarkTextContent":"Notify"}]},{"ID":"20230724231653-wipy7be","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231653-wipy7be","updated":"20230724231653"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Notify(c chan\u003c- os.Signal, sig ...os.Signal)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231654-0uqz3z3","Type":"NodeParagraph","Properties":{"id":"20230724231654-0uqz3z3","updated":"20230724231654"},"Children":[{"Type":"NodeText","Data":"Notify函数让signal包将输入信号转发到c。如果没有列出要传递的信号，会将所有输入信号传递到c；否则只传递列出的输入信号。"}]},{"ID":"20230724231655-qq643d8","Type":"NodeParagraph","Properties":{"id":"20230724231655-qq643d8","updated":"20230724231655"},"Children":[{"Type":"NodeText","Data":"signal包不会为了向c发送信息而阻塞（就是说如果发送时c阻塞了，signal包会直接放弃）：调用者应该保证c有足够的缓存空间可以跟上期望的信号频率。对使用单一信号用于通知的通道，缓存为1就足够了。"}]},{"ID":"20230724231656-zshssxq","Type":"NodeParagraph","Properties":{"id":"20230724231656-zshssxq","updated":"20230724231656"},"Children":[{"Type":"NodeText","Data":"可以使用同一通道多次调用Notify：每一次都会扩展该通道接收的信号集。唯一从信号集去除信号的方法是调用Stop。可以使用同一信号和不同通道多次调用Notify：每一个通道都会独立接收到该信号的一个拷贝。"}]},{"ID":"20230724231657-wvwxtgz","Type":"NodeParagraph","Properties":{"id":"20230724231657-wvwxtgz","updated":"20230724231657"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231658-8zy1ujh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231658-8zy1ujh","updated":"20230724231658"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/os/signal/signal.go?name=release#93","TextMarkTextContent":"Stop"}]},{"ID":"20230724231659-evuashl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231659-evuashl","updated":"20230724231659"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Stop(c chan\u003c- os.Signal)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231660-np3l9vx","Type":"NodeParagraph","Properties":{"id":"20230724231660-np3l9vx","updated":"20230724231660"},"Children":[{"Type":"NodeText","Data":"Stop函数让signal包停止向c转发信号。它会取消之前使用c调用的所有Notify的效果。当Stop返回后，会保证c不再接收到任何信号。"}]},{"ID":"20230724231661-8hwad9l","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231661-8hwad9l","updated":"20230724231661"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Bugs"}]},{"ID":"20230724231662-705n5dv","Type":"NodeParagraph","Properties":{"id":"20230724231662-705n5dv","updated":"20230724231662"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/os/signal/signal.go?name=release#8","TextMarkTextContent":"☞"},{"Type":"NodeText","Data":" 本包还没在Plan 9上实现。"}]}]}