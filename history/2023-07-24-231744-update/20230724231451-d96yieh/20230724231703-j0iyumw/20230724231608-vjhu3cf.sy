{"ID":"20230724231608-vjhu3cf","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231608-vjhu3cf","title":"runtime-pprof","updated":"20230724231608"},"Children":[{"ID":"20230724231609-545pq0e","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231609-545pq0e","updated":"20230724231609"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"runtime-pprof"}]},{"ID":"20230724231610-209zhg1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231610-209zhg1","updated":"20230724231610"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"runtime/pprof\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231611-gt87vob","Type":"NodeParagraph","Properties":{"id":"20230724231611-gt87vob","updated":"20230724231611"},"Children":[{"Type":"NodeText","Data":"pprof包以pprof可视化工具期望的格式书写运行时剖面数据。"}]},{"ID":"20230724231612-be6c015","Type":"NodeParagraph","Properties":{"id":"20230724231612-be6c015","updated":"20230724231612"},"Children":[{"Type":"NodeText","Data":"pprof的更多信息参见http://code.google.com/p/google-perftools/。"}]},{"ID":"20230724231613-tdo3s3c","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231613-tdo3s3c","updated":"20230724231613"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#132","TextMarkTextContent":"Profiles"}]},{"ID":"20230724231614-c6le4t0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231614-c6le4t0","updated":"20230724231614"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Profiles() []*Profile\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231615-npyqgcn","Type":"NodeParagraph","Properties":{"id":"20230724231615-npyqgcn","updated":"20230724231615"},"Children":[{"Type":"NodeText","Data":"Profiles返回所有已知profile的切片，按名称排序。"}]},{"ID":"20230724231616-blmpky1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231616-blmpky1","updated":"20230724231616"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#565","TextMarkTextContent":"StartCPUProfile"}]},{"ID":"20230724231617-95u1nf6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231617-95u1nf6","updated":"20230724231617"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StartCPUProfile(w io.Writer) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231618-jfmp76h","Type":"NodeParagraph","Properties":{"id":"20230724231618-jfmp76h","updated":"20230724231618"},"Children":[{"Type":"NodeText","Data":"StartCPUProfile为当前进程开启CPU profile。在分析时，分析报告会缓存并写入到w中。若分析已经开启，StartCPUProfile就会返回错误。"}]},{"ID":"20230724231619-ak1ytpo","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231619-ak1ytpo","updated":"20230724231619"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#612","TextMarkTextContent":"StopCPUProfile"}]},{"ID":"20230724231620-2uvg71l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231620-2uvg71l","updated":"20230724231620"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StopCPUProfile()\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231621-06c59fx","Type":"NodeParagraph","Properties":{"id":"20230724231621-06c59fx","updated":"20230724231621"},"Children":[{"Type":"NodeText","Data":"StopCPUProfile会停止当前的CPU profile（如果有）。StopCPUProfile 只会在所有的分析报告写入完毕后才会返回。"}]},{"ID":"20230724231622-0tnnbyp","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231622-0tnnbyp","updated":"20230724231622"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#369","TextMarkTextContent":"WriteHeapProfile"}]},{"ID":"20230724231623-4fj2uev","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231623-4fj2uev","updated":"20230724231623"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func WriteHeapProfile(w io.Writer) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231624-0m3im4m","Type":"NodeParagraph","Properties":{"id":"20230724231624-0m3im4m","updated":"20230724231624"},"Children":[{"Type":"NodeText","Data":"WriteHeapProfile是Lookup(\"heap\").WriteTo(w, 0) 的简写。它是为了保持向后兼容性而存在的。"}]},{"ID":"20230724231625-hdwzynu","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231625-hdwzynu","updated":"20230724231625"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#48","TextMarkTextContent":"Profile"}]},{"ID":"20230724231626-r1t2y21","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231626-r1t2y21","updated":"20230724231626"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Profile struct {\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231627-xhpikz5","Type":"NodeParagraph","Properties":{"id":"20230724231627-xhpikz5","updated":"20230724231627"},"Children":[{"Type":"NodeText","Data":"Profile是一个调用栈踪迹的集合，显示导致特定事件（如内存分配）的实例的调用栈序列。包可以创建并维护它们自己的profile；它一般用于跟踪必须被显式关闭的资源，例如文件或网络连接。"}]},{"ID":"20230724231628-07xnnuv","Type":"NodeParagraph","Properties":{"id":"20230724231628-07xnnuv","updated":"20230724231628"},"Children":[{"Type":"NodeText","Data":"一个Profile的方法可被多个Go程同时调用。"}]},{"ID":"20230724231629-aaafdyw","Type":"NodeParagraph","Properties":{"id":"20230724231629-aaafdyw","updated":"20230724231629"},"Children":[{"Type":"NodeText","Data":"每个Profile都有唯一的名称。有些Profile是预定义的："}]},{"ID":"20230724231630-qrk6t0w","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231630-qrk6t0w","updated":"20230724231630"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"goroutine      - 当前Go所有程的调用栈踪迹\nheap           - 所有堆分配的采样\nthreadcreate   - 导致新的OS线程创建的调用栈踪迹\nblock          - 导致同步原语水平的阻塞的调用栈踪迹\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231631-9o9qu56","Type":"NodeParagraph","Properties":{"id":"20230724231631-9o9qu56","updated":"20230724231631"},"Children":[{"Type":"NodeText","Data":"这些预声明的Profile自我维护，如果对它们调用Add或者Remove时，将导致panic。"}]},{"ID":"20230724231632-9q5619p","Type":"NodeParagraph","Properties":{"id":"20230724231632-9q5619p","updated":"20230724231632"},"Children":[{"Type":"NodeText","Data":"CPU profile不能作为Profile使用。它有专门的API，即StartCPUProfile和StopCPUProfile函数，因为它在分析时是以流的形式输出到writer中的。"}]},{"ID":"20230724231633-6ungifq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231633-6ungifq","updated":"20230724231633"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#125","TextMarkTextContent":"Lookup"}]},{"ID":"20230724231634-sbs859h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231634-sbs859h","updated":"20230724231634"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Lookup(name string) *Profile\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231635-c9k5l15","Type":"NodeParagraph","Properties":{"id":"20230724231635-c9k5l15","updated":"20230724231635"},"Children":[{"Type":"NodeText","Data":"Lookup返回具有指定名字的Profile；如果没有，会返回nil。"}]},{"ID":"20230724231636-kikrv53","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231636-kikrv53","updated":"20230724231636"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#107","TextMarkTextContent":"NewProfile"}]},{"ID":"20230724231637-glxasgx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231637-glxasgx","updated":"20230724231637"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewProfile(name string) *Profile\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231638-zth8n88","Type":"NodeParagraph","Properties":{"id":"20230724231638-zth8n88","updated":"20230724231638"},"Children":[{"Type":"NodeText","Data":"以给定的名称创建一个新的Profile。若拥有该名称的Profile已存在，NewProfile就会panic。"}]},{"ID":"20230724231639-9g34if0","Type":"NodeParagraph","Properties":{"id":"20230724231639-9g34if0","updated":"20230724231639"},"Children":[{"Type":"NodeText","Data":"约定会使用'import/path.'前缀来为每个包创建单独的命名空间。"}]},{"ID":"20230724231640-6on7yun","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231640-6on7yun","updated":"20230724231640"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Profile) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#152","TextMarkTextContent":"Name"}]},{"ID":"20230724231641-nppj803","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231641-nppj803","updated":"20230724231641"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Profile) Name() string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231642-qwh25nz","Type":"NodeParagraph","Properties":{"id":"20230724231642-qwh25nz","updated":"20230724231642"},"Children":[{"Type":"NodeText","Data":"Name返回该Profile的名称，它可被传入Lookup来重新获取该Profile。"}]},{"ID":"20230724231643-mupwix9","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231643-mupwix9","updated":"20230724231643"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Profile) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#184","TextMarkTextContent":"Add"}]},{"ID":"20230724231644-mll9u2q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231644-mll9u2q","updated":"20230724231644"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Profile) Add(value interface{}, skip int)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231645-uwly6jq","Type":"NodeParagraph","Properties":{"id":"20230724231645-uwly6jq","updated":"20230724231645"},"Children":[{"Type":"NodeText","Data":"Add 将当前的执行栈添加到该分析中，并与value关联。Add在一个内部映射中存储值，因此value必须适于用作映射键，且在对应的Remove调用之前不会被垃圾收集。"}]},{"ID":"20230724231646-gmaqetq","Type":"NodeParagraph","Properties":{"id":"20230724231646-gmaqetq","updated":"20230724231646"},"Children":[{"Type":"NodeText","Data":"若分析的映射中已经存在value键，Add就会引发panic。"}]},{"ID":"20230724231647-644l4k1","Type":"NodeParagraph","Properties":{"id":"20230724231647-644l4k1","updated":"20230724231647"},"Children":[{"Type":"NodeText","Data":"skip 参数与runtime.Caller的skip参数意义相同，它用于控制调用栈踪迹从哪里开始。skip=0时候会从调用Add的函数开始。例如，给出如下执行栈："}]},{"ID":"20230724231648-lxiw7dm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231648-lxiw7dm","updated":"20230724231648"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"Add\ncalled from rpc.NewClient\ncalled from mypkg.Run\ncalled from main.main\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231649-uljerxp","Type":"NodeParagraph","Properties":{"id":"20230724231649-uljerxp","updated":"20230724231649"},"Children":[{"Type":"NodeText","Data":"当skip=0时，调用栈踪迹从rpc.NewClient对Add的调用开始；当skp=1时，堆调用踪迹从对rpc.NewClient的调用开始。"}]},{"ID":"20230724231650-zls6cul","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231650-zls6cul","updated":"20230724231650"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Profile) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#157","TextMarkTextContent":"Count"}]},{"ID":"20230724231651-s59nf6l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231651-s59nf6l","updated":"20230724231651"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Profile) Count() int\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231652-fu5ml10","Type":"NodeParagraph","Properties":{"id":"20230724231652-fu5ml10","updated":"20230724231652"},"Children":[{"Type":"NodeText","Data":"Count返回该Profile中当前执行栈的数量。"}]},{"ID":"20230724231653-9uferqa","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231653-9uferqa","updated":"20230724231653"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Profile) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#205","TextMarkTextContent":"Remove"}]},{"ID":"20230724231654-0yg5fh4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231654-0yg5fh4","updated":"20230724231654"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Profile) Remove(value interface{})\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231655-7jvqikm","Type":"NodeParagraph","Properties":{"id":"20230724231655-7jvqikm","updated":"20230724231655"},"Children":[{"Type":"NodeText","Data":"Remove从该分析中移除与值value相关联的执行栈。若值value不在此分析中，则不做操作。"}]},{"ID":"20230724231656-tv5s0vf","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231656-tv5s0vf","updated":"20230724231656"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Profile) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#224","TextMarkTextContent":"WriteTo"}]},{"ID":"20230724231657-icy3h9i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231657-icy3h9i","updated":"20230724231657"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Profile) WriteTo(w io.Writer, debug int) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231658-an9op1p","Type":"NodeParagraph","Properties":{"id":"20230724231658-an9op1p","updated":"20230724231658"},"Children":[{"Type":"NodeText","Data":"函数将pprof格式的profile快照写入w中。若一个向w的写入返回一个错误，WriteTo就会返回该错误；否则会返回nil。"}]},{"ID":"20230724231659-igj04hp","Type":"NodeParagraph","Properties":{"id":"20230724231659-igj04hp","updated":"20230724231659"},"Children":[{"Type":"NodeText","Data":"debug 参数用于开启附加的输出。如果debug=0，只会打印pprof所需要的十六进制地址；如果debug=1，会将地址翻译为函数名和行号并添加注释，以便让程序员无需工具阅读分析报告。"}]},{"ID":"20230724231660-q9xsgsa","Type":"NodeParagraph","Properties":{"id":"20230724231660-q9xsgsa","updated":"20230724231660"},"Children":[{"Type":"NodeText","Data":"预定义Profile为其它debug值赋予了含义。例如，当打印“Go程”的分析报告时，debug=2意为：由于不可恢复的恐慌而濒临崩溃时，使用与Go程序相同的格式打印Go程的堆栈信息。"}]},{"ID":"20230724231661-prvffn2","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231661-prvffn2","updated":"20230724231661"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Bugs"}]},{"ID":"20230724231662-ts2a1s7","Type":"NodeParagraph","Properties":{"id":"20230724231662-ts2a1s7","updated":"20230724231662"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/runtime/pprof/pprof.go?name=release#23","TextMarkTextContent":"☞ "},{"Type":"NodeText","Data":"NetBSD和OS X上的profile记录服务是不完整、不准确的，参见http://golang.org/issue/6047获取细节。"}]}]}