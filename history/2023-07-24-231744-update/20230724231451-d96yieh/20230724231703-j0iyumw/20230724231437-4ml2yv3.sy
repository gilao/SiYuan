{"ID":"20230724231437-4ml2yv3","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231437-4ml2yv3","title":"net-textproto","updated":"20230724231437"},"Children":[{"ID":"20230724231438-t3zgb8t","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231438-t3zgb8t","updated":"20230724231438"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"net-textproto"}]},{"ID":"20230724231439-etth5s9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231439-etth5s9","updated":"20230724231439"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"net/textproto\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231440-od773x0","Type":"NodeParagraph","Properties":{"id":"20230724231440-od773x0","updated":"20230724231440"},"Children":[{"Type":"NodeText","Data":"textproto实现了对基于文本的请求/回复协议的一般性支持，包括HTTP、NNTP和SMTP。"}]},{"ID":"20230724231441-15mggtf","Type":"NodeParagraph","Properties":{"id":"20230724231441-15mggtf","updated":"20230724231441"},"Children":[{"Type":"NodeText","Data":"本包提供："}]},{"ID":"20230724231442-fg84kj6","Type":"NodeParagraph","Properties":{"id":"20230724231442-fg84kj6","updated":"20230724231442"},"Children":[{"Type":"NodeText","Data":"错误，代表服务端回复的错误码。Pipeline，以管理客户端中的管道化的请求/回复。Reader，读取数值回复码行，键值对形式的头域，一个作为后续行先导的空行，以及以只有一个\".\"的一行为结尾的整个文本块。Writer，写入点编码的文本。Conn，对Reader、Writer和Pipline的易用的包装，用于单个网络连接。"}]},{"ID":"20230724231443-h6qz8lj","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231443-h6qz8lj","updated":"20230724231443"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#47","TextMarkTextContent":"ProtocolError"}]},{"ID":"20230724231444-pc0n7t3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231444-pc0n7t3","updated":"20230724231444"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type ProtocolError string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231445-p87uygm","Type":"NodeParagraph","Properties":{"id":"20230724231445-p87uygm","updated":"20230724231445"},"Children":[{"Type":"NodeText","Data":"ProtocolError描述一个违反协议的错误，如不合法的回复或者挂起的连接。"}]},{"ID":"20230724231446-lffim52","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231446-lffim52","updated":"20230724231446"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (ProtocolError) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#49","TextMarkTextContent":"Error"}]},{"ID":"20230724231447-ospl9by","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231447-ospl9by","updated":"20230724231447"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p ProtocolError) Error() string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231448-r6b0gvk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231448-r6b0gvk","updated":"20230724231448"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#36","TextMarkTextContent":"Error"}]},{"ID":"20230724231449-cncscm3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231449-cncscm3","updated":"20230724231449"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Error struct {\n    Code int\n    Msg  string\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231450-jcw4ih2","Type":"NodeParagraph","Properties":{"id":"20230724231450-jcw4ih2","updated":"20230724231450"},"Children":[{"Type":"NodeText","Data":"Error代表一个服务端返回的数值状态码/错误码。"}]},{"ID":"20230724231451-ilfjwgo","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231451-ilfjwgo","updated":"20230724231451"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Error) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#41","TextMarkTextContent":"Error"}]},{"ID":"20230724231452-kxwcfkq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231452-kxwcfkq","updated":"20230724231452"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (e *Error) Error() string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231453-391hjbs","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231453-391hjbs","updated":"20230724231453"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#543","TextMarkTextContent":"CanonicalMIMEHeaderKey"}]},{"ID":"20230724231454-guzt21b","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231454-guzt21b","updated":"20230724231454"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CanonicalMIMEHeaderKey(s string) string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231455-1gsaqi5","Type":"NodeParagraph","Properties":{"id":"20230724231455-1gsaqi5","updated":"20230724231455"},"Children":[{"Type":"NodeText","Data":"返回一个MIME头的键的规范格式。该标准会将首字母和所有\"-\"之后的字符改为大写，其余字母改为小写。举个例子，\"accept-encoding\"作为键的标准格式是\"Accept-Encoding\"。MIME头的键必须是ASCII码构成。"}]},{"ID":"20230724231456-5i464pn","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231456-5i464pn","updated":"20230724231456"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#137","TextMarkTextContent":"TrimBytes"}]},{"ID":"20230724231457-fv6k5x9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231457-fv6k5x9","updated":"20230724231457"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func TrimBytes(b []byte) []byte\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231458-2djsa9v","Type":"NodeParagraph","Properties":{"id":"20230724231458-2djsa9v","updated":"20230724231458"},"Children":[{"Type":"NodeText","Data":"去掉b前后的ASCII码空白（不去Unicode空白）"}]},{"ID":"20230724231459-deiu5x0","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231459-deiu5x0","updated":"20230724231459"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#126","TextMarkTextContent":"TrimString"}]},{"ID":"20230724231460-3shaiwb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231460-3shaiwb","updated":"20230724231460"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func TrimString(s string) string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231461-o7jwznx","Type":"NodeParagraph","Properties":{"id":"20230724231461-o7jwznx","updated":"20230724231461"},"Children":[{"Type":"NodeText","Data":"去掉s前后的ASCII码空白（不去Unicode空白）"}]},{"ID":"20230724231462-qf745vw","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231462-qf745vw","updated":"20230724231462"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/header.go?name=release#9","TextMarkTextContent":"MIMEHeader"}]},{"ID":"20230724231463-hc4yqzq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231463-hc4yqzq","updated":"20230724231463"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type MIMEHeader map[string][]string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231464-u94cehn","Type":"NodeParagraph","Properties":{"id":"20230724231464-u94cehn","updated":"20230724231464"},"Children":[{"Type":"NodeText","Data":"MIMEHeader代表一个MIME头，将键映射为值的集合。"}]},{"ID":"20230724231465-oz55fgc","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231465-oz55fgc","updated":"20230724231465"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (MIMEHeader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/header.go?name=release#29","TextMarkTextContent":"Get"}]},{"ID":"20230724231466-3e8d717","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231466-3e8d717","updated":"20230724231466"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (h MIMEHeader) Get(key string) string\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231467-9zfju2r","Type":"NodeParagraph","Properties":{"id":"20230724231467-9zfju2r","updated":"20230724231467"},"Children":[{"Type":"NodeText","Data":"Get方法返回键对应的值集的第一个值。如果键没有关联值，返回\"\"。如要获得键对应的值集直接用map。"}]},{"ID":"20230724231468-vokels9","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231468-vokels9","updated":"20230724231468"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (MIMEHeader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/header.go?name=release#21","TextMarkTextContent":"Set"}]},{"ID":"20230724231469-4mc1rfx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231469-4mc1rfx","updated":"20230724231469"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (h MIMEHeader) Set(key, value string)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231470-n3voc62","Type":"NodeParagraph","Properties":{"id":"20230724231470-n3voc62","updated":"20230724231470"},"Children":[{"Type":"NodeText","Data":"Set方法将键对应的值集设置为只含有value一个值。没有就新建，有则删掉原有的值。"}]},{"ID":"20230724231471-2hwfhai","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231471-2hwfhai","updated":"20230724231471"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (MIMEHeader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/header.go?name=release#13","TextMarkTextContent":"Add"}]},{"ID":"20230724231472-w0gzjth","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231472-w0gzjth","updated":"20230724231472"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (h MIMEHeader) Add(key, value string)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231473-gbjhwvi","Type":"NodeParagraph","Properties":{"id":"20230724231473-gbjhwvi","updated":"20230724231473"},"Children":[{"Type":"NodeText","Data":"Add方法向h中添加键值对，它会把新的值添加到键对应的值的集合里。"}]},{"ID":"20230724231474-1zk8ngx","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231474-1zk8ngx","updated":"20230724231474"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (MIMEHeader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/header.go?name=release#41","TextMarkTextContent":"Del"}]},{"ID":"20230724231475-rk7sdjy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231475-rk7sdjy","updated":"20230724231475"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (h MIMEHeader) Del(key string)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231476-hc0hv6q","Type":"NodeParagraph","Properties":{"id":"20230724231476-hc0hv6q","updated":"20230724231476"},"Children":[{"Type":"NodeText","Data":"Del方法删除键对应的值集。"}]},{"ID":"20230724231477-hg04jub","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231477-hg04jub","updated":"20230724231477"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#22","TextMarkTextContent":"Reader"}]},{"ID":"20230724231478-2hveppj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231478-2hveppj","updated":"20230724231478"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Reader struct {\n    R *bufio.Reader\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231479-uoy83ab","Type":"NodeParagraph","Properties":{"id":"20230724231479-uoy83ab","updated":"20230724231479"},"Children":[{"Type":"NodeText","Data":"Reader实现了从一个文本协议网络连接中方便的读取请求/回复的方法。"}]},{"ID":"20230724231480-wkthnur","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231480-wkthnur","updated":"20230724231480"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#29","TextMarkTextContent":"NewReader"}]},{"ID":"20230724231481-otxp0a0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231481-otxp0a0","updated":"20230724231481"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewReader(r *bufio.Reader) *Reader\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231482-1vkvalx","Type":"NodeParagraph","Properties":{"id":"20230724231482-1vkvalx","updated":"20230724231482"},"Children":[{"Type":"NodeText","Data":"NewReader返回一个从r读取数据的Reader。"}]},{"ID":"20230724231483-5xc17dp","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231483-5xc17dp","updated":"20230724231483"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#286","TextMarkTextContent":"DotReader"}]},{"ID":"20230724231484-ymcuzmm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231484-ymcuzmm","updated":"20230724231484"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) DotReader() io.Reader\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231485-5yq0k61","Type":"NodeParagraph","Properties":{"id":"20230724231485-5yq0k61","updated":"20230724231485"},"Children":[{"Type":"NodeText","Data":"DotReader方法返回一个io.Reader，该接口自动解码r中读取的点编码块。注意该接口仅在下一次调用r的方法之前才有效。点编码是文本协议如SMTP用于文本块的通用框架。数据包含多个行，每行以\"\\r\\n\"结尾。数据本身以一个只含有一个点的一行\".\\r\\n\"来结尾。以点起始的行会添加额外的点，来避免看起来像是文本的结尾。"}]},{"ID":"20230724231486-voyapni","Type":"NodeParagraph","Properties":{"id":"20230724231486-voyapni","updated":"20230724231486"},"Children":[{"Type":"NodeText","Data":"返回接口的Read方法会将行尾的\"\\r\\n\"修改为\"\\n\"，去掉起头的转义点，并在底层读取到（并抛弃掉）表示文本结尾的行时停止解码并返回io.EOF错误。"}]},{"ID":"20230724231487-5mlni33","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231487-5mlni33","updated":"20230724231487"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#35","TextMarkTextContent":"ReadLine"}]},{"ID":"20230724231488-sj0z67i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231488-sj0z67i","updated":"20230724231488"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadLine() (string, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231489-qrdlfub","Type":"NodeParagraph","Properties":{"id":"20230724231489-qrdlfub","updated":"20230724231489"},"Children":[{"Type":"NodeText","Data":"ReadLine方法从r读取单行，去掉最后的\\r\\n或\\n。"}]},{"ID":"20230724231490-7vf3jdq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231490-7vf3jdq","updated":"20230724231490"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#41","TextMarkTextContent":"ReadLineBytes"}]},{"ID":"20230724231491-s8d7500","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231491-s8d7500","updated":"20230724231491"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadLineBytes() ([]byte, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231492-lrjd4nx","Type":"NodeParagraph","Properties":{"id":"20230724231492-lrjd4nx","updated":"20230724231492"},"Children":[{"Type":"NodeText","Data":"ReadLineBytes类似ReadLine但返回[]byte切片。"}]},{"ID":"20230724231493-127poee","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231493-127poee","updated":"20230724231493"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#90","TextMarkTextContent":"ReadContinuedLine"}]},{"ID":"20230724231494-jfqowrq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231494-jfqowrq","updated":"20230724231494"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadContinuedLine() (string, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231495-u6pm7yj","Type":"NodeParagraph","Properties":{"id":"20230724231495-u6pm7yj","updated":"20230724231495"},"Children":[{"Type":"NodeText","Data":"ReadContinuedLine从r中读取可能有后续的行，会将该行尾段的ASCII空白剔除，并将该行后面所有以空格或者tab起始的行视为其后续，后续部分会剔除行头部的空白，所有这些行包括第一行以单个空格连接起来返回。"}]},{"ID":"20230724231496-akoxd4g","Type":"NodeParagraph","Properties":{"id":"20230724231496-akoxd4g","updated":"20230724231496"},"Children":[{"Type":"NodeText","Data":"举例如下："}]},{"ID":"20230724231497-ivruzv2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231497-ivruzv2","updated":"20230724231497"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"Line 1\n  continued...\nLine 2\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231498-fp225at","Type":"NodeParagraph","Properties":{"id":"20230724231498-fp225at","updated":"20230724231498"},"Children":[{"Type":"NodeText","Data":"第一次调用ReadContinuedLine会返回\"Line 1 continued...\"，第二次会返回\"Line 2\""}]},{"ID":"20230724231499-zgv5a5h","Type":"NodeParagraph","Properties":{"id":"20230724231499-zgv5a5h","updated":"20230724231499"},"Children":[{"Type":"NodeText","Data":"只有空格的行不被视为有后续的行。"}]},{"ID":"20230724231500-xkbnsr8","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231500-xkbnsr8","updated":"20230724231500"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#111","TextMarkTextContent":"ReadContinuedLineBytes"}]},{"ID":"20230724231501-4btzddr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231501-4btzddr","updated":"20230724231501"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadContinuedLineBytes() ([]byte, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231502-y69px0d","Type":"NodeParagraph","Properties":{"id":"20230724231502-y69px0d","updated":"20230724231502"},"Children":[{"Type":"NodeText","Data":"ReadContinuedLineBytes类似ReadContinuedLine但返回[]byte切片。"}]},{"ID":"20230724231503-2zw7h3t","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231503-2zw7h3t","updated":"20230724231503"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#402","TextMarkTextContent":"ReadDotBytes"}]},{"ID":"20230724231504-4gzicwu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231504-4gzicwu","updated":"20230724231504"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadDotBytes() ([]byte, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231505-xx1ew0m","Type":"NodeParagraph","Properties":{"id":"20230724231505-xx1ew0m","updated":"20230724231505"},"Children":[{"Type":"NodeText","Data":"ReadDotBytes读取点编码文本返回解码后的数据，点编码详见DotReader方法。"}]},{"ID":"20230724231506-riyp7he","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231506-riyp7he","updated":"20230724231506"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#410","TextMarkTextContent":"ReadDotLines"}]},{"ID":"20230724231507-l0jum5z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231507-l0jum5z","updated":"20230724231507"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadDotLines() ([]string, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231508-wfq77nv","Type":"NodeParagraph","Properties":{"id":"20230724231508-wfq77nv","updated":"20230724231508"},"Children":[{"Type":"NodeText","Data":"ReadDotLines方法读取一个点编码文本块并返回一个包含解码后各行的切片，各行最后的\\r\\n或\\n去掉。"}]},{"ID":"20230724231509-ebplk22","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231509-ebplk22","updated":"20230724231509"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#219","TextMarkTextContent":"ReadCodeLine"}]},{"ID":"20230724231510-ork25k5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231510-ork25k5","updated":"20230724231510"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadCodeLine(expectCode int) (code int, message string, err error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231511-je10zn5","Type":"NodeParagraph","Properties":{"id":"20230724231511-je10zn5","updated":"20230724231511"},"Children":[{"Type":"NodeText","Data":"方法读取回复的状态码行，格式如下："}]},{"ID":"20230724231512-r395i29","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231512-r395i29","updated":"20230724231512"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"code message\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231513-o3vx6sk","Type":"NodeParagraph","Properties":{"id":"20230724231513-o3vx6sk","updated":"20230724231513"},"Children":[{"Type":"NodeText","Data":"状态码是3位数字，message进一步描述状态，例如："}]},{"ID":"20230724231514-g700r59","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231514-g700r59","updated":"20230724231514"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"220 plan9.bell-labs.com ESMTP\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231515-yixy0pm","Type":"NodeParagraph","Properties":{"id":"20230724231515-yixy0pm","updated":"20230724231515"},"Children":[{"Type":"NodeText","Data":"如果状态码字符串的前缀不匹配expectCode，方法返回错误\u0026Error{code, message}。例如expectCode是31，则如果状态码不在区间[310, 319]内就会返回错误。如果回复是多行的则会返回错误。"}]},{"ID":"20230724231516-of2ah1y","Type":"NodeParagraph","Properties":{"id":"20230724231516-of2ah1y","updated":"20230724231516"},"Children":[{"Type":"NodeText","Data":"如果expectCode \u003c= 0，将不会检查状态码。"}]},{"ID":"20230724231517-6pqicie","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231517-6pqicie","updated":"20230724231517"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#249","TextMarkTextContent":"ReadResponse"}]},{"ID":"20230724231518-sak2nia","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231518-sak2nia","updated":"20230724231518"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadResponse(expectCode int) (code int, message string, err error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231519-wj0y5v7","Type":"NodeParagraph","Properties":{"id":"20230724231519-wj0y5v7","updated":"20230724231519"},"Children":[{"Type":"NodeText","Data":"ReadResponse方法读取如下格式的多行回复："}]},{"ID":"20230724231520-9qt54x2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231520-9qt54x2","updated":"20230724231520"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"code-message line 1\ncode-message line 2\n...\ncode message line n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231521-n1or2xq","Type":"NodeParagraph","Properties":{"id":"20230724231521-n1or2xq","updated":"20230724231521"},"Children":[{"Type":"NodeText","Data":"其中code是三位数的状态码。第一行以code和连字符开始，最后以同code后跟空格的行结束。返回值message每行以\\n分隔。细节参见"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://tools.ietf.org/html/rfc959","TextMarkTextContent":"RFC 959"},{"Type":"NodeText","Data":"(http://www.ietf.org/rfc/rfc959.txt)第36页。"}]},{"ID":"20230724231522-nv6k0bs","Type":"NodeParagraph","Properties":{"id":"20230724231522-nv6k0bs","updated":"20230724231522"},"Children":[{"Type":"NodeText","Data":"如果状态码字符串的前缀不匹配expectCode，方法返回时err设为\u0026Error{code, message}。例如expectCode是31，则如果状态码不在区间[310, 319]内就会返回错误。如果回复是多行的则会返回错误。"}]},{"ID":"20230724231523-kwzfkhy","Type":"NodeParagraph","Properties":{"id":"20230724231523-kwzfkhy","updated":"20230724231523"},"Children":[{"Type":"NodeText","Data":"如果expectCode \u003c= 0，将不会检查状态码。"}]},{"ID":"20230724231524-w6eluqu","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231524-w6eluqu","updated":"20230724231524"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Reader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#458","TextMarkTextContent":"ReadMIMEHeader"}]},{"ID":"20230724231525-lv09o82","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231525-lv09o82","updated":"20230724231525"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r *Reader) ReadMIMEHeader() (MIMEHeader, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231526-4tw6iyn","Type":"NodeParagraph","Properties":{"id":"20230724231526-4tw6iyn","updated":"20230724231526"},"Children":[{"Type":"NodeText","Data":"ReadMIMEHeader从r读取MIME风格的头域。该头域包含一系列可能有后续的键值行，以空行结束。返回的map映射CanonicalMIMEHeaderKey(key)到值的序列（顺序与输入相同）。"}]},{"ID":"20230724231527-qwumwet","Type":"NodeParagraph","Properties":{"id":"20230724231527-qwumwet","updated":"20230724231527"},"Children":[{"Type":"NodeText","Data":"举例如下："}]},{"ID":"20230724231528-jxz50gy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231528-jxz50gy","updated":"20230724231528"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"My-Key: Value 1\nLong-Key: Even\n       Longer Value\nMy-Key: Value 2\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231529-55qtw0n","Type":"NodeParagraph","Properties":{"id":"20230724231529-55qtw0n","updated":"20230724231529"},"Children":[{"Type":"NodeText","Data":"对此输入，ReadMIMEHeader返回："}]},{"ID":"20230724231530-pecyfw3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231530-pecyfw3","updated":"20230724231530"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"map[string][]string{\n\t\"My-Key\": {\"Value 1\", \"Value 2\"},\n\t\"Long-Key\": {\"Even Longer Value\"},\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231531-b5xxx2b","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231531-b5xxx2b","updated":"20230724231531"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/writer.go?name=release#15","TextMarkTextContent":"Writer"}]},{"ID":"20230724231532-zmbc160","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231532-zmbc160","updated":"20230724231532"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Writer struct {\n    W *bufio.Writer\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231533-pnjkp6o","Type":"NodeParagraph","Properties":{"id":"20230724231533-pnjkp6o","updated":"20230724231533"},"Children":[{"Type":"NodeText","Data":"Writer实现了方便的方法在一个文本协议网络连接中写入请求/回复。"}]},{"ID":"20230724231534-pypovff","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231534-pypovff","updated":"20230724231534"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/writer.go?name=release#21","TextMarkTextContent":"NewWriter"}]},{"ID":"20230724231535-baui3nu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231535-baui3nu","updated":"20230724231535"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewWriter(w *bufio.Writer) *Writer\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231536-0t97t54","Type":"NodeParagraph","Properties":{"id":"20230724231536-0t97t54","updated":"20230724231536"},"Children":[{"Type":"NodeText","Data":"NewWriter函数返回一个底层写入w的Writer。"}]},{"ID":"20230724231537-1kqaxi4","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231537-1kqaxi4","updated":"20230724231537"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Writer) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/writer.go?name=release#43","TextMarkTextContent":"DotWriter"}]},{"ID":"20230724231538-k5hbpfl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231538-k5hbpfl","updated":"20230724231538"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (w *Writer) DotWriter() io.WriteCloser\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231539-kngy807","Type":"NodeParagraph","Properties":{"id":"20230724231539-kngy807","updated":"20230724231539"},"Children":[{"Type":"NodeText","Data":"DotWriter方法返回一个io.WriteCloser，用于将点编码文本写入w。返回的接口会在必要时添加转义点，将行尾的\\n替换为\\r\\n，并在关闭时添加最后的.\\r\\n行。调用者必须在下一次调用w的方法前关闭该接口。点编码文本格式参见Reader.DotReader方法。"}]},{"ID":"20230724231540-bijhwkr","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231540-bijhwkr","updated":"20230724231540"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Writer) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/writer.go?name=release#29","TextMarkTextContent":"PrintfLine"}]},{"ID":"20230724231541-n5hwz8j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231541-n5hwz8j","updated":"20230724231541"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (w *Writer) PrintfLine(format string, args ...interface{}) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231542-1zdwdf2","Type":"NodeParagraph","Properties":{"id":"20230724231542-1zdwdf2","updated":"20230724231542"},"Children":[{"Type":"NodeText","Data":"PrintfLine方法将格式化的输出写入底层并在最后写入\\r\\n。"}]},{"ID":"20230724231543-zd9yp1v","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231543-zd9yp1v","updated":"20230724231543"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/pipeline.go?name=release#28","TextMarkTextContent":"Pipeline"}]},{"ID":"20230724231544-t7w2bt5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231544-t7w2bt5","updated":"20230724231544"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Pipeline struct {\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231545-h0eptli","Type":"NodeParagraph","Properties":{"id":"20230724231545-h0eptli","updated":"20230724231545"},"Children":[{"Type":"NodeText","Data":"Pipeline管理管道化的有序请求/回复序列。"}]},{"ID":"20230724231546-a1fxtyx","Type":"NodeParagraph","Properties":{"id":"20230724231546-a1fxtyx","updated":"20230724231546"},"Children":[{"Type":"NodeText","Data":"为了使用Pipeline管理一个连接的多个客户端，每个客户端应像下面一样运行："}]},{"ID":"20230724231547-jwfaoi8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231547-jwfaoi8","updated":"20230724231547"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"id := p.Next()      // 获取一个数字id\np.StartRequest(id)  // 等待轮到该id发送请求\n«send request»\np.EndRequest(id)    // 通知Pipeline请求发送完毕\np.StartResponse(id) // 等待该id读取回复\n«read response»\np.EndResponse(id)   // 通知Pipeline回复已经读取\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231548-3dee7i8","Type":"NodeParagraph","Properties":{"id":"20230724231548-3dee7i8","updated":"20230724231548"},"Children":[{"Type":"NodeText","Data":"一个管道化的服务器可以使用相同的调用来保证回复并行的生成并以正确的顺序写入。"}]},{"ID":"20230724231549-l1wosso","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231549-l1wosso","updated":"20230724231549"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Pipeline) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/pipeline.go?name=release#36","TextMarkTextContent":"Next"}]},{"ID":"20230724231550-tjx5fn4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231550-tjx5fn4","updated":"20230724231550"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Pipeline) Next() uint\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231551-1lecbhf","Type":"NodeParagraph","Properties":{"id":"20230724231551-1lecbhf","updated":"20230724231551"},"Children":[{"Type":"NodeText","Data":"返回下一对request/response的id。"}]},{"ID":"20230724231552-jf1ko2o","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231552-jf1ko2o","updated":"20230724231552"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Pipeline) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/pipeline.go?name=release#46","TextMarkTextContent":"StartRequest"}]},{"ID":"20230724231553-ery84ly","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231553-ery84ly","updated":"20230724231553"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Pipeline) StartRequest(id uint)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231554-4ririag","Type":"NodeParagraph","Properties":{"id":"20230724231554-4ririag","updated":"20230724231554"},"Children":[{"Type":"NodeText","Data":"阻塞程序，直到轮到给定id来发送（读取）request。"}]},{"ID":"20230724231555-e0dtxwq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231555-e0dtxwq","updated":"20230724231555"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Pipeline) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/pipeline.go?name=release#58","TextMarkTextContent":"StartResponse"}]},{"ID":"20230724231556-ownogc8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231556-ownogc8","updated":"20230724231556"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Pipeline) StartResponse(id uint)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231557-tonyfbx","Type":"NodeParagraph","Properties":{"id":"20230724231557-tonyfbx","updated":"20230724231557"},"Children":[{"Type":"NodeText","Data":"阻塞程序，直到轮到给定id来读取（发送）response。"}]},{"ID":"20230724231558-z5nzuxx","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231558-z5nzuxx","updated":"20230724231558"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Pipeline) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/pipeline.go?name=release#52","TextMarkTextContent":"EndRequest"}]},{"ID":"20230724231559-wfiosjk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231559-wfiosjk","updated":"20230724231559"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Pipeline) EndRequest(id uint)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231560-wpqsaov","Type":"NodeParagraph","Properties":{"id":"20230724231560-wpqsaov","updated":"20230724231560"},"Children":[{"Type":"NodeText","Data":"通知p，给定id的request的操作已经结束了。"}]},{"ID":"20230724231561-xajq48i","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231561-xajq48i","updated":"20230724231561"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Pipeline) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/pipeline.go?name=release#64","TextMarkTextContent":"EndResponse"}]},{"ID":"20230724231562-yuio940","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231562-yuio940","updated":"20230724231562"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (p *Pipeline) EndResponse(id uint)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231563-nu0iae1","Type":"NodeParagraph","Properties":{"id":"20230724231563-nu0iae1","updated":"20230724231563"},"Children":[{"Type":"NodeText","Data":"通知p，给定id的response的操作已经结束了。"}]},{"ID":"20230724231564-r6quq1p","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231564-r6quq1p","updated":"20230724231564"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#58","TextMarkTextContent":"Conn"}]},{"ID":"20230724231565-6dclsyh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231565-6dclsyh","updated":"20230724231565"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Conn struct {\n    Reader\n    Writer\n    Pipeline\n    // 内含隐藏或非导出字段\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231566-ub3nxg4","Type":"NodeParagraph","Properties":{"id":"20230724231566-ub3nxg4","updated":"20230724231566"},"Children":[{"Type":"NodeText","Data":"Conn代表一个文本网络协议的连接。它包含一个Reader和一个Writer来管理读写，一个Pipeline来对连接中并行的请求进行排序。匿名嵌入的类型字段是Conn可以调用它们的方法。"}]},{"ID":"20230724231567-2ld5yvx","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231567-2ld5yvx","updated":"20230724231567"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#66","TextMarkTextContent":"NewConn"}]},{"ID":"20230724231568-8lxtm88","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231568-8lxtm88","updated":"20230724231568"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewConn(conn io.ReadWriteCloser) *Conn\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231569-0zt9i87","Type":"NodeParagraph","Properties":{"id":"20230724231569-0zt9i87","updated":"20230724231569"},"Children":[{"Type":"NodeText","Data":"NewConn函数返回以I/O为底层的Conn。"}]},{"ID":"20230724231570-uwagt73","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231570-uwagt73","updated":"20230724231570"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#81","TextMarkTextContent":"Dial"}]},{"ID":"20230724231571-im0pdi4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231571-im0pdi4","updated":"20230724231571"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Dial(network, addr string) (*Conn, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231572-6utww7j","Type":"NodeParagraph","Properties":{"id":"20230724231572-6utww7j","updated":"20230724231572"},"Children":[{"Type":"NodeText","Data":"Dial函数使用net.Dial在给定网络上和给定地址建立网络连接，并返回用于该连接的Conn。"}]},{"ID":"20230724231573-ezkikr7","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231573-ezkikr7","updated":"20230724231573"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Conn) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#114","TextMarkTextContent":"Cmd"}]},{"ID":"20230724231574-24jsw5j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231574-24jsw5j","updated":"20230724231574"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Conn) Cmd(format string, args ...interface{}) (id uint, err error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231575-qj6kh2m","Type":"NodeParagraph","Properties":{"id":"20230724231575-qj6kh2m","updated":"20230724231575"},"Children":[{"Type":"NodeText","Data":"Cmd方法用于在管道中等待轮到它执行，并发送命令。命令文本是用给定的format字符串和参数格式化生成的。并会在最后添加上\\r\\n。Cmd函数返回该命令的Pipeline id，用于StartResponse和EndResponse方法。"}]},{"ID":"20230724231576-lbbvfw5","Type":"NodeParagraph","Properties":{"id":"20230724231576-lbbvfw5","updated":"20230724231576"},"Children":[{"Type":"NodeText","Data":"例如，一个客户端可以使用如下代码执行HELP命令并返回解码后的点编码文本："}]},{"ID":"20230724231577-qyrvlej","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231577-qyrvlej","updated":"20230724231577"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"id, err := c.Cmd(\"HELP\")\nif err != nil {\n\treturn nil, err\n}\nc.StartResponse(id)\ndefer c.EndResponse(id)\nif _, _, err = c.ReadCodeLine(110); err != nil {\n\treturn nil, err\n}\ntext, err := c.ReadDotBytes()\nif err != nil {\n\treturn nil, err\n}\nreturn c.ReadCodeLine(250)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231578-30spyc5","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231578-30spyc5","updated":"20230724231578"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Conn) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/textproto.go?name=release#75","TextMarkTextContent":"Close"}]},{"ID":"20230724231579-11eazr0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231579-11eazr0","updated":"20230724231579"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (c *Conn) Close() error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231580-01v14h4","Type":"NodeParagraph","Properties":{"id":"20230724231580-01v14h4","updated":"20230724231580"},"Children":[{"Type":"NodeText","Data":"Close方法关闭连接。"}]},{"ID":"20230724231581-hegeafe","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231581-hegeafe","updated":"20230724231581"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Bugs"}]},{"ID":"20230724231582-up63e2m","Type":"NodeParagraph","Properties":{"id":"20230724231582-up63e2m","updated":"20230724231582"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/textproto/reader.go?name=release#16","TextMarkTextContent":"☞"},{"Type":"NodeText","Data":"为了让调用者处理拒绝服务攻击，Reader接口应该允许他们设置和重设从连接读取的字节数。"}]}]}