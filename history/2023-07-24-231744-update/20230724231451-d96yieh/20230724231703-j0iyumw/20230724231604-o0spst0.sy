{"ID":"20230724231604-o0spst0","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231604-o0spst0","title":"crypto-cipher","updated":"20230724231604"},"Children":[{"ID":"20230724231605-8kswkv3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231605-8kswkv3","updated":"20230724231605"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"crypto-cipher"}]},{"ID":"20230724231606-j03yz3j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231606-j03yz3j","updated":"20230724231606"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"crypto/cipher\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231607-cwc9ic4","Type":"NodeParagraph","Properties":{"id":"20230724231607-cwc9ic4","updated":"20230724231607"},"Children":[{"Type":"NodeText","Data":"cipher包实现了多个标准的用于包装底层块加密算法的加密算法实现。"}]},{"ID":"20230724231608-tfyfvoy","Type":"NodeParagraph","Properties":{"id":"20230724231608-tfyfvoy","updated":"20230724231608"},"Children":[{"Type":"NodeText","Data":"参见http://csrc.nist.gov/groups/ST/toolkit/BCM/current_modes.html和NIST Special Publication 800-38A。"}]},{"ID":"20230724231609-j494hnn","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231609-j494hnn","updated":"20230724231609"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cipher.go?name=release#15","TextMarkTextContent":"Block"}]},{"ID":"20230724231610-ptizk1a","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231610-ptizk1a","updated":"20230724231610"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Block interface {\n    // 返回加密字节块的大小\n    BlockSize() int\n    // 加密src的第一块数据并写入dst，src和dst可指向同一内存地址\n    Encrypt(dst, src []byte)\n    // 解密src的第一块数据并写入dst，src和dst可指向同一内存地址\n    Decrypt(dst, src []byte)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231611-4qnc857","Type":"NodeParagraph","Properties":{"id":"20230724231611-4qnc857","updated":"20230724231611"},"Children":[{"Type":"NodeText","Data":"Block接口代表一个使用特定密钥的底层块加/解密器。它提供了加密和解密独立数据块的能力。"}]},{"ID":"20230724231612-03oalbt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231612-03oalbt","updated":"20230724231612"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cipher.go?name=release#37","TextMarkTextContent":"BlockMode"}]},{"ID":"20230724231613-k60proc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231613-k60proc","updated":"20230724231613"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type BlockMode interface {\n    // 返回加密字节块的大小\n    BlockSize() int\n    // 加密或解密连续的数据块，src的尺寸必须是块大小的整数倍，src和dst可指向同一内存地址\n    CryptBlocks(dst, src []byte)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231614-st6vv6s","Type":"NodeParagraph","Properties":{"id":"20230724231614-st6vv6s","updated":"20230724231614"},"Children":[{"Type":"NodeText","Data":"BlockMode接口代表一个工作在块模式（如CBC、ECB等）的加/解密器。"}]},{"ID":"20230724231615-llxad0l","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231615-llxad0l","updated":"20230724231615"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cbc.go?name=release#35","TextMarkTextContent":"NewCBCEncrypter"}]},{"ID":"20230724231616-ekxhfro","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231616-ekxhfro","updated":"20230724231616"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewCBCEncrypter(b Block, iv []byte) BlockMode\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231617-ohwojrd","Type":"NodeParagraph","Properties":{"id":"20230724231617-ohwojrd","updated":"20230724231617"},"Children":[{"Type":"NodeText","Data":"返回一个密码分组链接模式的、底层用b加密的BlockMode接口，初始向量iv的长度必须等于b的块尺寸。"}]},{"ID":"20230724231618-a560uqo","Type":"NodeParagraph","Properties":{"id":"20230724231618-a560uqo","updated":"20230724231618"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231619-n8xwctt","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231619-n8xwctt","updated":"20230724231619"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cbc.go?name=release#81","TextMarkTextContent":"NewCBCDecrypter"}]},{"ID":"20230724231620-jvs2hx8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231620-jvs2hx8","updated":"20230724231620"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewCBCDecrypter(b Block, iv []byte) BlockMode\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231621-v97xohd","Type":"NodeParagraph","Properties":{"id":"20230724231621-v97xohd","updated":"20230724231621"},"Children":[{"Type":"NodeText","Data":"返回一个密码分组链接模式的、底层用b解密的BlockMode接口，初始向量iv必须和加密时使用的iv相同。"}]},{"ID":"20230724231622-3hzkjyv","Type":"NodeParagraph","Properties":{"id":"20230724231622-3hzkjyv","updated":"20230724231622"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231623-srzfh50","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231623-srzfh50","updated":"20230724231623"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cipher.go?name=release#29","TextMarkTextContent":"Stream"}]},{"ID":"20230724231624-th912xp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231624-th912xp","updated":"20230724231624"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Stream interface {\n    // 从加密器的key流和src中依次取出字节二者xor后写入dst，src和dst可指向同一内存地址\n    XORKeyStream(dst, src []byte)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231625-z3cwzhk","Type":"NodeParagraph","Properties":{"id":"20230724231625-z3cwzhk","updated":"20230724231625"},"Children":[{"Type":"NodeText","Data":"Stream接口代表一个流模式的加/解密器。"}]},{"ID":"20230724231626-ip2lqu2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231626-ip2lqu2","updated":"20230724231626"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cfb.go?name=release#45","TextMarkTextContent":"NewCFBEncrypter"}]},{"ID":"20230724231627-xjqhpd4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231627-xjqhpd4","updated":"20230724231627"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewCFBEncrypter(block Block, iv []byte) Stream\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231628-w94pl1y","Type":"NodeParagraph","Properties":{"id":"20230724231628-w94pl1y","updated":"20230724231628"},"Children":[{"Type":"NodeText","Data":"返回一个密码反馈模式的、底层用block加密的Stream接口，初始向量iv的长度必须等于block的块尺寸。"}]},{"ID":"20230724231629-dmj1vwm","Type":"NodeParagraph","Properties":{"id":"20230724231629-dmj1vwm","updated":"20230724231629"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231630-jds5lrg","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231630-jds5lrg","updated":"20230724231630"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/cfb.go?name=release#52","TextMarkTextContent":"NewCFBDecrypter"}]},{"ID":"20230724231631-ywf53wk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231631-ywf53wk","updated":"20230724231631"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewCFBDecrypter(block Block, iv []byte) Stream\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231632-3sq8gu4","Type":"NodeParagraph","Properties":{"id":"20230724231632-3sq8gu4","updated":"20230724231632"},"Children":[{"Type":"NodeText","Data":"返回一个密码反馈模式的、底层用block解密的Stream接口，初始向量iv必须和加密时使用的iv相同。"}]},{"ID":"20230724231633-gdhbe5t","Type":"NodeParagraph","Properties":{"id":"20230724231633-gdhbe5t","updated":"20230724231633"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231634-7ubyoa1","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231634-7ubyoa1","updated":"20230724231634"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/ofb.go?name=release#19","TextMarkTextContent":"NewOFB"}]},{"ID":"20230724231635-rvd707f","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231635-rvd707f","updated":"20230724231635"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewOFB(b Block, iv []byte) Stream\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231636-6co7uqm","Type":"NodeParagraph","Properties":{"id":"20230724231636-6co7uqm","updated":"20230724231636"},"Children":[{"Type":"NodeText","Data":"返回一个输出反馈模式的、底层采用b生成key流的Stream接口，初始向量iv的长度必须等于b的块尺寸。"}]},{"ID":"20230724231637-yzpymv2","Type":"NodeParagraph","Properties":{"id":"20230724231637-yzpymv2","updated":"20230724231637"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231638-ejkvrf0","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231638-ejkvrf0","updated":"20230724231638"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/ctr.go?name=release#26","TextMarkTextContent":"NewCTR"}]},{"ID":"20230724231639-hjneixb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231639-hjneixb","updated":"20230724231639"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewCTR(block Block, iv []byte) Stream\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231640-wx4c7t2","Type":"NodeParagraph","Properties":{"id":"20230724231640-wx4c7t2","updated":"20230724231640"},"Children":[{"Type":"NodeText","Data":"返回一个计数器模式的、底层采用block生成key流的Stream接口，初始向量iv的长度必须等于block的块尺寸。"}]},{"ID":"20230724231641-r7wvk3m","Type":"NodeParagraph","Properties":{"id":"20230724231641-r7wvk3m","updated":"20230724231641"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231642-ityldqc","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231642-ityldqc","updated":"20230724231642"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/io.go?name=release#14","TextMarkTextContent":"StreamReader"}]},{"ID":"20230724231643-58u6xj9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231643-58u6xj9","updated":"20230724231643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type StreamReader struct {\n    S   Stream\n    R   io.Reader\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231644-b1qs37b","Type":"NodeParagraph","Properties":{"id":"20230724231644-b1qs37b","updated":"20230724231644"},"Children":[{"Type":"NodeText","Data":"将一个Stream与一个io.Reader接口关联起来，Read方法会调用XORKeyStream方法来处理获取的所有切片。"}]},{"ID":"20230724231645-flppt3j","Type":"NodeParagraph","Properties":{"id":"20230724231645-flppt3j","updated":"20230724231645"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231646-jqb9jbo","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231646-jqb9jbo","updated":"20230724231646"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (StreamReader) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/io.go?name=release#19","TextMarkTextContent":"Read"}]},{"ID":"20230724231647-x8utunc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231647-x8utunc","updated":"20230724231647"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (r StreamReader) Read(dst []byte) (n int, err error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231648-z2qm84c","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231648-z2qm84c","updated":"20230724231648"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/io.go?name=release#30","TextMarkTextContent":"StreamWriter"}]},{"ID":"20230724231649-dzzz15j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231649-dzzz15j","updated":"20230724231649"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type StreamWriter struct {\n    S   Stream\n    W   io.Writer\n    Err error // unused\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231650-xyx5v87","Type":"NodeParagraph","Properties":{"id":"20230724231650-xyx5v87","updated":"20230724231650"},"Children":[{"Type":"NodeText","Data":"将一个Stream与一个io.Writer接口关联起来，Write方法会调用XORKeyStream方法来处理提供的所有切片。如果Write方法返回的n小于提供的切片的长度，则表示StreamWriter不同步，必须丢弃。StreamWriter没有内建的缓存，不需要调用Close方法去清空缓存。"}]},{"ID":"20230724231651-ojzjj5b","Type":"NodeParagraph","Properties":{"id":"20230724231651-ojzjj5b","updated":"20230724231651"},"Children":[{"Type":"NodeText","Data":"Example"}]},{"ID":"20230724231652-ij9l5ml","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231652-ij9l5ml","updated":"20230724231652"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (StreamWriter) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/io.go?name=release#36","TextMarkTextContent":"Write"}]},{"ID":"20230724231653-6skekcp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231653-6skekcp","updated":"20230724231653"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (w StreamWriter) Write(src []byte) (n int, err error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231654-imq7mgb","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231654-imq7mgb","updated":"20230724231654"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (StreamWriter) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/io.go?name=release#50","TextMarkTextContent":"Close"}]},{"ID":"20230724231655-v1s3rrr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231655-v1s3rrr","updated":"20230724231655"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (w StreamWriter) Close() error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231656-yw5041n","Type":"NodeParagraph","Properties":{"id":"20230724231656-yw5041n","updated":"20230724231656"},"Children":[{"Type":"NodeText","Data":"如果w.W字段实现了io.Closer接口，本方法会调用其Close方法并返回该方法的返回值；否则不做操作返回nil。"}]},{"ID":"20230724231657-niz84od","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231657-niz84od","updated":"20230724231657"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/gcm.go?name=release#14","TextMarkTextContent":"AEAD"}]},{"ID":"20230724231658-fr6ppzk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231658-fr6ppzk","updated":"20230724231658"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type AEAD interface {\n    // 返回提供给Seal和Open方法的随机数nonce的字节长度\n    NonceSize() int\n    // 返回原始文本和加密文本的最大长度差异\n    Overhead() int\n    // 加密并认证明文，认证附加的data，将结果添加到dst，返回更新后的切片。\n    // nonce的长度必须是NonceSize()字节，且对给定的key和时间都是独一无二的。\n    // plaintext和dst可以是同一个切片，也可以不同。\n    Seal(dst, nonce, plaintext, data []byte) []byte\n    // 解密密文并认证，认证附加的data，如果认证成功，将明文添加到dst，返回更新后的切片。\n    // nonce的长度必须是NonceSize()字节，nonce和data都必须和加密时使用的相同。\n    // ciphertext和dst可以是同一个切片，也可以不同。\n    Open(dst, nonce, ciphertext, data []byte) ([]byte, error)\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231659-q9bq3kj","Type":"NodeParagraph","Properties":{"id":"20230724231659-q9bq3kj","updated":"20230724231659"},"Children":[{"Type":"NodeText","Data":"AEAD接口是一种提供了使用关联数据进行认证加密的功能的加密模式。"}]},{"ID":"20230724231660-e1ebrqb","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231660-e1ebrqb","updated":"20230724231660"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/crypto/cipher/gcm.go?name=release#62","TextMarkTextContent":"NewGCM"}]},{"ID":"20230724231661-wabv9zr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231661-wabv9zr","updated":"20230724231661"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func NewGCM(cipher Block) (AEAD, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231662-57h3fij","Type":"NodeParagraph","Properties":{"id":"20230724231662-57h3fij","updated":"20230724231662"},"Children":[{"Type":"NodeText","Data":"函数用迦洛瓦计数器模式包装提供的128位Block接口，并返回AEAD接口。"}]}]}