{"ID":"20230724231644-vxudvao","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231644-vxudvao","title":"net-http-cgi","updated":"20230724231644"},"Children":[{"ID":"20230724231645-ieqd0mu","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231645-ieqd0mu","updated":"20230724231645"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"net-http-cgi"}]},{"ID":"20230724231646-p458gpd","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231646-p458gpd","updated":"20230724231646"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"net/http/cgi\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231647-cnxdw5j","Type":"NodeParagraph","Properties":{"id":"20230724231647-cnxdw5j","updated":"20230724231647"},"Children":[{"Type":"NodeText","Data":"cgi包实现了CGI（Common Gateway Interface，公共网关协议），参见"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://tools.ietf.org/html/rfc3875","TextMarkTextContent":"RFC 3875"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230724231648-nbw259u","Type":"NodeParagraph","Properties":{"id":"20230724231648-nbw259u","updated":"20230724231648"},"Children":[{"Type":"NodeText","Data":"注意使用CGI意味着对每一个请求开始一个新的进程，这显然要比使用长期运行的服务程序要低效。本包主要是为了兼容现有的系统。"}]},{"ID":"20230724231649-anmt0dy","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231649-anmt0dy","updated":"20230724231649"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/http/cgi/child.go?name=release#29","TextMarkTextContent":"Request"}]},{"ID":"20230724231650-qovqrem","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231650-qovqrem","updated":"20230724231650"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Request() (*http.Request, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231651-mbdjj8f","Type":"NodeParagraph","Properties":{"id":"20230724231651-mbdjj8f","updated":"20230724231651"},"Children":[{"Type":"NodeText","Data":"返回一个当前环境下的HTTP请求。它假设当前程序执行在CGI环境下，成功返回的Request的Body是可读取数据的。（如果必要）"}]},{"ID":"20230724231652-fxzb4y4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231652-fxzb4y4","updated":"20230724231652"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/http/cgi/child.go?name=release#52","TextMarkTextContent":"RequestFromMap"}]},{"ID":"20230724231653-a3j3zuf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231653-a3j3zuf","updated":"20230724231653"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func RequestFromMap(params map[string]string) (*http.Request, error)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231654-c2wyit1","Type":"NodeParagraph","Properties":{"id":"20230724231654-c2wyit1","updated":"20230724231654"},"Children":[{"Type":"NodeText","Data":"使用CGI变量集params创建一个HTTP请求。返回的Request的Body是没有数据的。"}]},{"ID":"20230724231655-d37319z","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231655-d37319z","updated":"20230724231655"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/http/cgi/child.go?name=release#146","TextMarkTextContent":"Serve"}]},{"ID":"20230724231656-cgz1lln","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231656-cgz1lln","updated":"20230724231656"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func Serve(handler http.Handler) error\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231657-6lnvv20","Type":"NodeParagraph","Properties":{"id":"20230724231657-6lnvv20","updated":"20230724231657"},"Children":[{"Type":"NodeText","Data":"在当前活跃CGI环境下执行handler；如当前无CGI环境，会返回错误。handler为nil时将使用http.DefaultServeMux。"}]},{"ID":"20230724231658-c3xtxip","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231658-c3xtxip","updated":"20230724231658"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"type "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/http/cgi/host.go?name=release#46","TextMarkTextContent":"Handler"}]},{"ID":"20230724231659-4porj8n","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231659-4porj8n","updated":"20230724231659"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"type Handler struct {\n    Path string // CGI可执行文件的路径\n    Root string // handler的根URI前缀，\"\"代表\"/\"\n    // Dir指定CGI程序的工作目录。\n    // 如果Dir为\"\"则使用Path的基目录；如果Path没有基目录则使用当前工作目录。\n    Dir string\n    Env        []string    // 额外设置的环境变量（如果有），格式为\"key=value\"\n    InheritEnv []string    // 从host继承的环境变量，只有\"key\"\n    Logger     *log.Logger // 可选的logger接口切片，如为nil则使用log.Print\n    Args       []string    // 可选的传递给子进程的参数\n    // 当CGI进程返回一个Location头，且其值以\"/\"开始时，\n    // 本字段指定处理内部重定向的根部HTTP Handler。参见RFC 3875 § 6.3.2。\n    // 一般会使用http.DefaultServeMux。\n    // 如果为nil，返回一个本地URI路径的CGI回复会发送给客户端，不进行内部跳转。\n    PathLocationHandler http.Handler\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231660-1ug39hn","Type":"NodeParagraph","Properties":{"id":"20230724231660-1ug39hn","updated":"20230724231660"},"Children":[{"Type":"NodeText","Data":"Handler在子进程中执行具有一个CGI环境的可执行程序。"}]},{"ID":"20230724231661-0k8ysxq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230724231661-0k8ysxq","updated":"20230724231661"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func (*Handler) "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/net/http/cgi/host.go?name=release#97","TextMarkTextContent":"ServeHTTP"}]},{"ID":"20230724231662-dnq1fzv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231662-dnq1fzv","updated":"20230724231662"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func (h *Handler) ServeHTTP(rw http.ResponseWriter, req *http.Request)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}