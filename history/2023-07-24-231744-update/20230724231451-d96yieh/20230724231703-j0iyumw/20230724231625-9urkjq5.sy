{"ID":"20230724231625-9urkjq5","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231625-9urkjq5","title":"flag","updated":"20230724231625"},"Children":[{"ID":"20230724231626-uhyymfp","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230724231626-uhyymfp","updated":"20230724231626"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag"}]},{"ID":"20230724231627-i9cqqca","Type":"NodeParagraph","Properties":{"id":"20230724231627-i9cqqca","updated":"20230724231627"},"Children":[{"Type":"NodeText","Data":"Go语言内置的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"flag"},{"Type":"NodeText","Data":"包实现了命令行参数的解析，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"flag"},{"Type":"NodeText","Data":"包使得开发命令行工具更为简单。"}]},{"ID":"20230724231628-yfqulo7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231628-yfqulo7","updated":"20230724231628"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"os.Args"}]},{"ID":"20230724231629-q2z2vyq","Type":"NodeParagraph","Properties":{"id":"20230724231629-q2z2vyq","updated":"20230724231629"},"Children":[{"Type":"NodeText","Data":"如果你只是简单的想要获取命令行参数，可以像下面的代码示例一样使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"os.Args"},{"Type":"NodeText","Data":"来获取命令行参数。"}]},{"ID":"20230724231630-mwqzzlr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"Z28=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231630-mwqzzlr","updated":"20230724231630"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"package main\n\nimport (\n\t\"fmt\"\n\t\"os\"\n)\n\n//os.Args demo\nfunc main() {\n\t//os.Args是一个[]string\n\tif len(os.Args) \u003e 0 {\n\t\tfor index, arg := range os.Args {\n\t\t\tfmt.Printf(\"args[%d]=%v\\n\", index, arg)\n\t\t}\n\t}\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231631-icmuqbe","Type":"NodeParagraph","Properties":{"id":"20230724231631-icmuqbe","updated":"20230724231631"},"Children":[{"Type":"NodeText","Data":"将上面的代码执行 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"go build -o \u0026quot;args_demo\u0026quot;"},{"Type":"NodeText","Data":" 编译之后，执行："}]},{"ID":"20230724231632-ir7dgqw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"Z28=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231632-ir7dgqw","updated":"20230724231632"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"$ ./args_demo a b c d\nargs[0]=./args_demo\nargs[1]=a\nargs[2]=b\nargs[3]=c\nargs[4]=d\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231633-wtmv0m9","Type":"NodeParagraph","Properties":{"id":"20230724231633-wtmv0m9","updated":"20230724231633"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"os.Args"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"是一个存储命令行参数的字符串切片，它的第一个元素是执行文件的名称。"}]},{"ID":"20230724231634-ifqkg5s","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230724231634-ifqkg5s","updated":"20230724231634"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag"}]},{"ID":"20230724231635-5k5mifv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231635-5k5mifv","updated":"20230724231635"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag 参数类型"}]},{"ID":"20230724231636-xmk0z3n","Type":"NodeParagraph","Properties":{"id":"20230724231636-xmk0z3n","updated":"20230724231636"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"flag包支持的命令行参数类型有"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"bool"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"int"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"int64"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"uint"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"uint64"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"float"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"float64"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"string"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"duration"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"。"}]},{"ID":"20230724231637-r5ld1pb","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231637-r5ld1pb","updated":"20230724231637"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"定义命令行flag参数"}]},{"ID":"20230724231638-rwq3yba","Type":"NodeParagraph","Properties":{"id":"20230724231638-rwq3yba","updated":"20230724231638"},"Children":[{"Type":"NodeText","Data":"有以下两种常用的定义命令行 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"flag"},{"Type":"NodeText","Data":" 参数的方法"}]},{"ID":"20230724231639-472h8b5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231639-472h8b5","updated":"20230724231639"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag.Type()"}]},{"ID":"20230724231640-fam5vsg","Type":"NodeParagraph","Properties":{"id":"20230724231640-fam5vsg","updated":"20230724231640"},"Children":[{"Type":"NodeText","Data":"基本格式如下："}]},{"ID":"20230724231641-xrlro0e","Type":"NodeParagraph","Properties":{"id":"20230724231641-xrlro0e","updated":"20230724231641"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"flag.Type(flag名, 默认值, 帮助信息)*Type"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 例如我们要定义姓名、年龄、婚否三个命令行参数，我们可以按如下方式定义："}]},{"ID":"20230724231642-hucpj6z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"Z28=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231642-hucpj6z","updated":"20230724231642"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"name := flag.String(\"name\", \"张三\", \"姓名\")\nage := flag.Int(\"age\", 18, \"年龄\")\nmarried := flag.Bool(\"married\", false, \"婚否\")\ndelay := flag.Duration(\"d\", 0, \"时间间隔\")\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231643-tls8cl6","Type":"NodeParagraph","Properties":{"id":"20230724231643-tls8cl6","updated":"20230724231643"},"Children":[{"Type":"NodeText","Data":"需要注意的是，此时"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"age"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"married"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"delay"},{"Type":"NodeText","Data":"均为对应类型的指针。"}]},{"ID":"20230724231644-xpu5u1p","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231644-xpu5u1p","updated":"20230724231644"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag.TypeVar()"}]},{"ID":"20230724231645-ay9bp4v","Type":"NodeParagraph","Properties":{"id":"20230724231645-ay9bp4v","updated":"20230724231645"},"Children":[{"Type":"NodeText","Data":"基本格式如下： "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"flag.TypeVar(Type指针, flag名, 默认值, 帮助信息)"},{"Type":"NodeText","Data":" 例如我们要定义姓名、年龄、婚否三个命令行参数，我们可以按如下方式定义："}]},{"ID":"20230724231646-ja7qsp8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"Z28=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231646-ja7qsp8","updated":"20230724231646"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"var name string\nvar age int\nvar married bool\nvar delay time.Duration\nflag.StringVar(\u0026name, \"name\", \"张三\", \"姓名\")\nflag.IntVar(\u0026age, \"age\", 18, \"年龄\")\nflag.BoolVar(\u0026married, \"married\", false, \"婚否\")\nflag.DurationVar(\u0026delay, \"d\", 0, \"时间间隔\")\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231647-suzut2e","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231647-suzut2e","updated":"20230724231647"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag.Parse()"}]},{"ID":"20230724231648-q124gx0","Type":"NodeParagraph","Properties":{"id":"20230724231648-q124gx0","updated":"20230724231648"},"Children":[{"Type":"NodeText","Data":"通过以上两种方法定义好命令行flag参数后，需要通过调用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"flag.Parse()"},{"Type":"NodeText","Data":"来对命令行参数进行解析。"}]},{"ID":"20230724231649-wxwzj7j","Type":"NodeParagraph","Properties":{"id":"20230724231649-wxwzj7j","updated":"20230724231649"},"Children":[{"Type":"NodeText","Data":"支持的命令行参数格式有以下几种："}]},{"ID":"20230724231650-q14dp5k","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230724231650-q14dp5k","updated":"20230724231650"},"Children":[{"ID":"20230724231651-viimc6p","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230724231651-viimc6p","updated":"20230724231651"},"Children":[{"ID":"20230724231652-dz54rf7","Type":"NodeParagraph","Properties":{"id":"20230724231652-dz54rf7","updated":"20230724231652"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-flag xxx"},{"Type":"NodeText","Data":" （使用空格，一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-"},{"Type":"NodeText","Data":"符号）"}]}]},{"ID":"20230724231653-27dc361","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230724231653-27dc361","updated":"20230724231653"},"Children":[{"ID":"20230724231654-oc4hw99","Type":"NodeParagraph","Properties":{"id":"20230724231654-oc4hw99","updated":"20230724231654"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"--flag xxx"},{"Type":"NodeText","Data":" （使用空格，两个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-"},{"Type":"NodeText","Data":"符号）"}]}]},{"ID":"20230724231655-7n0oxy5","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230724231655-7n0oxy5","updated":"20230724231655"},"Children":[{"ID":"20230724231656-lovki1x","Type":"NodeParagraph","Properties":{"id":"20230724231656-lovki1x","updated":"20230724231656"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-flag=xxx"},{"Type":"NodeText","Data":" （使用等号，一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-"},{"Type":"NodeText","Data":"符号）"}]}]},{"ID":"20230724231657-ir15dzn","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230724231657-ir15dzn","updated":"20230724231657"},"Children":[{"ID":"20230724231658-ps83wee","Type":"NodeParagraph","Properties":{"id":"20230724231658-ps83wee","updated":"20230724231658"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"--flag=xxx"},{"Type":"NodeText","Data":" （使用等号，两个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-"},{"Type":"NodeText","Data":"符号）"}]}]}]},{"ID":"20230724231659-zv2u4s4","Type":"NodeParagraph","Properties":{"id":"20230724231659-zv2u4s4","updated":"20230724231659"},"Children":[{"Type":"NodeText","Data":"其中，布尔类型的参数必须使用等号的方式指定。"}]},{"ID":"20230724231660-gmtdcop","Type":"NodeParagraph","Properties":{"id":"20230724231660-gmtdcop","updated":"20230724231660"},"Children":[{"Type":"NodeText","Data":"Flag解析在第一个非flag参数（单个”-“不是flag参数）之前停止，或者在终止符”–“之后停止。"}]},{"ID":"20230724231661-uqqpr01","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231661-uqqpr01","updated":"20230724231661"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"flag 其他函数"}]},{"ID":"20230724231662-pa8i3nd","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"Z28=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231662-pa8i3nd","updated":"20230724231662"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z28=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"flag.Args()  ////返回命令行参数后的其他参数，以[]string类型\nflag.NArg()  //返回命令行参数后的其他参数个数\nflag.NFlag() //返回使用的命令行参数个数\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}