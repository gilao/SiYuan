{"ID":"20230724231519-rbo5ipv","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230724231519-rbo5ipv","title":"sync-atomic","updated":"20230724231519"},"Children":[{"ID":"20230724231520-lt0pmne","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230724231520-lt0pmne","updated":"20230724231520"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"sync-atomic"}]},{"ID":"20230724231521-bldknrw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231521-bldknrw","updated":"20230724231521"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"import \"sync/atomic\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231522-ymje374","Type":"NodeParagraph","Properties":{"id":"20230724231522-ymje374","updated":"20230724231522"},"Children":[{"Type":"NodeText","Data":"atomic包提供了底层的原子级内存操作，对于同步算法的实现很有用。"}]},{"ID":"20230724231523-3od3ujt","Type":"NodeParagraph","Properties":{"id":"20230724231523-3od3ujt","updated":"20230724231523"},"Children":[{"Type":"NodeText","Data":"这些函数必须谨慎地保证正确使用。除了某些特殊的底层应用，使用通道或者sync包的函数/类型实现同步更好。"}]},{"ID":"20230724231524-e51j51h","Type":"NodeParagraph","Properties":{"id":"20230724231524-e51j51h","updated":"20230724231524"},"Children":[{"Type":"NodeText","Data":"应通过通信来共享内存，而不通过共享内存实现通信。"}]},{"ID":"20230724231525-8x6qg0b","Type":"NodeParagraph","Properties":{"id":"20230724231525-8x6qg0b","updated":"20230724231525"},"Children":[{"Type":"NodeText","Data":"被SwapT系列函数实现的交换操作，在原子性上等价于："}]},{"ID":"20230724231526-9pay26q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231526-9pay26q","updated":"20230724231526"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"old = *addr\n*addr = new\nreturn old\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231527-e3f5t6k","Type":"NodeParagraph","Properties":{"id":"20230724231527-e3f5t6k","updated":"20230724231527"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapT系列函数实现的比较-交换操作，在原子性上等价于："}]},{"ID":"20230724231528-w4kczlw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231528-w4kczlw","updated":"20230724231528"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"if *addr == old {\n\t*addr = new\n\treturn true\n}\nreturn false\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231529-v1sk4iy","Type":"NodeParagraph","Properties":{"id":"20230724231529-v1sk4iy","updated":"20230724231529"},"Children":[{"Type":"NodeText","Data":"AddT 系列函数实现加法操作，在原子性上等价于："}]},{"ID":"20230724231530-oytg21b","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231530-oytg21b","updated":"20230724231530"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"*addr += delta\nreturn *addr\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231531-7f4sk80","Type":"NodeParagraph","Properties":{"id":"20230724231531-7f4sk80","updated":"20230724231531"},"Children":[{"Type":"NodeText","Data":"LoadT和StoreT系列函数实现的加载和保持操作，在原子性上等价于：\"return *addr\""}]},{"ID":"20230724231532-r1vnd6d","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231532-r1vnd6d","updated":"20230724231532"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#113","TextMarkTextContent":"LoadInt32"}]},{"ID":"20230724231533-p0atetc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231533-p0atetc","updated":"20230724231533"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func LoadInt32(addr *int32) (val int32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231534-oo6uw6k","Type":"NodeParagraph","Properties":{"id":"20230724231534-oo6uw6k","updated":"20230724231534"},"Children":[{"Type":"NodeText","Data":"LoadInt32原子性的获取*addr的值。"}]},{"ID":"20230724231535-vsfjh3m","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231535-vsfjh3m","updated":"20230724231535"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#116","TextMarkTextContent":"LoadInt64"}]},{"ID":"20230724231536-64hlrzf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231536-64hlrzf","updated":"20230724231536"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func LoadInt64(addr *int64) (val int64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231537-t2kxlko","Type":"NodeParagraph","Properties":{"id":"20230724231537-t2kxlko","updated":"20230724231537"},"Children":[{"Type":"NodeText","Data":"LoadInt64原子性的获取*addr的值。"}]},{"ID":"20230724231538-9q7pkcx","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231538-9q7pkcx","updated":"20230724231538"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#119","TextMarkTextContent":"LoadUint32"}]},{"ID":"20230724231539-lehgc2m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231539-lehgc2m","updated":"20230724231539"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func LoadUint32(addr *uint32) (val uint32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231540-awr48sm","Type":"NodeParagraph","Properties":{"id":"20230724231540-awr48sm","updated":"20230724231540"},"Children":[{"Type":"NodeText","Data":"LoadUint32原子性的获取*addr的值。"}]},{"ID":"20230724231541-q5mkro5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231541-q5mkro5","updated":"20230724231541"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#122","TextMarkTextContent":"LoadUint64"}]},{"ID":"20230724231542-va1rq2i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231542-va1rq2i","updated":"20230724231542"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func LoadUint64(addr *uint64) (val uint64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231543-dexwh42","Type":"NodeParagraph","Properties":{"id":"20230724231543-dexwh42","updated":"20230724231543"},"Children":[{"Type":"NodeText","Data":"LoadUint64原子性的获取*addr的值。"}]},{"ID":"20230724231544-ob0adl5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231544-ob0adl5","updated":"20230724231544"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#125","TextMarkTextContent":"LoadUintptr"}]},{"ID":"20230724231545-gdq8ihe","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231545-gdq8ihe","updated":"20230724231545"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func LoadUintptr(addr *uintptr) (val uintptr)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231546-izpp20x","Type":"NodeParagraph","Properties":{"id":"20230724231546-izpp20x","updated":"20230724231546"},"Children":[{"Type":"NodeText","Data":"LoadUintptr原子性的获取*addr的值。"}]},{"ID":"20230724231547-8jyiqju","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231547-8jyiqju","updated":"20230724231547"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#128","TextMarkTextContent":"LoadPointer"}]},{"ID":"20230724231548-p4c7zax","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231548-p4c7zax","updated":"20230724231548"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func LoadPointer(addr *unsafe.Pointer) (val unsafe.Pointer)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231549-cdfqef8","Type":"NodeParagraph","Properties":{"id":"20230724231549-cdfqef8","updated":"20230724231549"},"Children":[{"Type":"NodeText","Data":"LoadPointer原子性的获取*addr的值。"}]},{"ID":"20230724231550-yi4v25a","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231550-yi4v25a","updated":"20230724231550"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#131","TextMarkTextContent":"StoreInt32"}]},{"ID":"20230724231551-c9rn691","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231551-c9rn691","updated":"20230724231551"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StoreInt32(addr *int32, val int32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231552-785b0k1","Type":"NodeParagraph","Properties":{"id":"20230724231552-785b0k1","updated":"20230724231552"},"Children":[{"Type":"NodeText","Data":"StoreInt32原子性的将val的值保存到*addr。"}]},{"ID":"20230724231553-klqnytm","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231553-klqnytm","updated":"20230724231553"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#134","TextMarkTextContent":"StoreInt64"}]},{"ID":"20230724231554-qkfh6n4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231554-qkfh6n4","updated":"20230724231554"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StoreInt64(addr *int64, val int64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231555-kgmtp8v","Type":"NodeParagraph","Properties":{"id":"20230724231555-kgmtp8v","updated":"20230724231555"},"Children":[{"Type":"NodeText","Data":"StoreInt64原子性的将val的值保存到*addr。"}]},{"ID":"20230724231556-15je81n","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231556-15je81n","updated":"20230724231556"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#137","TextMarkTextContent":"StoreUint32"}]},{"ID":"20230724231557-teij5a7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231557-teij5a7","updated":"20230724231557"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StoreUint32(addr *uint32, val uint32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231558-1tu3r28","Type":"NodeParagraph","Properties":{"id":"20230724231558-1tu3r28","updated":"20230724231558"},"Children":[{"Type":"NodeText","Data":"StoreUint32原子性的将val的值保存到*addr。"}]},{"ID":"20230724231559-c5tr6mf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231559-c5tr6mf","updated":"20230724231559"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#140","TextMarkTextContent":"StoreUint64"}]},{"ID":"20230724231560-oq1gp8i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231560-oq1gp8i","updated":"20230724231560"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StoreUint64(addr *uint64, val uint64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231561-iesfpzd","Type":"NodeParagraph","Properties":{"id":"20230724231561-iesfpzd","updated":"20230724231561"},"Children":[{"Type":"NodeText","Data":"StoreUint64原子性的将val的值保存到*addr。"}]},{"ID":"20230724231562-nn2ntsh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231562-nn2ntsh","updated":"20230724231562"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#143","TextMarkTextContent":"StoreUintptr"}]},{"ID":"20230724231563-f64vg6b","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231563-f64vg6b","updated":"20230724231563"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StoreUintptr(addr *uintptr, val uintptr)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231564-qay1hwo","Type":"NodeParagraph","Properties":{"id":"20230724231564-qay1hwo","updated":"20230724231564"},"Children":[{"Type":"NodeText","Data":"StoreUintptr原子性的将val的值保存到*addr。"}]},{"ID":"20230724231565-eu2lrf5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231565-eu2lrf5","updated":"20230724231565"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#146","TextMarkTextContent":"StorePointer"}]},{"ID":"20230724231566-l4ve1bn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231566-l4ve1bn","updated":"20230724231566"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func StorePointer(addr *unsafe.Pointer, val unsafe.Pointer)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231567-qdq6vz9","Type":"NodeParagraph","Properties":{"id":"20230724231567-qdq6vz9","updated":"20230724231567"},"Children":[{"Type":"NodeText","Data":"StorePointer原子性的将val的值保存到*addr。"}]},{"ID":"20230724231568-32y3edd","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231568-32y3edd","updated":"20230724231568"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#94","TextMarkTextContent":"AddInt32"}]},{"ID":"20230724231569-dpnyicu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231569-dpnyicu","updated":"20230724231569"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func AddInt32(addr *int32, delta int32) (new int32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231570-kizv7r5","Type":"NodeParagraph","Properties":{"id":"20230724231570-kizv7r5","updated":"20230724231570"},"Children":[{"Type":"NodeText","Data":"AddInt32原子性的将val的值添加到*addr并返回新值。"}]},{"ID":"20230724231571-27rpins","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231571-27rpins","updated":"20230724231571"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#102","TextMarkTextContent":"AddInt64"}]},{"ID":"20230724231572-ouqd5vv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231572-ouqd5vv","updated":"20230724231572"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func AddInt64(addr *int64, delta int64) (new int64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231573-c7bzrcf","Type":"NodeParagraph","Properties":{"id":"20230724231573-c7bzrcf","updated":"20230724231573"},"Children":[{"Type":"NodeText","Data":"AddInt64原子性的将val的值添加到*addr并返回新值。"}]},{"ID":"20230724231574-pny66uy","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231574-pny66uy","updated":"20230724231574"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#99","TextMarkTextContent":"AddUint32"}]},{"ID":"20230724231575-rd13bk7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231575-rd13bk7","updated":"20230724231575"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func AddUint32(addr *uint32, delta uint32) (new uint32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231576-bk1b8g7","Type":"NodeParagraph","Properties":{"id":"20230724231576-bk1b8g7","updated":"20230724231576"},"Children":[{"Type":"NodeText","Data":"AddUint32原子性的将val的值添加到*addr并返回新值。"}]},{"ID":"20230724231577-i11a8hy","Type":"NodeParagraph","Properties":{"id":"20230724231577-i11a8hy","updated":"20230724231577"},"Children":[{"Type":"NodeText","Data":"如要减去一个值c，调用AddUint32(\u0026x, ^uint32(c-1))；特别的，让x减1，调用AddUint32(\u0026x, ^uint32(0))。"}]},{"ID":"20230724231578-u5x17ko","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231578-u5x17ko","updated":"20230724231578"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#107","TextMarkTextContent":"AddUint64"}]},{"ID":"20230724231579-4u3a2kx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231579-4u3a2kx","updated":"20230724231579"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func AddUint64(addr *uint64, delta uint64) (new uint64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231580-enxma7y","Type":"NodeParagraph","Properties":{"id":"20230724231580-enxma7y","updated":"20230724231580"},"Children":[{"Type":"NodeText","Data":"AddUint64原子性的将val的值添加到*addr并返回新值。"}]},{"ID":"20230724231581-yjb77fi","Type":"NodeParagraph","Properties":{"id":"20230724231581-yjb77fi","updated":"20230724231581"},"Children":[{"Type":"NodeText","Data":"如要减去一个值c，调用AddUint64(\u0026x, ^uint64(c-1))；特别的，让x减1，调用AddUint64(\u0026x, ^uint64(0))。"}]},{"ID":"20230724231582-231kgqk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231582-231kgqk","updated":"20230724231582"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#110","TextMarkTextContent":"AddUintptr"}]},{"ID":"20230724231583-laxmhsg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231583-laxmhsg","updated":"20230724231583"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func AddUintptr(addr *uintptr, delta uintptr) (new uintptr)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231584-qqf48gn","Type":"NodeParagraph","Properties":{"id":"20230724231584-qqf48gn","updated":"20230724231584"},"Children":[{"Type":"NodeText","Data":"AddUintptr原子性的将val的值添加到*addr并返回新值。"}]},{"ID":"20230724231585-mv3kkv9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231585-mv3kkv9","updated":"20230724231585"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#58","TextMarkTextContent":"SwapInt32"}]},{"ID":"20230724231586-1l444sl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231586-1l444sl","updated":"20230724231586"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SwapInt32(addr *int32, new int32) (old int32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231587-f8zneb1","Type":"NodeParagraph","Properties":{"id":"20230724231587-f8zneb1","updated":"20230724231587"},"Children":[{"Type":"NodeText","Data":"SwapInt32原子性的将新值保存到*addr并返回旧值。"}]},{"ID":"20230724231588-eavnqwh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231588-eavnqwh","updated":"20230724231588"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#61","TextMarkTextContent":"SwapInt64"}]},{"ID":"20230724231589-60o5xl3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231589-60o5xl3","updated":"20230724231589"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SwapInt64(addr *int64, new int64) (old int64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231590-8rfh293","Type":"NodeParagraph","Properties":{"id":"20230724231590-8rfh293","updated":"20230724231590"},"Children":[{"Type":"NodeText","Data":"SwapInt64原子性的将新值保存到*addr并返回旧值。"}]},{"ID":"20230724231591-neg10vk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231591-neg10vk","updated":"20230724231591"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#64","TextMarkTextContent":"SwapUint32"}]},{"ID":"20230724231592-z8idnbw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231592-z8idnbw","updated":"20230724231592"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SwapUint32(addr *uint32, new uint32) (old uint32)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231593-6lbxi2l","Type":"NodeParagraph","Properties":{"id":"20230724231593-6lbxi2l","updated":"20230724231593"},"Children":[{"Type":"NodeText","Data":"SwapUint32原子性的将新值保存到*addr并返回旧值。"}]},{"ID":"20230724231594-9u6l0ug","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231594-9u6l0ug","updated":"20230724231594"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#67","TextMarkTextContent":"SwapUint64"}]},{"ID":"20230724231595-qid9z93","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231595-qid9z93","updated":"20230724231595"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SwapUint64(addr *uint64, new uint64) (old uint64)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231596-p3hm2st","Type":"NodeParagraph","Properties":{"id":"20230724231596-p3hm2st","updated":"20230724231596"},"Children":[{"Type":"NodeText","Data":"SwapUint64原子性的将新值保存到*addr并返回旧值。"}]},{"ID":"20230724231597-w7xf3e3","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231597-w7xf3e3","updated":"20230724231597"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#70","TextMarkTextContent":"SwapUintptr"}]},{"ID":"20230724231598-i5wstcr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231598-i5wstcr","updated":"20230724231598"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SwapUintptr(addr *uintptr, new uintptr) (old uintptr)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231599-l44740x","Type":"NodeParagraph","Properties":{"id":"20230724231599-l44740x","updated":"20230724231599"},"Children":[{"Type":"NodeText","Data":"SwapUintptr原子性的将新值保存到*addr并返回旧值。"}]},{"ID":"20230724231600-33i1o7o","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231600-33i1o7o","updated":"20230724231600"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#73","TextMarkTextContent":"SwapPointer"}]},{"ID":"20230724231601-zcsdxxv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231601-zcsdxxv","updated":"20230724231601"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func SwapPointer(addr *unsafe.Pointer, new unsafe.Pointer) (old unsafe.Pointer)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231602-u2xrvja","Type":"NodeParagraph","Properties":{"id":"20230724231602-u2xrvja","updated":"20230724231602"},"Children":[{"Type":"NodeText","Data":"SwapPointer原子性的将新值保存到*addr并返回旧值。"}]},{"ID":"20230724231603-glop8de","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231603-glop8de","updated":"20230724231603"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#76","TextMarkTextContent":"CompareAndSwapInt32"}]},{"ID":"20230724231604-72socy5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231604-72socy5","updated":"20230724231604"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CompareAndSwapInt32(addr *int32, old, new int32) (swapped bool)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231605-9pig3s5","Type":"NodeParagraph","Properties":{"id":"20230724231605-9pig3s5","updated":"20230724231605"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapInt32原子性的比较"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"addr和old，如果相同则将new赋值给"},{"Type":"NodeText","Data":"addr并返回真。"}]},{"ID":"20230724231606-l9e1gq9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231606-l9e1gq9","updated":"20230724231606"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#79","TextMarkTextContent":"CompareAndSwapInt64"}]},{"ID":"20230724231607-ayqxiep","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231607-ayqxiep","updated":"20230724231607"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CompareAndSwapInt64(addr *int64, old, new int64) (swapped bool)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231608-hf0wlhm","Type":"NodeParagraph","Properties":{"id":"20230724231608-hf0wlhm","updated":"20230724231608"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapInt64原子性的比较"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"addr和old，如果相同则将new赋值给"},{"Type":"NodeText","Data":"addr并返回真。"}]},{"ID":"20230724231609-t29s11k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231609-t29s11k","updated":"20230724231609"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#82","TextMarkTextContent":"CompareAndSwapUint32"}]},{"ID":"20230724231610-l0bzi8n","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231610-l0bzi8n","updated":"20230724231610"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CompareAndSwapUint32(addr *uint32, old, new uint32) (swapped bool)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231611-fjl4caz","Type":"NodeParagraph","Properties":{"id":"20230724231611-fjl4caz","updated":"20230724231611"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapUint32原子性的比较"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"addr和old，如果相同则将new赋值给"},{"Type":"NodeText","Data":"addr并返回真。"}]},{"ID":"20230724231612-83iq8rb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231612-83iq8rb","updated":"20230724231612"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#85","TextMarkTextContent":"CompareAndSwapUint64"}]},{"ID":"20230724231613-6rqi2er","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231613-6rqi2er","updated":"20230724231613"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CompareAndSwapUint64(addr *uint64, old, new uint64) (swapped bool)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231614-w81g2mh","Type":"NodeParagraph","Properties":{"id":"20230724231614-w81g2mh","updated":"20230724231614"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapUint64原子性的比较"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"addr和old，如果相同则将new赋值给"},{"Type":"NodeText","Data":"addr并返回真。"}]},{"ID":"20230724231615-127mbiz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231615-127mbiz","updated":"20230724231615"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#88","TextMarkTextContent":"CompareAndSwapUintptr"}]},{"ID":"20230724231616-1sbzcbn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231616-1sbzcbn","updated":"20230724231616"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CompareAndSwapUintptr(addr *uintptr, old, new uintptr) (swapped bool)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231617-uc69pi9","Type":"NodeParagraph","Properties":{"id":"20230724231617-uc69pi9","updated":"20230724231617"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapUintptr原子性的比较"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"addr和old，如果相同则将new赋值给"},{"Type":"NodeText","Data":"addr并返回真。"}]},{"ID":"20230724231618-zceos2o","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231618-zceos2o","updated":"20230724231618"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"func "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#91","TextMarkTextContent":"CompareAndSwapPointer"}]},{"ID":"20230724231619-f11jt35","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230724231619-f11jt35","updated":"20230724231619"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"func CompareAndSwapPointer(addr *unsafe.Pointer, old, new unsafe.Pointer) (swapped bool)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230724231620-fjw7a9w","Type":"NodeParagraph","Properties":{"id":"20230724231620-fjw7a9w","updated":"20230724231620"},"Children":[{"Type":"NodeText","Data":"CompareAndSwapPointer原子性的比较"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"addr和old，如果相同则将new赋值给"},{"Type":"NodeText","Data":"addr并返回真。"}]},{"ID":"20230724231621-zoog6c2","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230724231621-zoog6c2","updated":"20230724231621"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Bugs"}]},{"ID":"20230724231622-6z5faoq","Type":"NodeParagraph","Properties":{"id":"20230724231622-6z5faoq","updated":"20230724231622"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/golang/go/blob/master/src/sync/atomic/doc.go?name=release#48","TextMarkTextContent":"☞ "},{"Type":"NodeText","Data":"在x86-32构架芯片上，64位函数使用的指令在Pentium MMX之前是不可用的；在非Linux的ARM芯片上，64位函数使用的指令在ARMv6k core之前是不可用的。不管是ARM又或x86-32芯片，安排原子性访问的64位word的64位对齐都是调用者的责任。可以依靠全局变量或申请的切片/结构体的第一个word来实现64位对齐。"}]}]}