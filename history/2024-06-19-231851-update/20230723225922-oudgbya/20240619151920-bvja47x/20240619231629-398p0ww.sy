{"ID":"20240619231629-398p0ww","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f3a1","id":"20240619231629-398p0ww","title":"XORM：简洁且功能强大的Go语言ORM工具","type":"doc","updated":"20240619231746"},"Children":[{"ID":"20240619231629-xev5i61","Type":"NodeParagraph","Properties":{"id":"20240619231629-xev5i61","updated":"20240619231654"},"Children":[{"Type":"NodeText","Data":"在Go语言的生态系统中，有许多优秀的"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ORM"},{"Type":"NodeText","Data":"（Object-Relational Mapping）工具，但要找到一款既功能强大又使用便捷的工具却需要花费一些时间。Xorm便是其中一款备受欢迎的ORM工具，它简洁而又功能强大，支持多种数据库如MySQL、PostgreSQL、SQLite、SQL Server、Oracle等。同时，它还提供了丰富的功能，使得开发人员可以更轻松地进行数据库操作。"}]},{"ID":"20240619231746-qvozvyh","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240619231746-qvozvyh","updated":"20240619231746"},"Children":[{"Type":"NodeText","Data":"什么是Xorm？"}]},{"ID":"20240619231746-6m5z6qf","Type":"NodeParagraph","Properties":{"id":"20240619231746-6m5z6qf","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"Xorm是一个用于Go语言的对象关系映射工具（ORM），其主要功能是将结构体与数据库表进行映射，从而简化数据库操作。Xorm支持多种数据库，并提供了一系列简洁而又强大的API，使得开发人员可以用更少的代码实现复杂的数据库操作。"}]},{"ID":"20240619231746-w7kbgak","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-w7kbgak","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"Xorm的主要特性"}]},{"ID":"20240619231746-gz0oihz","Type":"NodeList","ListData":{},"Properties":{"id":"20240619231746-gz0oihz","updated":"20240619231747"},"Children":[{"ID":"20240619231746-4utix89","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-4utix89","updated":"20240619231746"},"Children":[{"ID":"20240619231746-l9rwvcm","Type":"NodeParagraph","Properties":{"id":"20240619231746-l9rwvcm","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"结构体与表映射"},{"Type":"NodeText","Data":"：支持将Go语言的结构体与数据库表进行映射，简化了数据的读写操作。"}]}]},{"ID":"20240619231746-41rhlrt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-41rhlrt","updated":"20240619231746"},"Children":[{"ID":"20240619231746-6ke2evm","Type":"NodeParagraph","Properties":{"id":"20240619231746-6ke2evm","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"链式调用"},{"Type":"NodeText","Data":"：支持链式调用，使得代码更简洁易读。"}]}]},{"ID":"20240619231746-39uzcbs","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-39uzcbs","updated":"20240619231746"},"Children":[{"ID":"20240619231746-qj40j3u","Type":"NodeParagraph","Properties":{"id":"20240619231746-qj40j3u","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"事务支持"},{"Type":"NodeText","Data":"：提供事务支持，确保数据操作的原子性。"}]}]},{"ID":"20240619231746-sxhcnzl","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-sxhcnzl","updated":"20240619231746"},"Children":[{"ID":"20240619231746-muqggg9","Type":"NodeParagraph","Properties":{"id":"20240619231746-muqggg9","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"原生SQL支持"},{"Type":"NodeText","Data":"：既支持ORM操作，也支持执行原生的SQL语句。"}]}]},{"ID":"20240619231746-s2w2q6o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-s2w2q6o","updated":"20240619231746"},"Children":[{"ID":"20240619231746-abaucgc","Type":"NodeParagraph","Properties":{"id":"20240619231746-abaucgc","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据库模式同步"},{"Type":"NodeText","Data":"：可以将结构体自动同步到数据库表，简化了数据库管理。"}]}]},{"ID":"20240619231746-b0bc7v0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-b0bc7v0","updated":"20240619231746"},"Children":[{"ID":"20240619231746-rhm3fug","Type":"NodeParagraph","Properties":{"id":"20240619231746-rhm3fug","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"查询缓存"},{"Type":"NodeText","Data":"：支持查询缓存，提高查询速度。"}]}]},{"ID":"20240619231746-5o697mj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-5o697mj","updated":"20240619231746"},"Children":[{"ID":"20240619231746-qk3uts5","Type":"NodeParagraph","Properties":{"id":"20240619231746-qk3uts5","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据库反向工程"},{"Type":"NodeText","Data":"：通过xorm.io/reverse支持数据库反向工程。"}]}]},{"ID":"20240619231746-05lfw1s","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-05lfw1s","updated":"20240619231746"},"Children":[{"ID":"20240619231746-uamvuib","Type":"NodeParagraph","Properties":{"id":"20240619231746-uamvuib","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"级联加载"},{"Type":"NodeText","Data":"：提供简单的级联加载支持。"}]}]},{"ID":"20240619231746-jxn17h7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-jxn17h7","updated":"20240619231746"},"Children":[{"ID":"20240619231746-bpz8xv9","Type":"NodeParagraph","Properties":{"id":"20240619231746-bpz8xv9","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"乐观锁"},{"Type":"NodeText","Data":"：支持乐观锁，防止并发更新问题。"}]}]},{"ID":"20240619231746-5ci2yql","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-5ci2yql","updated":"20240619231746"},"Children":[{"ID":"20240619231746-lkp5nsx","Type":"NodeParagraph","Properties":{"id":"20240619231746-lkp5nsx","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SQL构建器"},{"Type":"NodeText","Data":"：通过xorm.io/builder提供SQL构建器支持。"}]}]},{"ID":"20240619231746-xbvwd5k","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-xbvwd5k","updated":"20240619231746"},"Children":[{"ID":"20240619231746-on1g5jl","Type":"NodeParagraph","Properties":{"id":"20240619231746-on1g5jl","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"自动读写分离"},{"Type":"NodeText","Data":"：支持自动读写分离，提高性能。"}]}]},{"ID":"20240619231746-ptfk1xc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-ptfk1xc","updated":"20240619231746"},"Children":[{"ID":"20240619231746-m2k0w2i","Type":"NodeParagraph","Properties":{"id":"20240619231746-m2k0w2i","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Postgres模式支持"},{"Type":"NodeText","Data":"：支持PostgreSQL模式。"}]}]},{"ID":"20240619231746-fgl0sxj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-fgl0sxj","updated":"20240619231746"},"Children":[{"ID":"20240619231746-qwxhszb","Type":"NodeParagraph","Properties":{"id":"20240619231746-qwxhszb","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"上下文缓存支持"},{"Type":"NodeText","Data":"：支持上下文缓存。"}]}]},{"ID":"20240619231746-p1w7o6e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-p1w7o6e","updated":"20240619231746"},"Children":[{"ID":"20240619231746-yy4oelo","Type":"NodeParagraph","Properties":{"id":"20240619231746-yy4oelo","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"日志/SQL日志支持"},{"Type":"NodeText","Data":"：提供日志及SQL日志支持。"}]}]}]},{"ID":"20240619231746-spaw708","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-spaw708","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"支持的数据库驱动"}]},{"ID":"20240619231746-33tdoel","Type":"NodeParagraph","Properties":{"id":"20240619231746-33tdoel","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"以下是Xorm 支持的Go语言数据库驱动："}]},{"ID":"20240619231746-w3auzqf","Type":"NodeList","ListData":{},"Properties":{"id":"20240619231746-w3auzqf","updated":"20240619231747"},"Children":[{"ID":"20240619231746-jit6x4i","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-jit6x4i","updated":"20240619231746"},"Children":[{"ID":"20240619231746-e983kes","Type":"NodeParagraph","Properties":{"id":"20240619231746-e983kes","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"MySQL/MariaDB/TiDB"},{"Type":"NodeText","Data":"：支持的驱动有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/go-sql-driver/mysql"},{"Type":"NodeText","Data":"​和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/ziutek/mymysql/godrv"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240619231746-q4chj6h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-q4chj6h","updated":"20240619231746"},"Children":[{"ID":"20240619231746-pf0v3a1","Type":"NodeParagraph","Properties":{"id":"20240619231746-pf0v3a1","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"PostgreSQL/CockroachDB"},{"Type":"NodeText","Data":"：支持的驱动有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/lib/pq"},{"Type":"NodeText","Data":"​和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/jackc/pgx"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240619231746-02usp88","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-02usp88","updated":"20240619231746"},"Children":[{"ID":"20240619231746-7tj11l3","Type":"NodeParagraph","Properties":{"id":"20240619231746-7tj11l3","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SQLite"},{"Type":"NodeText","Data":"：支持的驱动有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/mattn/go-sqlite3"},{"Type":"NodeText","Data":"​和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"modernc.org/sqlite"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240619231746-uwd41zr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-uwd41zr","updated":"20240619231746"},"Children":[{"ID":"20240619231746-wkjv72y","Type":"NodeParagraph","Properties":{"id":"20240619231746-wkjv72y","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SQL Server"},{"Type":"NodeText","Data":"：支持的驱动有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/microsoft/go-mssqldb"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240619231746-1f8qygq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240619231746-1f8qygq","updated":"20240619231746"},"Children":[{"ID":"20240619231746-4sdjtoa","Type":"NodeParagraph","Properties":{"id":"20240619231746-4sdjtoa","updated":"20240619231746"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Oracle"},{"Type":"NodeText","Data":"：实验性支持，驱动有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/godror/godror"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/mattn/go-oci8"},{"Type":"NodeText","Data":"​和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"github.com/sijms/go-ora"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240619231746-t0kgym6","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240619231746-t0kgym6","updated":"20240619231746"},"Children":[{"Type":"NodeText","Data":"Xorm的安装"}]},{"ID":"20240619231746-dmth5kn","Type":"NodeParagraph","Properties":{"id":"20240619231746-dmth5kn","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"安装Xorm非常简单，只需运行以下命令即可："}]},{"ID":"20240619231746-yup02k7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-yup02k7","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"go get xorm.io/xorm\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-ikzla4s","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240619231746-ikzla4s","updated":"20240619231746"},"Children":[{"Type":"NodeText","Data":"使用示例"}]},{"ID":"20240619231746-o419h2r","Type":"NodeParagraph","Properties":{"id":"20240619231746-o419h2r","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"接下来，我们通过几个实际的使用示例来详细介绍如何使用Xorm进行数据库操作。"}]},{"ID":"20240619231746-a0cnkor","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-a0cnkor","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"创建数据库引擎"}]},{"ID":"20240619231746-t1ma3nz","Type":"NodeParagraph","Properties":{"id":"20240619231746-t1ma3nz","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"在开始进行数据库操作之前，我们首先需要创建一个数据库引擎："}]},{"ID":"20240619231746-ulfggs8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-ulfggs8","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"engine, err := xorm.NewEngine(\"mysql\", \"user:password@/dbname\")\nif err != nil {\n    log.Fatalf(\"Failed to create engine: %v\", err)\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-zqbozjz","Type":"NodeParagraph","Properties":{"id":"20240619231746-zqbozjz","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"在上面的代码中，我们通过"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"xorm.NewEngine"},{"Type":"NodeText","Data":"​创建了一个MySQL数据库引擎，如果有任何错误会被捕获。"}]},{"ID":"20240619231746-y64ribk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-y64ribk","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"定义结构体并同步表结构"}]},{"ID":"20240619231746-d9w7zdz","Type":"NodeParagraph","Properties":{"id":"20240619231746-d9w7zdz","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"接下来，我们定义一个结构体，并将其同步到数据库中："}]},{"ID":"20240619231746-1yuee7g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-1yuee7g","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"type User struct {\n    Id      int64\n    Name    string\n    Salt    string\n    Age     int\n    Passwd  string    `xorm:\"varchar(200)\"`\n    Created time.Time `xorm:\"created\"`\n    Updated time.Time `xorm:\"updated\"`\n}\n\nerr := engine.Sync(new(User))\nif err != nil {\n    log.Fatalf(\"Failed to sync database: %v\", err)\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-ljkih4x","Type":"NodeParagraph","Properties":{"id":"20240619231746-ljkih4x","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"这里，我们定义了一个"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"User"},{"Type":"NodeText","Data":"​结构体，并使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"engine.Sync"},{"Type":"NodeText","Data":"​方法将其同步到数据库中。这将自动创建一个名为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"user"},{"Type":"NodeText","Data":"​的表，并将"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"User"},{"Type":"NodeText","Data":"​结构体的字段映射到表的列。"}]},{"ID":"20240619231746-tic4ht6","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-tic4ht6","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"插入数据"}]},{"ID":"20240619231746-okszhno","Type":"NodeParagraph","Properties":{"id":"20240619231746-okszhno","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"插入数据到数据库中同样非常简单，我们使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Insert"},{"Type":"NodeText","Data":"​方法即可："}]},{"ID":"20240619231746-l5hiut8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-l5hiut8","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"user := User{\n    Name:   \"John\",\n    Salt:   \"123456\",\n    Age:    30,\n    Passwd: \"secret\",\n}\n\naffected, err := engine.Insert(\u0026user)\nif err != nil {\n    log.Fatalf(\"Failed to insert user: %v\", err)\n}\nfmt.Printf(\"Inserted %d rows\\n\", affected)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-ksgruul","Type":"NodeParagraph","Properties":{"id":"20240619231746-ksgruul","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"上面的代码中，我们创建了一个"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"User"},{"Type":"NodeText","Data":"​实例，并将其插入到数据库中。"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Insert"},{"Type":"NodeText","Data":"​方法返回受影响的行数。"}]},{"ID":"20240619231746-ilbiyfg","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-ilbiyfg","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"查询数据"}]},{"ID":"20240619231746-l0ypamq","Type":"NodeParagraph","Properties":{"id":"20240619231746-l0ypamq","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"使用Xorm查询数据非常方便，如下所示："}]},{"ID":"20240619231746-swv9heo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-swv9heo","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"var user User\nhas, err := engine.ID(1).Get(\u0026user)\nif err != nil {\n    log.Fatalf(\"Failed to get user: %v\", err)\n}\nif has {\n    fmt.Printf(\"User: %v\\n\", user)\n} else {\n    fmt.Println(\"User not found\")\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-4tpqge9","Type":"NodeParagraph","Properties":{"id":"20240619231746-4tpqge9","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"这里，我们通过用户的ID查询一个用户信息。"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Get"},{"Type":"NodeText","Data":"​方法返回一个布尔值，表示是否查询到记录。"}]},{"ID":"20240619231746-dlbf8w9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-dlbf8w9","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"更新数据"}]},{"ID":"20240619231746-1yei7s4","Type":"NodeParagraph","Properties":{"id":"20240619231746-1yei7s4","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"更新数据只需要使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Update"},{"Type":"NodeText","Data":"​方法："}]},{"ID":"20240619231746-6ydm3lb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-6ydm3lb","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"user.Name = \"John Doe\"\naffected, err := engine.ID(user.Id).Update(\u0026user)\nif err != nil {\n    log.Fatalf(\"Failed to update user: %v\", err)\n}\nfmt.Printf(\"Updated %d rows\\n\", affected)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-5e0p1z8","Type":"NodeParagraph","Properties":{"id":"20240619231746-5e0p1z8","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"上述代码中，我们修改了用户的名称，并调用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Update"},{"Type":"NodeText","Data":"​方法将其保存到数据库中。"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ID"},{"Type":"NodeText","Data":"​方法用于指定要更新记录的ID。"}]},{"ID":"20240619231746-v68s22m","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-v68s22m","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"删除数据"}]},{"ID":"20240619231746-7p6upj3","Type":"NodeParagraph","Properties":{"id":"20240619231746-7p6upj3","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Delete"},{"Type":"NodeText","Data":"​方法删除数据："}]},{"ID":"20240619231746-4dd2aes","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-4dd2aes","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"affected, err := engine.ID(user.Id).Delete(\u0026User{})\nif err != nil {\n    log.Fatalf(\"Failed to delete user: %v\", err)\n}\nfmt.Printf(\"Deleted %d rows\\n\", affected)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-mdiadne","Type":"NodeParagraph","Properties":{"id":"20240619231746-mdiadne","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"这里，我们通过用户ID删除了一条记录。"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Delete"},{"Type":"NodeText","Data":"​方法返回受影响的行数。"}]},{"ID":"20240619231746-x6ssl9x","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240619231746-x6ssl9x","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"事务处理"}]},{"ID":"20240619231746-tx3874q","Type":"NodeParagraph","Properties":{"id":"20240619231746-tx3874q","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"Xorm也提供了事务处理的支持，使得我们能够更加安全地进行多次数据库操作："}]},{"ID":"20240619231746-xuhtgom","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240619231746-xuhtgom","updated":"20240619231747"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"session := engine.NewSession()\ndefer session.Close()\n\nif err := session.Begin(); err != nil {\n    log.Fatalf(\"Failed to begin transaction: %v\", err)\n}\n\n// Perform multiple actions\nif _, err := session.Insert(\u0026user); err != nil {\n    session.Rollback()\n    log.Fatalf(\"Failed to insert user: %v\", err)\n}\n\nif err := session.Commit(); err != nil {\n    log.Fatalf(\"Failed to commit transaction: %v\", err)\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240619231746-c6rcysj","Type":"NodeParagraph","Properties":{"id":"20240619231746-c6rcysj","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"在上面的代码中，我们创建了一个Session，并通过"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Begin"},{"Type":"NodeText","Data":"​方法开启了一个事务。我们在事务中进行多次数据库操作，如果出现错误，则通过"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Rollback"},{"Type":"NodeText","Data":"​方法回滚事务。如果没有错误，则调用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Commit"},{"Type":"NodeText","Data":"​方法提交事务。"}]},{"ID":"20240619231746-0gj913w","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240619231746-0gj913w","updated":"20240619231746"},"Children":[{"Type":"NodeText","Data":"结论"}]},{"ID":"20240619231746-kczjdvm","Type":"NodeParagraph","Properties":{"id":"20240619231746-kczjdvm","updated":"20240619231747"},"Children":[{"Type":"NodeText","Data":"Xorm作为Go语言中的一种强大而简洁的ORM工具，通过其友好的API和丰富的功能，使得开发人员可以更加高效地进行数据库操作。从建表、插入、查询、更新到删除，再到事务处理，Xorm都提供了简洁优雅的解决方案。不论是在个人项目还是企业级应用中，Xorm都是一个值得推荐的选择。"}]}]}